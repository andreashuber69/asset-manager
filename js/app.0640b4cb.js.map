{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AssetEditor.vue?3db5","webpack:///./src/assets/btgexp.jpg","webpack:///./src/assets/sochain.png","webpack:///./src/assets/quandl.svg","webpack:///./src/components/TextField.vue?163e","webpack:///./src/components/Select.vue?fed8","webpack:///./src/assets/gastracker.png","webpack:///./src/components/AssetList.vue?18d1","webpack:///./src/assets/blockcypher.svg","webpack:///./src/assets/blockchain.svg","webpack:///./src/App.vue?8b0d","webpack:///./src/assets/coinmarketcap.svg","webpack:///./src/components/TextArea.vue?4692","webpack:///./src/assets/ethplorer.png","webpack:///./src/components/AssetListRow.vue?8bf4","webpack:///./src/model/WeightUnit.ts","webpack:///./src/App.vue?2a9d","webpack:///./src/components/AssetList.vue?ce81","webpack:///./src/model/Asset.ts","webpack:///./src/model/AssetBundle.ts","webpack:///./src/model/AssetGroup.ts","webpack:///./src/model/AssetTypes.ts","webpack:///./src/model/QueryCache.ts","webpack:///./src/model/Value.ts","webpack:///./src/model/CoinMarketCapRequest.ts","webpack:///./src/model/ICryptoWallet.ts","webpack:///./src/model/CryptoWallet.ts","webpack:///./src/model/GenericAssetBundle.ts","webpack:///./src/model/BtcWallet.ts","webpack:///./src/model/BtgWallet.ts","webpack:///./src/model/Input.ts","webpack:///./src/model/InputInfo.ts","webpack:///./src/model/PrimitiveInputInfo.ts","webpack:///./src/model/TextInputInfo.ts","webpack:///./src/model/AssetInputInfo.ts","webpack:///./src/model/SelectInputInfo.ts","webpack:///./src/model/CryptoWalletInputInfo.ts","webpack:///./src/model/BlockcypherRequest.ts","webpack:///./src/model/BlockcypherWallet.ts","webpack:///./src/model/DashWallet.ts","webpack:///./src/model/EtcWallet.ts","webpack:///./src/model/Erc20TokenWallet.ts","webpack:///./src/model/EthWallet.ts","webpack:///./src/model/IPreciousMetalAsset.ts","webpack:///./src/model/PreciousMetalAssetInputInfo.ts","webpack:///./src/model/QuandlRequest.ts","webpack:///./src/model/PreciousMetalAsset.ts","webpack:///./src/model/GoldAsset.ts","webpack:///./src/model/LtcWallet.ts","webpack:///./src/model/PalladiumAsset.ts","webpack:///./src/model/PlatinumAsset.ts","webpack:///./src/model/SilverAsset.ts","webpack:///./src/model/ZecWallet.ts","webpack:///./src/model/AssetInput.ts","webpack:///./src/model/Model.ts","webpack:///./src/components/AssetEditor.vue?bcc1","webpack:///./src/components/AssetEditorData.ts","webpack:///./src/components/AssetProperties.ts","webpack:///./src/components/ComponentBase.ts","webpack:///./src/components/NoAssetInputInfo.ts","webpack:///./src/components/Select.vue?61c0","webpack:///./src/components/ControlBase.ts","webpack:///./src/components/Select.vue.ts","webpack:///./src/components/Select.vue.ts?4a31","webpack:///./src/components/Select.vue","webpack:///./src/components/TextArea.vue?71d1","webpack:///./src/components/TextArea.vue.ts","webpack:///./src/components/TextArea.vue.ts?76a4","webpack:///./src/components/TextArea.vue","webpack:///./src/components/TextField.vue?907c","webpack:///./src/components/TextField.vue.ts","webpack:///./src/components/TextField.vue.ts?9d65","webpack:///./src/components/TextField.vue","webpack:///./src/components/AssetEditor.vue.ts","webpack:///./src/components/AssetEditor.vue.ts?7903","webpack:///./src/components/AssetEditor.vue","webpack:///./src/components/AssetListRow.vue?09f2","webpack:///./src/components/Format.ts","webpack:///./src/components/AssetListRow.vue.ts","webpack:///./src/components/AssetListRow.vue.ts?883a","webpack:///./src/components/AssetListRow.vue","webpack:///./src/components/AssetList.vue.ts","webpack:///./src/components/AssetList.vue.ts?352f","webpack:///./src/components/AssetList.vue","webpack:///./src/App.vue.ts","webpack:///./src/App.vue.ts?7de1","webpack:///./src/App.vue","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetEditor_vue_vue_type_style_index_0_id_32feafae_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextField_vue_vue_type_style_index_0_id_ae68c04a_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Select_vue_vue_type_style_index_0_id_2de11041_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetList_vue_vue_type_style_index_0_id_0e670ad0_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextArea_vue_vue_type_style_index_0_id_436b9b9c_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetListRow_vue_vue_type_style_index_0_id_0abef6cd_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","WeightUnit","render","_vm","this","_h","$createElement","_c","_self","attrs","id","temporary","app","model","callback","$$v","isDrawerVisible","expression","dense","on","click","onOpenClicked","_v","ref","staticStyle","display","type","accept","fileExtension","change","onFileInputChanged","onSaveClicked","dark","color","$event","stopPropagation","onMenuClicked","staticClass","_s","title","icon","assetList","onAdd","max-height","slot","groupBy","_l","newGroupBy","domProps","textContent","currency","newCurrency","justify-center","height","persistent","width","areDataProvidersVisible","flat","round","column","href","target","src","staticRenderFns","AssetListvue_type_template_id_0e670ad0_scoped_true_render","row","checkedValue","items","assets","item-key","pagination","loading","isLoading","headers-length","total-items","hide-actions","update:pagination","scopedSlots","_u","fn","props","class","getHeaderClass","changeSort","groupByLabel","small","otherGroupBys","otherGroupByLabels","colspan","item","visibleColumnCount","optionalColumnCount","edit","onEdit","delete","onDelete","indeterminate","getFooterClass","grandTotalLabelColumnCount","grandTotalValueInteger","grandTotalValueFraction","AssetListvue_type_template_id_0e670ad0_scoped_true_staticRenderFns","Asset","parent","nextKey","unitValueUsd","undefined","multiply","exchangeRate","quantity","unitValue","totalValue","grandTotalValue","queryData","Promise","bundle","Error","expand","getPropertyName","getCalculatedPropertyName","factor1","factor2","typeName","descriptionName","locationName","addressName","unitName","weightName","weightUnitName","finenessName","unitValueName","quantityName","notesName","totalValueName","percentName","AssetBundle","primaryAssetName","AssetGroup","_super","_this","isExpanded","__extends","coalesce","a","description","location","unit","fineness","reduce","add","displayDecimals","notes","toJSON","addend1","addend2","getProperty","previous","index","silverAssetType","palladiumAssetType","platinumAssetType","goldAssetType","btcWalletType","ltcWalletType","etcWalletType","ethWalletType","erc20TokenWalletType","btgWalletType","dashWalletType","zecWalletType","QueryCache","fetch","query","cache","fetchImpl","set","_b","_a","JSON","parse","_d","sent","text","error","Map","Value","isBoolean","isNumber","isString","isObject","isArray","Array","hasBooleanProperty","propertyName","hasProperty","hasNumberProperty","hasStringProperty","hasObjectProperty","hasArrayProperty","getPropertyTypeMismatch","actual","expected","_i","arguments","addPropertyName","getTypeMismatch","__spread","actualType","getTypeName","expectedTypes","getUnknownValue","displayValue","rest","CoinMarketCapRequest_CoinMarketCapRequest","CoinMarketCapRequest","coin","invert","execute","getPrice","price","response","Number","parseFloat","price_usd","NaN","cryptoWalletSuperType","CryptoWallet_CryptoWallet","CryptoWallet","properties","currencySymbol","slug","superType","address","CryptoWallet_extends","GenericAssetBundle","asset","GenericAssetBundle_extends","deleteAsset","indexOf","primaryAsset","BtcWallet_BtcWallet","BtcWallet","BtcWallet_extends","QuantityRequest","queryQuantity","BlockchainRequest","NestedBlockchainRequest","addresses","join","getFinalBalance","finalBalance","transactionCount","balance","n_tx","isNaN","final_balance","NestedQuantityRequest","delay","fromBase58","addChain","derive","milliseconds","resolve","setTimeout","getBatch","node","offset","batchLength","start","Date","now","getAddress","batch","BtgWallet_BtgWallet","BtgWallet","BtgWallet_extends","BtgexpRequest","NestedBtgexpRequest","getBalance","InputUtility","isComposite","input","InputInfo_InputInfo","InputInfo","validate","strict","validateComposite","validatePrimitive","PrimitiveInputInfo_PrimitiveInputInfo","PrimitiveInputInfo","label","hint","isPresent","isRequired","PrimitiveInputInfo_extends","ctor","validateContent","TextInputInfo_TextInputInfo","TextInputInfo","min","max","step","TextInputInfo_extends","numericValue","EPSILON","format","bottom","lower","Math","floor","upper","maxError","getMaxError","lowerText","upperText","epsilonFactor","toLocaleString","maximumFractionDigits","log10","abs","AssetInputInfo_AssetInputInfo","AssetInputInfo","includeRelations","AssetInputInfo_extends","createAsset","validateAll","results","weight","weightUnit","message","singleResult","validateRelations","SelectInputInfo","SelectInputInfo_extends","CryptoWalletInputInfo_CryptoWalletInputInfo","CryptoWalletInputInfo","addressHint","quantityDecimals","pow","CryptoWalletInputInfo_extends","isUndefined","BlockcypherRequest_BlockcypherRequest","BlockcypherRequest","BlockcypherWallet_BlockcypherWallet","BlockcypherWallet","BlockcypherWallet_extends","toLowerCase","DashWallet_DashWallet","DashWallet","DashWallet_extends","EtcWallet_EtcWallet","EtcWallet","EtcWallet_extends","GastrackerRequest","NestedGastrackerRequest","ether","Erc20TokenWallet_Erc20TokenWallet","Erc20TokenWallet","Erc20TokenWallet_extends","EthWallet_EthWallet","EthWallet","EthWallet_extends","EthBundle","getQuantity","ETH","addQuantity","NestedEthBundle","ethWallet","deletedAssets","deletedAssetsName","filter","_e","balances","__values","tokens","next","done","token","addTokenWallet","getName","info","tokenInfo","symbol","newProperties","__assign","decimals","toString","rate","preciousMetalSuperType","WeightUnits","Gram","Kilogram","Grain","TroyOunce","AvdpOunce","toWeightUnit","str","unitMap","getAllStrings","keys","getMapEntries","weightUnitProperty","PreciousMetalAssetInputInfo_PreciousMetalAssetInputInfo","PreciousMetalAssetInputInfo","weightStep","from","finenessStep","PreciousMetalAssetInputInfo_extends","weightDigits","finenessDigits","QuandlRequest_QuandlRequest","QuandlRequest","path","dataset","array","PreciousMetalAsset_PreciousMetalAsset","PreciousMetalAsset","quandlPath","pureGramsPerUnit","PreciousMetalAsset_extends","getUnit","unitFormatOptions","minimumFractionDigits","useGrouping","GoldAsset_GoldAsset","GoldAsset","GoldAsset_extends","LtcWallet_LtcWallet","LtcWallet","LtcWallet_extends","PalladiumAsset_PalladiumAsset","PalladiumAsset","PalladiumAsset_extends","PlatinumAsset_PlatinumAsset","PlatinumAsset","PlatinumAsset_extends","SilverAsset_SilverAsset","SilverAsset","SilverAsset_extends","ZecWallet_ZecWallet","ZecWallet","ZecWallet_extends","SoChainRequest","NestedSoChainRequest","status","confirmed_balance","btcHint","ltcHint","etcHint","ethHint","btgHint","dashHint","zecHint","AssetInput_AssetInput","AssetInput","parseBundle","rawBundle","parseAsset","rawAsset","assetInfo","infos","find","validationResult","hasProperties","raw","Model_Model","Model","groupBys","groups","onChanged","bundles","currencyImpl","currencyMap","groupByImpl","sortImpl","by","descending","json","rawModel","e","versionName","version","nameName","currencyName","currency_1","currencies","findIndex","groupByName","isGroupBy","sortName","sort","isSort","bundlesName","Model_values","update","Model_spread","isSortBy","sortBy","notifyChanged","onCurrencyChanged","catch","reason","console","map","g","capitalize","doSort","group","toJsonString","stringify","addAsset","b","replaceAsset","oldAsset","newAsset","getModelName","getSortName","sortByName","sortDescendingName","toUpperCase","substr","queryBundleData","newBundles","updateImpl","updateGroups","promises","delayId","MAX_SAFE_INTEGER","size","has","race","values","newGroups","newGroup","existingGroup","this_1","newGroups_1","newGroups_1_1","_f","groupName","groupAssets","compare","left","right","compareImpl","leftProperty","rightProperty","request","AssetEditorvue_type_template_id_32feafae_scoped_true_render","max-width","isOpen","grid-list-md","wrap","large","typeInputInfo","nativeOn","onCancelClicked","AssetEditorvue_type_template_id_32feafae_scoped_true_staticRenderFns","AssetEditorData_AssetEditorData","AssetEditorData","AssetProperties_AssetProperties","AssetProperties","ComponentBase_ComponentBase","ComponentBase","ComponentBase_extends","$emit","getControl","$refs","__decorate","vue_property_decorator","NoAssetInputInfo_NoAssetInputInfo","NoAssetInputInfo","NoAssetInputInfo_extends","Selectvue_type_template_id_2de11041_scoped_true_render","xs12","sm12","md6","required","rules","propertyValue","Selectvue_type_template_id_2de11041_scoped_true_staticRenderFns","ControlBase_ControlBase","ControlBase","ControlBase_extends","primitiveInputInfo","checkedProperty","checkedInfo","ControlBase_decorate","Select_vuevue_type_script_lang_ts_Select","Select","Select_vuevue_type_script_lang_ts_extends","Select_vuevue_type_script_lang_ts_decorate","components_Select_vuevue_type_script_lang_ts","component","componentNormalizer","components_Select","TextAreavue_type_template_id_436b9b9c_scoped_true_render","TextAreavue_type_template_id_436b9b9c_scoped_true_staticRenderFns","TextArea_vuevue_type_script_lang_ts_TextArea","TextArea","TextArea_vuevue_type_script_lang_ts_extends","TextArea_vuevue_type_script_lang_ts_decorate","components_TextArea_vuevue_type_script_lang_ts","TextArea_component","components_TextArea","TextFieldvue_type_template_id_ae68c04a_scoped_true_render","TextFieldvue_type_template_id_ae68c04a_scoped_true_staticRenderFns","TextField_vuevue_type_script_lang_ts_TextField","TextField","TextField_vuevue_type_script_lang_ts_extends","TextField_vuevue_type_script_lang_ts_decorate","components_TextField_vuevue_type_script_lang_ts","TextField_component","components_TextField","AssetEditor_vuevue_type_script_lang_ts_AssetEditor","AssetEditor","editedAsset","AssetEditor_vuevue_type_script_lang_ts_extends","event","isValid","save","close","interface","reset","AssetEditor_vuevue_type_script_lang_ts_decorate","components","components_AssetEditor_vuevue_type_script_lang_ts","AssetEditor_component","components_AssetEditor","AssetListRowvue_type_template_id_0abef6cd_scoped_true_render","onRowClicked","getClass","groupByHint","groupByContent","otherGroupByHints","otherGroupByContents","finenessInteger","finenessFraction","unitValueInteger","unitValueFraction","quantityInteger","quantityFraction","totalValueInteger","totalValueFraction","percentInteger","percentFraction","disabled","isEditable","onEditClicked","onDeleteClicked","AssetListRowvue_type_template_id_0abef6cd_scoped_true_staticRenderFns","Format","integer","num","formatted","substring","getDecimalPointPosition","fraction","decimalPointPosition","lastIndexOf","AssetListRow_vuevue_type_script_lang_ts_AssetListRow","AssetListRow","AssetListRow_vuevue_type_script_lang_ts_extends","allColumnCounts","getRawColumnCount","rawColumnCounts","getClassImpl","columnName","isHidden","finenessFractionName","unitValueFractionName","quantityFractionName","totalValueFractionName","percentFractionName","grandTotalLabelName","finenessIntegerName","unitValueIntegerName","quantityIntegerName","totalValueIntegerName","percentIntegerName","columnPadding","leftClass","rightClass","expandName","moreName","getHint","trunc","AssetListRow_1","finenessFormatOptions","percent","checkedOptionalColumnCount","getColumns","allColumns","locationHint","AssetListRow_vuevue_type_script_lang_ts_decorate","components_AssetListRow_vuevue_type_script_lang_ts","AssetListRow_component","components_AssetListRow","AssetList_vuevue_type_script_lang_ts_AssetList","AssetList","optionalColumnCountImpl","maxOptionalColumnCount","previousOffset","AssetList_vuevue_type_script_lang_ts_extends","rowsPerPage","currentSort","assetEditor","mounted","timer","setInterval","onIntervalElapsed","beforeDestroy","clearInterval","$el","offsetLeft","offsetWidth","requiredColumnCount","AssetList_vuevue_type_script_lang_ts_decorate","components_AssetList_vuevue_type_script_lang_ts","AssetList_component","components_AssetList","App_vuevue_type_script_lang_ts_App","App","initModel","App_1","loadFromLocalStorage","addEventListener","ev","onBeforeUnload","App_vuevue_type_script_lang_ts_extends","fileInput","files","file","read","endsWith","blob","Blob","write","fileName","groupByLabels","rawGroupBy","localStorageKey","getLocalStorageKey","emptyModelLocalStorageKey","sessionStorage","removeItem","sessionStorageKey","localStorage","getItem","reject","reader","FileReader","onload","onerror","readAsText","alert","filename","navigator","msSaveOrOpenBlob","msSaveBlob","elem","document","createElement","URL","createObjectURL","download","body","appendChild","removeChild","localStorageKeyNumber","parseInt","NEGATIVE_INFINITY","saveToLocalStorage","trySaveToLocalStorage","setItem","uniqueNumber","random","isSafeInteger","uniqueKey","onModelChanged","App_vuevue_type_script_lang_ts_decorate","src_App_vuevue_type_script_lang_ts","App_component","src_App","vue_runtime_esm","config","productionTip","use","vuetify_default","h","$mount"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,aAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,kBAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,MAAA,OAEAU,qICtJoc0C,EAAA,0BCApc9B,EAAAD,QAAAJ,EAAA8B,EAAA,oECAAzB,EAAAD,QAAAJ,EAAA8B,EAAA,mDCAAzB,EAAAD,QAAAJ,EAAA8B,EAAA,0GCAkcM,EAAA,gECAHC,EAAA,kHCA/bhC,EAAAD,QAAA,qzKCAkckC,EAAA,0BCAlcjC,EAAAD,QAAAJ,EAAA8B,EAAA,qDCAAzB,EAAAD,QAAAJ,EAAA8B,EAAA,0FCAkZS,EAAA,wBCAlZlC,EAAAD,QAAAJ,EAAA8B,EAAA,6FCAicU,EAAA,6CCAjcnC,EAAAD,QAAA,grHCAqcqC,EAAA,0DCazbC,mCCbZC,aAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,SAAAA,EAAA,uBAAwCE,OAAOE,UAAA,GAAAC,IAAA,IAAwBC,OAAQnC,MAAAyB,EAAA,gBAAAW,SAAA,SAAAC,GAAqDZ,EAAAa,gBAAAD,GAAwBE,WAAA,qBAA+BV,EAAA,UAAeE,OAAOS,MAAA,MAAYX,EAAA,eAAoBY,IAAIC,MAAAjB,EAAAkB,iBAA2Bd,EAAA,sBAAAA,EAAA,UAAAJ,EAAAmB,GAAA,yBAAAf,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAmB,GAAA,aAAAf,EAAA,SAA0JgB,IAAA,YAAAC,aAA6BC,QAAA,QAAiBhB,OAAQiB,KAAA,OAAAC,OAAAxB,EAAAU,MAAAe,eAA+CT,IAAKU,OAAA1B,EAAA2B,uBAAiC,OAAAvB,EAAA,eAA4BY,IAAIC,MAAAjB,EAAA4B,iBAA2BxB,EAAA,sBAAAA,EAAA,UAAAJ,EAAAmB,GAAA,cAAAf,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAmB,GAAA,6BAAAf,EAAA,aAAmKE,OAAOG,IAAA,GAAAoB,KAAA,GAAAC,MAAA,aAAsC1B,EAAA,uBAA4BY,IAAIC,MAAA,SAAAc,GAAkD,OAAzBA,EAAAC,kBAAyBhC,EAAAiC,cAAAF,OAAmC3B,EAAA,mBAAwB8B,YAAA,mBAA6B9B,EAAA,UAAAJ,EAAAmB,GAAA,4BAAAnB,EAAAmB,GAAA,KAAAnB,EAAAmC,GAAAnC,EAAAU,MAAA0B,SAAA,GAAAhC,EAAA,YAAAA,EAAA,SAAsH8B,YAAA,YAAA5B,OAA+B+B,KAAA,GAAAD,MAAA,iBAAkCpB,IAAKC,MAAA,SAAAc,GAAkD,OAAzBA,EAAAC,kBAAyBhC,EAAAsC,UAAAC,MAAAR,OAAqC3B,EAAA,UAAAJ,EAAAmB,GAAA,aAAAf,EAAA,UAAgDE,OAAO8B,MAAA,kBAAAI,aAAA,WAAgDpC,EAAA,mBAAwB8B,YAAA,YAAA5B,OAA+BmC,KAAA,aAAmBA,KAAA,cAAkBrC,EAAA,QAAAJ,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA0C,YAAAtC,EAAA,UAAAJ,EAAAmB,GAAA,yBAAAf,EAAA,SAAAJ,EAAA2C,GAAA3C,EAAA,kBAAA4C,GAA+I,OAAAxC,EAAA,eAAyBvB,IAAA+D,EAAA5B,IAAmBC,MAAA,SAAAc,GAAyB/B,EAAA0C,QAAAE,MAA2BxC,EAAA,qBAA0ByC,UAAUC,YAAA9C,EAAAmC,GAAAS,OAAkC,OAAM,GAAAxC,EAAA,UAAoBE,OAAO8B,MAAA,4BAAAI,aAAA,WAA0DpC,EAAA,mBAAwB8B,YAAA,YAAA5B,OAA+BmC,KAAA,aAAmBA,KAAA,cAAkBrC,EAAA,QAAAJ,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAU,MAAAqC,aAAA3C,EAAA,UAAAJ,EAAAmB,GAAA,yBAAAf,EAAA,SAAAJ,EAAA2C,GAAA3C,EAAAU,MAAA,oBAAAsC,GAA+J,OAAA5C,EAAA,eAAyBvB,IAAAmE,EAAAhC,IAAoBC,MAAA,SAAAc,GAAyB/B,EAAAU,MAAAqC,SAAAC,MAAmC5C,EAAA,qBAA0ByC,UAAUC,YAAA9C,EAAAmC,GAAAa,OAAmC,OAAM,OAAA5C,EAAA,aAAAA,EAAA,eAAAA,EAAA,YAA4DE,OAAO2C,iBAAA,MAAqB7C,EAAA,aAAkBgB,IAAA,YAAAd,OAAuB/B,MAAAyB,EAAAU,UAAmB,WAAAN,EAAA,YAA6BE,OAAOG,IAAA,GAAAoB,KAAA,GAAAC,MAAA,UAAAoB,OAAA,UAAsD9C,EAAA,YAAiBE,OAAO2C,iBAAA,MAAqB7C,EAAA,YAAiBE,OAAO6C,WAAA,GAAAC,MAAA,OAA8B1C,OAAQnC,MAAAyB,EAAA,wBAAAW,SAAA,SAAAC,GAA6DZ,EAAAqD,wBAAAzC,GAAgCE,WAAA,6BAAuCV,EAAA,SAAcE,OAAOmC,KAAA,YAAAa,KAAA,GAAAC,MAAA,IAAwCd,KAAA,cAAkBzC,EAAAmB,GAAA,oBAAAf,EAAA,UAAAA,EAAA,gBAA6D8B,YAAA,aAAuBlC,EAAAmB,GAAA,oBAAAf,EAAA,eAAAA,EAAA,YAA8DE,OAAOkD,OAAA,GAAAP,iBAAA,MAAiC7C,EAAA,KAAU8B,YAAA,mBAA6BlC,EAAAmB,GAAA,qLAAAf,EAAA,SAA0ME,OAAOmD,KAAA,4BAAAC,OAAA,SAAAJ,KAAA,MAAgElD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,UAA2D9C,EAAA,SAAgBE,OAAOmD,KAAA,0BAAAC,OAAA,SAAAJ,KAAA,MAA8DlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,UAAwD9C,EAAA,SAAgBE,OAAOmD,KAAA,0BAAAC,OAAA,SAAAJ,KAAA,MAA8DlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,UAAyD9C,EAAA,SAAgBE,OAAOmD,KAAA,wBAAAC,OAAA,SAAAJ,KAAA,MAA4DlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,QAAwDlD,EAAAmB,GAAA,sCAAAf,EAAA,SAA2DE,OAAOmD,KAAA,uBAAAC,OAAA,SAAAJ,KAAA,MAA2DlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,UAAuD9C,EAAA,SAAgBE,OAAOmD,KAAA,qBAAAC,OAAA,SAAAJ,KAAA,MAAyDlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,UAAoD9C,EAAA,SAAgBE,OAAOmD,KAAA,mBAAAC,OAAA,SAAAJ,KAAA,MAAuDlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,UAAqD9C,EAAA,SAAgBE,OAAOmD,KAAA,qBAAAC,OAAA,SAAAJ,KAAA,MAAyDlD,EAAA,OAAYE,OAAOqD,IAAAvG,EAAA,QAAA8F,OAAA,WAAoD,OAAA9C,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAA4DE,OAAOwB,MAAA,WAAkBd,IAAKC,MAAA,SAAAc,GAAyB/B,EAAAqD,yBAAA,MAAsCrD,EAAAmB,GAAA,uBAAAf,EAAA,SAA4CE,OAAOmD,KAAA,kDAAAC,OAAA,SAAAJ,KAAA,GAAAC,MAAA,MAAiGvD,EAAAmB,GAAA,mCACj4JyC,iBCDAC,EAAA,WAA0B,IAAA7D,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,YAAgCE,OAAOwD,IAAA,GAAAb,iBAAA,MAA8B7C,EAAA,eAAoBgB,IAAA,SAAAd,OAAoB/B,MAAAyB,EAAA+D,iBAA0B,GAAA3D,EAAA,gBAAyB8B,YAAA,cAAA5B,OAAiC0D,MAAAhE,EAAA+D,aAAAE,OAAAC,WAAA,MAAAC,WAAAnE,EAAAmE,WAAAC,QAAApE,EAAAqE,UAAAC,iBAAA,GAAAC,cAAAvE,EAAA+D,aAAAE,OAAAhI,OAAAuI,eAAA,IAAwLxD,IAAKyD,oBAAA,SAAA1C,GAAqC/B,EAAAmE,WAAApC,IAAuB2C,YAAA1E,EAAA2E,KAAsB9F,IAAA,UAAA+F,GAAA,SAAAC,GAAiC,OAAAzE,EAAA,MAAiB0E,MAAA9E,EAAA+E,eAAA,YAAmC3E,EAAA,MAAW0E,MAAA9E,EAAA+E,eAAA/E,EAAA+D,aAAArB,SAAA1B,IAAuDC,MAAA,SAAAc,GAAyB/B,EAAAgF,WAAAhF,EAAA+D,aAAArB,aAA2C1C,EAAAmB,GAAA,aAAAnB,EAAAmC,GAAAnC,EAAA+D,aAAAkB,cAAA,KAAA7E,EAAA,UAA8EE,OAAO4E,MAAA,MAAYlF,EAAAmB,GAAA,sBAAAf,EAAA,MAAwC0E,MAAA9E,EAAA+E,eAAA/E,EAAA+D,aAAAoB,cAAA,IAAAnE,IAAgEC,MAAA,SAAAc,GAAyB/B,EAAAgF,WAAAhF,EAAA+D,aAAAoB,cAAA,QAAoDnF,EAAAmB,GAAA,aAAAnB,EAAAmC,GAAAnC,EAAA+D,aAAAqB,mBAAA,SAAAhF,EAAA,UAAuFE,OAAO4E,MAAA,MAAYlF,EAAAmB,GAAA,sBAAAf,EAAA,MAAwC0E,MAAA9E,EAAA+E,eAAA,eAAA/D,IAA4CC,MAAA,SAAAc,GAAyB/B,EAAAgF,WAAA,mBAAgChF,EAAAmB,GAAA,0BAAAf,EAAA,UAAgDE,OAAO4E,MAAA,MAAYlF,EAAAmB,GAAA,sBAAAf,EAAA,MAAwC0E,MAAA9E,EAAA+E,eAAA,UAAiC/E,EAAAmB,GAAA,UAAAf,EAAA,MAA4B0E,MAAA9E,EAAA+E,eAAA,YAAAzE,OAA4C+E,QAAA,OAAerF,EAAAmB,GAAA,cAAAf,EAAA,MAAgC0E,MAAA9E,EAAA+E,eAAA,aAAAzE,OAA6C+E,QAAA,KAAcrE,IAAKC,MAAA,SAAAc,GAAyB/B,EAAAgF,WAAA,iBAA8BhF,EAAAmB,GAAA,yBAAAf,EAAA,UAA+CE,OAAO4E,MAAA,MAAYlF,EAAAmB,GAAA,kBAAAf,EAAA,MAAAJ,EAAAmB,GAAA,IAAAnB,EAAAmC,GAAAnC,EAAA+D,aAAAhB,UAAA,iBAAA3C,EAAA,MAA2G0E,MAAA9E,EAAA+E,eAAA,YAAAzE,OAA4C+E,QAAA,OAAerF,EAAAmB,GAAA,cAAAf,EAAA,MAAgC0E,MAAA9E,EAAA+E,eAAA,cAAAzE,OAA8C+E,QAAA,KAAcrE,IAAKC,MAAA,SAAAc,GAAyB/B,EAAAgF,WAAA,kBAA+BhF,EAAAmB,GAAA,0BAAAf,EAAA,UAAgDE,OAAO4E,MAAA,MAAYlF,EAAAmB,GAAA,kBAAAf,EAAA,MAAAJ,EAAAmB,GAAA,IAAAnB,EAAAmC,GAAAnC,EAAA+D,aAAAhB,UAAA,iBAAA3C,EAAA,MAA2G0E,MAAA9E,EAAA+E,eAAA,WAAAzE,OAA2C+E,QAAA,OAAerF,EAAAmB,GAAA,OAAAf,EAAA,MAAyB0E,MAAA9E,EAAA+E,eAAA,cAAuClG,IAAA,QAAA+F,GAAA,SAAAC,GAA+B,OAAAzE,EAAA,gBAA2BE,OAAO/B,MAAAsG,EAAAS,KAAAC,mBAAAvF,EAAAwF,qBAAgExE,IAAKyE,KAAAzF,EAAA0F,OAAAC,OAAA3F,EAAA4F,mBAAgDxF,EAAA,qBAA0BE,OAAOmC,KAAA,WAAAoD,cAAA,IAAqCpD,KAAA,aAAiBrC,EAAA,YAAiBqC,KAAA,WAAcrC,EAAA,MAAW0E,MAAA9E,EAAA8F,eAAA,mBAAAxF,OAAmD+E,QAAArF,EAAA+F,8BAA0C/F,EAAAmB,GAAA,iBAAAf,EAAA,MAAmC0E,MAAA9E,EAAA8F,eAAA,uBAA8C9F,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAgG,2BAAA5F,EAAA,MAAwD0E,MAAA9E,EAAA8F,eAAA,wBAA+C9F,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAiG,4BAAA7F,EAAA,MAAyD0E,MAAA9E,EAAA8F,eAAA,oBAA2C9F,EAAAmB,GAAA,SAAAf,EAAA,MAA2B0E,MAAA9E,EAAA8F,eAAA,qBAA4C9F,EAAAmB,GAAA,QAAAf,EAAA,MAA0B0E,MAAA9E,EAAA8F,eAAA,aAAiC,QACtmGI,i0CC4BAC,EAAA,WA8GI,SAAAA,EAAsBC,GA9FNnG,KAAApB,IAAMsH,EAAME,UAwFlBpG,KAAAqG,kBAAmCC,EAOzCtG,KAAKmG,OAASA,EAkBtB,OA5GIhK,OAAA6B,eAAWkI,EAAA9J,UAAA,oBAAX,WACI,OAAO,mCAaXD,OAAA6B,eAAWkI,EAAA9J,UAAA,oBAAX,WACI,MAAO,oCAmBXD,OAAA6B,eAAWkI,EAAA9J,UAAA,iBAAX,WACI,OAAO8J,EAAMK,SAASvG,KAAKqG,aAAcrG,KAAKmG,OAAOK,+CAIzDrK,OAAA6B,eAAWkI,EAAA9J,UAAA,kBAAX,WACI,OAAO8J,EAAMK,SAASvG,KAAKyG,SAAUzG,KAAK0G,4CAI9CvK,OAAA6B,eAAWkI,EAAA9J,UAAA,eAAX,WACI,YAA4BkK,IAApBtG,KAAK2G,iBAA8DL,IAAhCtG,KAAKmG,OAAOS,qBACnDN,EAAYtG,KAAK2G,WAAa3G,KAAKmG,OAAOS,gBAAkB,qCAIpEzK,OAAA6B,eAAWkI,EAAA9J,UAAA,kBAAX,WACI,OAAO,mCAIXD,OAAA6B,eAAWkI,EAAA9J,UAAA,kBAAX,WACI,OAAO,mCAKE8J,EAAA9J,UAAAyK,UAAb,gCAA0BC,QAAO,oDAW1BZ,EAAA9J,UAAA2K,OAAP,SAAcA,GACV,MAAM,IAAIC,MAAM,6BAKbd,EAAA9J,UAAA6K,OAAP,aAmBef,EAAAgB,gBAAf,SAAyFrJ,GACrF,OAAOA,GAGIqI,EAAAiB,0BAAf,SAAgEtJ,GAC5D,OAAOA,GAGIqI,EAAAK,SAAf,SAAwBa,EAA6BC,GACjD,YAAoBf,IAAZc,QAAuCd,IAAZe,OAAyBf,EAAYc,EAAUC,GA9H/DnB,EAAAoB,SAAWpB,EAAMgB,gBAAgB,QACjChB,EAAAqB,gBAAkBrB,EAAMgB,gBAAgB,eACxChB,EAAAsB,aAAetB,EAAMgB,gBAAgB,YACrChB,EAAAuB,YAAcvB,EAAMgB,gBAAgB,WACpChB,EAAAwB,SAAWxB,EAAMiB,0BAA0B,QAC3CjB,EAAAyB,WAAazB,EAAMgB,gBAAgB,UACnChB,EAAA0B,eAAiB1B,EAAMgB,gBAAgB,cACvChB,EAAA2B,aAAe3B,EAAMgB,gBAAgB,YACrChB,EAAA4B,cAAgB5B,EAAMiB,0BAA0B,aAChDjB,EAAA6B,aAAe7B,EAAMgB,gBAAgB,YACrChB,EAAA8B,UAAY9B,EAAMgB,gBAAgB,SAClChB,EAAA+B,eAAiB/B,EAAMiB,0BAA0B,cACjDjB,EAAAgC,YAAchC,EAAMiB,0BAA0B,WAuGtDjB,EAAAE,QAAU,EAa7BF,EAjIA,GCGAiC,EAAA,oBAAAA,KAcA,OAb2BA,EAAAC,iBAAmB,eAa9CD,EAdA,gTCjBAE,EAAA,SAAAC,GAwDI,SAAAD,EAAmBlC,EAAgCnC,GAAnD,IAAAuE,EACID,EAAAhM,KAAA0D,KAAMmG,IAAOnG,YADkCuI,EAAAvE,SAvD5CuE,EAAAC,YAAa,IA0FxB,OA3FgCC,EAAAJ,EAAAC,GAG5BnM,OAAA6B,eAAWqK,EAAAjM,UAAA,oBAAX,WACI,OAAO,mCAGXD,OAAA6B,eAAWqK,EAAAjM,UAAA,YAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAErH,QAAS,oCAG3CnF,OAAA6B,eAAWqK,EAAAjM,UAAA,mBAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAEC,eAAgB,oCAGlDzM,OAAA6B,eAAWqK,EAAAjM,UAAA,gBAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAEE,YAAa,oCAG/C1M,OAAA6B,eAAWqK,EAAAjM,UAAA,YAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAEG,QAAS,oCAG3C3M,OAAA6B,eAAWqK,EAAAjM,UAAA,gBAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAEI,4CAGlC5M,OAAA6B,eAAWqK,EAAAjM,UAAA,gBAAX,WACI,OAAQ4D,KAAKsB,MAAQtB,KAAK8I,KACtB9I,KAAKgE,OAAOgF,OAA2B,SAAC5L,EAAGuL,GAAM,OAAAN,EAAWY,IAAI7L,EAAGuL,EAAElC,WAAW,QAAKH,mCAG7FnK,OAAA6B,eAAWqK,EAAAjM,UAAA,uBAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAEO,mBAAoB,mCAGtD/M,OAAA6B,eAAWqK,EAAAjM,UAAA,aAAX,WACI,OAAO4D,KAAKgE,OAAOgF,OAAO,SAAC5L,EAAGuL,GAAM,SAAGvL,EAAIuL,EAAEQ,MAAK,MAAM,qCAG5DhN,OAAA6B,eAAWqK,EAAAjM,UAAA,iBAAX,WACI,OAAO4D,KAAK0I,SAAS,SAACC,GAAM,OAAAA,EAAEjC,6CAGlCvK,OAAA6B,eAAWqK,EAAAjM,UAAA,kBAAX,WACI,OAAO4D,KAAKgE,OAAOgF,OAA2B,SAAC5L,EAAGuL,GAAM,OAAAN,EAAWY,IAAI7L,EAAGuL,EAAEhC,aAAa,oCAG7FxK,OAAA6B,eAAWqK,EAAAjM,UAAA,kBAAX,WACI,OAAO,mCAGXD,OAAA6B,eAAWqK,EAAAjM,UAAA,iBAAX,WACI,MAAM,IAAI4K,MAASqB,EAAWxK,KAAI,uDAQ/BwK,EAAAjM,UAAAgN,OAAP,WACI,MAAM,IAAIpC,MAASqB,EAAWxK,KAAI,2BAI/BwK,EAAAjM,UAAA6K,OAAP,WACIjH,KAAKwI,YAAcxI,KAAKwI,YAKbH,EAAAY,IAAf,SAAmBI,EAA6BC,GAC5C,YAAoBhD,IAAZ+C,QAAuC/C,IAAZgD,OAAyBhD,EAAY+C,EAAUC,GAG9EjB,EAAAjM,UAAAsM,SAAR,SAAoBa,GAGhB,IAFA,IAAIC,EAEKC,EAAQ,EAAGA,EAAQzJ,KAAKgE,OAAOhI,SAAUyN,EAC9C,GAAc,IAAVA,EACAD,EAAWD,EAAYvJ,KAAKgE,OAAOyF,SAEnC,GAAIF,EAAYvJ,KAAKgE,OAAOyF,MAAYD,EACpC,OAKZ,OAAOA,GAEfnB,EA3FA,CAAgCnC,eCHnBwD,EAAkB,SAClBC,EAAqB,YACrBC,EAAoB,WACpBC,EAAgB,OAEhBC,EAAgB,UAChBC,EAAgB,WAChBC,EAAgB,mBAChBC,EAAgB,WAChBC,EAAuB,cACvBC,EAAgB,eAChBC,EAAiB,OACjBC,EAAgB,o0CCT7BC,EAAA,oBAAAA,KA0BA,OAxBkBA,EAAAC,MAAd,SAAoBC,GAChB,IAAI3N,EAASmD,KAAKyK,MAAMvM,IAAIsM,GAO5B,OALK3N,IACDA,EAASmD,KAAK0K,UAAUF,GACxBxK,KAAKyK,MAAME,IAAIH,EAAO3N,IAGnBA,GAOUyN,EAAAI,UAArB,SAA+BF,mGAEE,6BAAlBI,GAAAC,EAAAC,MAAKC,OAAa,EAAM5L,OAAOoL,MAAMC,WAA1B,SAAOQ,EAAAC,OAA2BC,eAApD,SAAON,EAAAjO,MAAAkO,GAAWG,EAAAC,iBAIlB,oBAASE,MAAO,0DARAb,EAAAG,MAAQ,IAAIW,IAWxCd,EA1BA,4XCiBAe,EAAA,oBAAAA,KA4HA,OAvHkBA,EAAAC,UAAd,SAAwBhN,GACpB,MAAwB,mBAAVA,GAOJ+M,EAAAE,SAAd,SAAuBjN,GACnB,MAAwB,kBAAVA,GAOJ+M,EAAAG,SAAd,SAAuBlN,GACnB,MAAwB,kBAAVA,GASJ+M,EAAAI,SAAd,SAAuBnN,GACnB,OAAOA,aAAiBnC,QAIdkP,EAAAK,QAAd,SAAsBpN,GAClB,OAAOqN,MAAMD,QAAQpN,IAIX+M,EAAAO,mBAAd,SACItN,EAAmCuN,GAGnC,OAAO7L,KAAK8L,YAAYxN,EAAOuN,IAAiB7L,KAAKsL,UAAUhN,EAAMuN,KAI3DR,EAAAU,kBAAd,SACIzN,EAAmCuN,GAGnC,OAAO7L,KAAK8L,YAAYxN,EAAOuN,IAAiB7L,KAAKuL,SAASjN,EAAMuN,KAI1DR,EAAAW,kBAAd,SACI1N,EAAmCuN,GAGnC,OAAO7L,KAAK8L,YAAYxN,EAAOuN,IAAiB7L,KAAKwL,SAASlN,EAAMuN,KAI1DR,EAAAY,kBAAd,SAAkD3N,EAAmCuN,GAEjF,OAAO7L,KAAK8L,YAAYxN,EAAOuN,IAAiB7L,KAAKyL,SAASnN,EAAMuN,KAI1DR,EAAAa,iBAAd,SACI5N,EAAmCuN,GACnC,OAAO7L,KAAK8L,YAAYxN,EAAOuN,IAAiB7L,KAAK0L,QAAQpN,EAAMuN,KAIzDR,EAAAc,wBAAd,SACIN,EAAsBO,OAAoC,IAAAC,KAAAC,EAAA,EAAAA,EAAAC,UAAAvQ,OAAAsQ,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,GAC1D,OAAItM,KAAKyL,SAASW,GACPpM,KAAKwM,gBAAgBX,EAAc7L,KAAKyM,gBAAe9P,MAApBqD,KAAI0M,GAAiBN,EAAOP,IAAkBQ,KAEjFrM,KAAKyM,gBAAgBL,OAKtBf,EAAAoB,gBAAd,SACIL,OADJ,IAAA7D,EAAAvI,KACwCqM,KAAAC,EAAA,EAAAA,EAAAC,UAAAvQ,OAAAsQ,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,GACpC,IAAMK,EAAatB,EAAMuB,YAAYR,GAC/BS,EAAgBR,EAASrD,OAC3B,SAAC/J,EAAGtB,GAAM,MAAM,KAANsB,EAAWsJ,EAAKqE,YAAYjP,GAAQsB,EAAC,OAAOsJ,EAAKqE,YAAYjP,IAAM,IAEjF,MAAO,0BAA0BgP,EAAU,yCAAyCE,EAAa,KAIvFxB,EAAAyB,gBAAd,SAA8BjB,EAAsBvN,GAChD,IAAMyO,EAAgC,kBAAVzO,EAAqB,SAAWA,EAE5D,OAAO0B,KAAKwM,gBACRX,EAAc,cAAckB,EAAY,iDAKjC1B,EAAAS,YAAf,SACIxN,EAAmCuN,GACnC,OAAO7L,KAAKyL,SAASnN,IAAUA,EAAMjC,eAAewP,IAGzCR,EAAAmB,gBAAf,SAA+BX,EAAsBmB,GACjD,MAAO,IAAInB,EAAY,MAAMmB,GAGlB3B,EAAAuB,YAAf,SAA2BtO,GACvB,GAAc,OAAVA,EACA,MAAO,OAGX,IAAMgD,SAAchD,EAEpB,MAAgB,WAATgD,EAAqBqK,MAAMD,QAAQpN,GAAS,QAAU,SAAYgD,GAEjF+J,EA5HA,+zCCfA4B,EAAA,WAMI,SAAAC,EAAoCC,EAA+BC,GAA/BpN,KAAAmN,OAA+BnN,KAAAoN,SAuBvE,OApBiBF,EAAA9Q,UAAAiR,QAAb,6GAEQ,OADUzC,GAAAC,EAAAqC,GAAqBI,UAC/B,EAAMhD,EAAWC,MAAM,2CAA2CvK,KAAKmN,KAAI,aAE/E,OAHMI,EAAQ3C,EAAAjO,MAAAkO,GACV1K,EAAA8K,UAEJ,EAAOjL,KAAKoN,OAAS,EAAIG,EAAQA,SAKtBL,EAAAI,SAAf,SAAwBE,GACpB,GAAInC,EAAMK,QAAQ8B,IAAkC,IAApBA,EAASxR,OAAe,CACpD,IAAMsC,EAAQkP,EAAS,GAEvB,GAAInC,EAAMW,kBAAkB1N,EAAO,aAC/B,OAAOmP,OAAOC,WAAWpP,EAAMqP,WAIvC,OAAQF,OAAOG,KAEvBV,EA7BA,GCGaW,EAAwB,2nDCHrCC,EAAA,SAAAxF,GAkEI,SAAAyF,EACI5H,EAAgB6H,EACCC,EAAyCC,GAF9D,IAAA3F,EAGID,EAAAhM,KAAA0D,KAAMmG,IAAOnG,YADIuI,EAAA0F,iBAAyC1F,EAAA2F,OA5C9C3F,EAAAW,gBAAkB,EAUlBX,EAAA4F,UAAYJ,EAAaI,UAoCrC5F,EAAKK,YAAcoF,EAAWpF,YAC9BL,EAAKM,SAAWmF,EAAWnF,UAAY,GACvCN,EAAK6F,QAAUJ,EAAWI,SAAW,GACrC7F,EAAK9B,SAAWuH,EAAWvH,SAC3B8B,EAAKY,MAAQ6E,EAAW7E,OAAS,KAEzC,OA5E2CkF,EAAAN,EAAAzF,GAUvCnM,OAAA6B,eAAW+P,EAAA3R,UAAA,oBAAX,WACI,OAAO4D,KAAKoO,yCAGhBjS,OAAA6B,eAAW+P,EAAA3R,UAAA,YAAX,WACI,OAAO4D,KAAKiO,gDAGhB9R,OAAA6B,eAAW+P,EAAA3R,UAAA,gBAAX,6CAWAD,OAAA6B,eAAW+P,EAAA3R,UAAA,iBAAX,WACI,OAAO4D,sCAOE+N,EAAA3R,UAAAyK,UAAb,gCAA0BC,QAAO,kEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,qBAArB4K,EAAAK,OAEIjL,KAAKkO,MACLrD,EAAA7K,MAAoB,EAAM,IAAIiN,EAAqBjN,KAAKkO,MAAM,GAAOb,aADrE,YACAxC,EAAKxE,aAAeuE,EAAAK,wCAKrB8C,EAAA3R,UAAAgN,OAAP,WACI,OACI9H,KAAMtB,KAAKsB,KACXsH,YAAa5I,KAAK4I,YAClBC,SAAU7I,KAAK6I,eAAYvC,EAC3B8H,QAASpO,KAAKoO,cAAW9H,EACzBG,SAAUzG,KAAKoO,aAAU9H,EAAYtG,KAAKyG,SAC1C0C,MAAOnJ,KAAKmJ,YAAS7C,IAnDNyH,EAAAI,UAAYN,EA0EvCE,EA5EA,CAA2C7H,gTCD3CoI,EAAA,SAAAhG,GAII,SAAAgG,EAAmBC,GAAnB,IAAAhG,EACID,EAAAhM,KAAA0D,OAAOA,YACPuI,EAAKvE,QAAWuK,KAoBxB,OA1BwCC,EAAAF,EAAAhG,GAS7BgG,EAAAlS,UAAAqS,YAAP,SAAmBF,GACf,IAAM9E,EAAQzJ,KAAKgE,OAAO0K,QAAQH,GAE9B9E,GAAS,GACTzJ,KAAKgE,OAAO9G,OAAOuM,EAAO,IAI3B6E,EAAAlS,UAAAyK,UAAP,WACI,OAAO7G,KAAKgE,OAAO,GAAG6C,aAGnByH,EAAAlS,UAAAgN,OAAP,WACI,OACIuF,aAAc3O,KAAKgE,OAAO,KAGtCsK,EA1BA,CAAwCnG,4mDCcxCyG,EAAA,SAAAtG,GAYI,SAAAuG,EAAmB1I,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,MAAO,YAAUhO,YAV/BuI,EAAAjH,KAAOuN,EAAUvN,aAoIrC,OAvI+BwN,EAAAD,EAAAvG,GAgBpBuG,EAAAzS,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIuH,EAAmBtO,OAIrB6O,EAAAzS,UAAAyK,UAAb,gCAA0BC,QAAO,oEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,qBAArBG,EAAA8K,OAEIjL,KAAKoO,SACLvD,EAAA7K,KAAgB4K,OAAmBtE,IAAlBtG,KAAKyG,SAAyB,EAAIzG,KAAKyG,UACpD,EAAM,IAAIoI,EAAUE,gBAAgB/O,KAAKoO,SAASY,mBAFtD,YACAnE,EAAKpE,SAAWmE,EACZzK,EAAA8K,wCAzBW4D,EAAAvN,KAAOwI,EAgCN+E,EAAAI,kBAAiB,WACrC,SAAAC,EAAmBC,GACfnP,KAAKmP,UAAYA,EAAUC,KAAK,KAgCxC,OA7BiBF,EAAA9S,UAAAiR,QAAb,2GAEQ,OADGzC,GAAAC,EAAAqE,GAAwBG,iBAC3B,EAAM/E,EAAWC,MAAM,0CAA0CvK,KAAKmP,UAAS,sBADnF,SAAOvE,EAAAjO,MAAAkO,GACH1K,EAAA8K,gBAKOiE,EAAAG,gBAAf,SAA+B7B,GAC3B,IAAM3Q,GAAWyS,aAAc7B,OAAOG,IAAK2B,iBAAkB,GAE7D,GAAIlE,EAAMI,SAAS+B,GACf,IAAK,IAAMY,KAAWZ,EAClB,GAAIA,EAASnR,eAAe+R,GAAU,CAClC,IAAMoB,EAAUhC,EAASY,GAErB/C,EAAMU,kBAAkByD,EAAS,kBACjCnE,EAAMU,kBAAkByD,EAAS,UACjC3S,EAAO0S,kBAAoBC,EAAQC,KACnC5S,EAAOyS,cAAgB7B,OAAOiC,MAAM7S,EAAOyS,cAAgB,EAAIzS,EAAOyS,cAClEE,EAAQG,cAAgB,KAM5C,OAAO9S,GAIfqS,EAlCyC,GAqCjBL,EAAAE,iBAAelE,EAAA,WACnC,SAAA+E,EAAoCxB,GAAApO,KAAAoO,UA8C5BpO,KAAAyG,SAAW,EAiBvB,OA5DiBmJ,EAAAxT,UAAA4S,cAAb,gHAEQhP,KAAKoO,QAAQpS,QAAU,KACvB,EAAMgE,KAAKiJ,KAAMjJ,KAAKoO,YADtB,mBACAvD,EAAAI,oBAEA,SAAM2E,EAAsBC,MAAM,aAKlC,OALAhF,EAAAI,OACM9E,EAASzC,EAAA,UAAOoM,WAAW9P,KAAKoO,UAItC,EAAMpO,KAAK+P,SAAS5J,EAAO6J,OAAO,YAClC,OADAnF,EAAAI,QACA,EAAMjL,KAAK+P,SAAS5J,EAAO6J,OAAO,YAAlCnF,EAAAI,wBAGJ,SAAOjL,KAAKyG,gBAODmJ,EAAAC,MAAf,SAAqBI,GACjB,OAAO,IAAInJ,QAAc,SAACoJ,GAAY,OAAAC,WAAWD,EAASD,MAG/CL,EAAAQ,SAAf,SAAwBC,EAAcC,GAIlC,IAHA,IAAMzT,EAAS,IAAI8O,MAAc3L,KAAKuQ,aAChCC,EAAQC,KAAKC,MAEVjH,EAAQ,EAAGA,EAAQ5M,EAAOb,SAAUyN,EACzC5M,EAAO4M,GAAS4G,EAAKL,OAAOM,EAAS7G,GAAOkH,aAUhD,OAPKF,KAAKC,MAAQF,EAAQ,KAASxQ,KAAKuQ,YAAc,KAIlDvQ,KAAKuQ,aAAe,GAGjB1T,GAKG+S,EAAAxT,UAAA6M,IAAd,SAAkBkG,iGACC,SAAM,IAAIN,EAAUI,kBAAkBE,GAAW9B,kBAGhE,OAHMxQ,EAASgO,EAAAI,OACfjL,KAAKyG,UAAY5J,EAAOyS,cAExB,EAAmC,IAA5BzS,EAAO0S,wBAGJK,EAAAxT,UAAA2T,SAAd,SAAuBM,mGACf5G,EAAQ,mBAIL,SAAMzJ,KAAKiJ,IAAI2H,EAAQhB,EAAsBQ,SAASC,EAAM5G,gBAA5DoB,EAAAI,OAAmE,oCAAExB,GAASmH,EAAM5U,oCAGnG4T,EAhEuC,GAuBpB/E,EAAA0F,YAAc,KA0CrC1B,EAvIA,CAA+Bf,4mDCP/B+C,GAAA,SAAAvI,GAKI,SAAAwI,EAAmB3K,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,MAAO,iBAAehO,YAHpCuI,EAAAjH,KAAOwP,EAAUxP,OA0CrC,OA7C+ByP,EAAAD,EAAAxI,GASpBwI,EAAA1U,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIuH,EAAmBtO,OAIrB8Q,EAAA1U,UAAAyK,UAAb,gCAA0BC,QAAO,oEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,qBAArBG,EAAA8K,OAEIjL,KAAKoO,SACLvD,EAAA7K,KAAgB4K,OAAmBtE,IAAlBtG,KAAKyG,SAAyB,EAAIzG,KAAKyG,UACpD,EAAM,IAAIqK,EAAUE,cAAchR,KAAKoO,SAASf,aAFpD,YACAxC,EAAKpE,SAAWmE,EACZzK,EAAA8K,wCAlBW6F,EAAAxP,KAAO6I,EAyBN2G,EAAAE,cAAa,WACjC,SAAAC,EAAoC7C,GAAApO,KAAAoO,UAiBxC,OAdiB6C,EAAA7U,UAAAiR,QAAb,2GAEQ,OADGzC,GAAAC,EAAAoG,GAAoBC,YACvB,EAAM5G,EAAWC,MAAM,qCAAqCvK,KAAKoO,iBADrE,SAAOxD,EAAAjO,MAAAkO,GACH1K,EAAA8K,gBAKOgG,EAAAC,WAAf,SAA0B1D,GACtB,OAAInC,EAAME,SAASiC,GACRA,EAGJC,OAAOG,KAEtBqD,EAlBqC,GAmBzCH,EA7CA,CAA+BhD,GCL/BqD,GAAA,oBAAAA,KAIA,OAHkBA,EAAAC,YAAd,SAA0BC,GACtB,OAAOA,aAAiBlV,QAEhCgV,EAJA,GCIAG,GAAA,oBAAAC,KAoCA,OA5BWA,EAAAnV,UAAAoV,SAAP,SAAgBC,EAAiBJ,EAAcxF,GAC3C,OAAIsF,GAAaC,YAAYC,GAClBrR,KAAK0R,kBAAkBD,EAAQJ,EAAOxF,GAEtC7L,KAAK2R,kBAAkBF,EAAQJ,EAAOxF,IAc3C0F,EAAAnV,UAAAuV,kBAAV,SACIF,EAAiBJ,EAAmCxF,GACpD,MAAO,qEAID0F,EAAAnV,UAAAsV,kBAAV,SACID,EAAiBJ,EAAuBxF,GACxC,MAAO,qEAEf0F,EApCA,iTCLAK,GAAA,SAAAtJ,GAgBI,SAAAuJ,EACoBC,EAA+BC,EAC/BC,EAAoCC,GAFxD,IAAA1J,EAGID,EAAAhM,KAAA0D,OAAOA,YAFSuI,EAAAuJ,QAA+BvJ,EAAAwJ,OAC/BxJ,EAAAyJ,YAAoCzJ,EAAA0J,eA0B5D,OA5CiDC,GAAAL,EAAAvJ,GACtCuJ,EAAAzV,UAAA8B,IAAP,SAAyCiU,EAAoBtG,GACzD,QAAqBvF,IAAjBuF,EACA,MAAM,IAAI7E,MAAM,sEAGpB,KAAMhH,gBAAgBmS,GAClB,MAAM,IAAInL,MAAM,sBAAsBmL,EAAKtU,KAAI,oCAGnD,OAAOmC,MAaD6R,EAAAzV,UAAAuV,kBAAV,SAA4BF,EAAiBJ,EAAmCxF,GAC5E,QAAqBvF,IAAjBuF,EACA,MAAM,IAAI7E,MAAM,sEAGpB,OAAKhH,KAAKgS,iBAIK1L,IAAV+K,GAAmC,OAAVA,GAAoBhG,EAAMG,SAAS6F,IAA4B,IAAjBA,EAAMrV,QACvEgE,KAAKiS,YAAa,uBAGtBjS,KAAKoS,gBAAgBX,EAAQJ,KAK9BQ,EAAAzV,UAAAgW,gBAAV,SAA0BX,EAAiBJ,GACvC,OAAO,GAEfQ,EA5CA,CAAiDP,kTCEjDe,GAAA,SAAA/J,GAEI,SAAAgK,EACIR,EAAYC,EAAWC,EAAmBC,EAC1BM,EAA8BC,EAAqBC,QADnE,IAAAX,MAAA,SAAY,IAAAC,MAAA,SAAW,IAAAC,OAAA,QAAmB,IAAAC,OAAA,GAD9C,IAAA1J,EAGID,EAAAhM,KAAA0D,KAAM8R,EAAOC,EAAMC,EAAWC,IAAWjS,YADzBuI,EAAAgK,MAA8BhK,EAAAiK,MAAqBjK,EAAAkK,SA+E3E,OAnFmCC,GAAAJ,EAAAhK,GAQ/BnM,OAAA6B,eAAWsU,EAAAlW,UAAA,YAAX,WACI,OAAO4D,KAAKuL,SAAW,SAAW,wCAa5B+G,EAAAlW,UAAAgW,gBAAV,SAA0BX,EAAiBJ,GACvC,GAAII,GACA,GAAIzR,KAAKuL,UACL,IAAKF,EAAME,SAAS8F,GAChB,OAAOhG,EAAMoB,gBAAgB4E,EAAO,QAGxC,IAAKhG,EAAMG,SAAS6F,GAChB,OAAOhG,EAAMoB,gBAAgB4E,EAAO,SAI5C,IAAKhG,EAAME,SAAS8F,KAAWhG,EAAMG,SAAS6F,GAC1C,OAAOhG,EAAMoB,gBAAgB4E,EAAO,EAAG,IAI/C,GAAIrR,KAAKuL,SAAU,CACf,IAAMoH,EAAetH,EAAME,SAAS8F,GAASA,EAAQ5D,OAAOC,WAAW2D,GAEvE,QAAkB/K,IAAbtG,KAAKuS,KAAuBvS,KAAKuS,IAAMI,EAAelF,OAAOmF,QAC9D,MAAO,8CAA8CN,EAAcO,OAAO7S,KAAKuS,KAAI,IAGvF,QAAkBjM,IAAbtG,KAAKwS,KAAuBG,EAAe3S,KAAKwS,IAAM/E,OAAOmF,QAC9D,MAAO,2CAA2CN,EAAcO,OAAO7S,KAAKwS,KAAI,IAGpF,IAAMM,OAAsBxM,IAAbtG,KAAKuS,IAAoBvS,KAAKuS,IAAM,EAC7CE,OAAqBnM,IAAdtG,KAAKyS,KAAqBzS,KAAKyS,KAAO,EAC7CM,EAAQC,KAAKC,OAAON,EAAeG,GAAUL,GAAQA,EAAOK,EAC5DI,EAAQH,EAAQN,EAGhBU,EAAWb,EAAcc,YAAYF,EAAO,GAElD,GAAKP,EAAeI,EAAQI,GAAcD,EAAQP,EAAeQ,EAAW,CACxE,IAAME,EAAYf,EAAcO,OAAOE,EAAO,GACxCO,EAAYhB,EAAcO,OAAOK,EAAO,GAE9C,MAAO,0DAA0DG,EAAS,QAAQC,EAAS,KAInG,OAAOhL,EAAAlM,UAAMgW,gBAAe9V,KAAA0D,KAACyR,EAAQJ,IAKzClV,OAAA6B,eAAYsU,EAAAlW,UAAA,gBAAZ,WACI,YAAqBkK,IAAbtG,KAAKuS,UAAoCjM,IAAbtG,KAAKwS,UAAqClM,IAAdtG,KAAKyS,sCAG1DH,EAAAO,OAAf,SAAsBvU,EAAeiV,GACjC,YADiC,IAAAA,MAAA,GAC1BjV,EAAMkV,oBACTlN,GAAamN,sBAAuBT,KAAKC,OAAOD,KAAKU,MAAM1T,KAAKoT,YAAY9U,EAAOiV,QAG5EjB,EAAAc,YAAf,SAA2B9U,EAAeiV,GACtC,YADsC,IAAAA,MAAA,GAC/BP,KAAKR,IAAIQ,KAAKW,IAAIrV,GAASiV,EAAe,GAAK9F,OAAOmF,SAErEN,EAnFA,CAAmCV,kTCgBnCgC,GAAA,SAAAtL,GAwFI,SAAAuL,EAAuC1B,GAAvC,IAAA5J,EACID,EAAAhM,KAAA0D,OAAOA,YAD4BuI,EAAA4J,OA9EvB5J,EAAAY,MAAQ,IAAIkJ,GAAc,QAAS,iCAAiC,GAAM,GAWnF9J,EAAAuL,kBAAmB,IAwF9B,OA7G6CC,GAAAF,EAAAvL,GAwBlCuL,EAAAzX,UAAA4X,YAAP,SAAmB7N,EAAgB6H,GAC/B,IAAKhO,KAAKmS,KACN,MAAM,IAAInL,MAAM,0BAGpB,OAAO,IAAIhH,KAAKmS,KAAKhM,EAAQ6H,IAG1B6F,EAAAzX,UAAA8B,IAAP,SAAyCiU,EAAoBtG,GACzD,QAAqBvF,IAAjBuF,EACA,MAAM,IAAI7E,MAAM,wEAGpB,IAAMnK,EAASmD,KAAK6L,GAEpB,KAAMhP,aAAkBsV,GACpB,MAAM,IAAInL,MACN,sBAAsBmL,EAAKtU,KAAI,mDAAmDgO,EAAY,KAGtG,OAAOhP,GAGJgX,EAAAzX,UAAA6X,YAAP,SAAmB5C,GACf,IAAKF,GAAaC,YAAYC,GAC1B,OAAOhG,EAAMoB,gBAAgB4E,MAGjCrR,KAAK8T,kBAAmB,EAExB,IACI,IAAMI,GACFtL,YAAa5I,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAMqB,iBACvDsB,SAAU7I,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAMsB,cACpD4G,QAASpO,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAMuB,aACnD0M,OAAQnU,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAMyB,YAClDyM,WAAYpU,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAM0B,gBACtDmB,SAAU/I,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAM2B,cACpDpB,SAAUzG,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAM6B,cACpDoB,MAAOnJ,KAAK0R,mBAAkB,EAAML,EAAOnL,EAAM8B,YAGjDqM,EAAU,GAEd,IAAK,IAAMzV,KAAOsV,EACd,GAAIA,EAAQ7X,eAAeuC,GAAM,CAC7B,IAAM/B,EAASqX,EAAQtV,IAER,IAAX/B,IACAwX,GAAczV,EAAG,KAAK/B,EAAM,MAMxC,OAAOwX,IAAoB,UAE3BrU,KAAK8T,kBAAmB,IAYtBD,EAAAzX,UAAAsV,kBAAV,SAA4BD,EAAiBJ,EAAuBxF,GAChE,QAAqBvF,IAAjBuF,EACA,MAAM,IAAI7E,MAAM,wEAGpB,IAAMsN,EAAetU,KAAK6L,GAAc2F,SAASC,EAAQJ,EAAMxF,QAAevF,GAE9E,OAAyB,IAAjBgO,GAA0BtU,KAAK8T,iBACnC9T,KAAKuU,kBAAkBlD,EAAOxF,GAAgByI,GAK5CT,EAAAzX,UAAAmY,kBAAV,SAA4BlD,EAAuBxF,GAC/C,OAAO,GAEfgI,EA7GA,CAA6CvC,kTCpB7CkD,GAAA,SAAAlM,GAEI,SAAAkM,EACI1C,EAAYC,EAAWC,EAAmBC,EAAoClO,QAA9E,IAAA+N,MAAA,SAAY,IAAAC,MAAA,SAAW,IAAAC,OAAA,QAAmB,IAAAC,OAAA,QAAoC,IAAAlO,UADlF,IAAAwE,EAEID,EAAAhM,KAAA0D,KAAM8R,EAAOC,EAAMC,EAAWC,IAAWjS,YADqCuI,EAAAxE,UAGtF,OANqC0Q,GAAAD,EAAAlM,GAMrCkM,EANA,CAAqC5C,kTCUrC8C,GAAA,SAAApM,GAcI,SAAAqM,EACoBrT,EAChBsT,EAAqBC,EAA0B1C,GAFnD,IAAA5J,EAGID,EAAAhM,KAAA0D,KAAMmS,IAAKnS,YAFKuI,EAAAjH,OAdJiH,EAAAK,YAAc,IAAIyJ,GAC9B,cAAe,0EAA0E,GAAM,GACnF9J,EAAAM,SAAW,IAAIwJ,GAC3B,WAAY,6FACZ,GAAM,GAGM9J,EAAA4L,OAAS,IAAI9B,GACb9J,EAAA6L,WAAa,IAAII,GACjBjM,EAAAQ,SAAW,IAAIsJ,GAQ3B9J,EAAK6F,QAAU,IAAIiE,GAAc,UAAWuC,GAAa,GAAM,GAC/DrM,EAAK9B,SAAW,IAAI4L,GAChB,WAAY,6BAA6B,GAAM,EAAO,OAAG/L,EAAW0M,KAAK8B,IAAI,IAAKD,MAmB9F,OAvC2CE,GAAAJ,EAAArM,GAyB7BqM,EAAAvY,UAAAmY,kBAAV,SAA4BlD,EAAuBxF,GAC/C,OAAMA,IAAiB3F,EAAMuB,aAAiBoE,IAAiB3F,EAAM6B,cAChE4M,EAAsBK,YAAY3D,EAAMjD,WAAauG,EAAsBK,YAAY3D,EAAM5K,UAI3F6B,EAAAlM,UAAMmY,kBAAiBjY,KAAA0D,KAACqR,EAAOxF,GAH3B,sCAAsC7L,KAAKoO,QAAQ0D,MAAK,WAAW9R,KAAKyG,SAASqL,MAAK,gBAQtF6C,EAAAK,YAAf,SAA2B1W,GACvB,YAAkBgI,IAAVhI,GAAmC,OAAVA,GAA8B,KAAVA,GAE7DqW,EAvCA,CAA2Cf,k0CCR3CqB,GAAA,WACI,SAAAC,EAAoC/H,EAA+BiB,GAA/BpO,KAAAmN,OAA+BnN,KAAAoO,UAiBvE,OAdiB8G,EAAA9Y,UAAAiR,QAAb,6GAEQ,OADGzC,GAAAC,EAAAqK,GAAmBhE,YACtB,EAAM5G,EAAWC,MAAM,kCAAkCvK,KAAKmN,KAAI,eAAenN,KAAKoO,QAAO,oBADjG,SAAOxD,EAAAjO,MAAAkO,GACH1K,EAAA8K,gBAKOiK,EAAAhE,WAAf,SAA0B1D,GACtB,OAAInC,EAAMU,kBAAkByB,EAAU,WAC3BA,EAASgC,QAAU,IAGvB/B,OAAOG,KAEtBsH,EAlBA,+mDCIAC,GAAA,SAAA7M,GAiBI,SAAA8M,EAAsBjP,EAAgB6H,EAAqCC,EAAwBC,UAC/F5F,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAYC,EAAgBC,IAAKlO,KAEvD,OApBgDqV,GAAAD,EAAA9M,GACrC8M,EAAAhZ,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIuH,EAAmBtO,OAIrBoV,EAAAhZ,UAAAyK,UAAb,iCAA0BC,QAAO,qEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,qBAArBG,EAAA8K,OAEIjL,KAAKoO,SACLvD,EAAA7K,KAAgB4K,OAAmBtE,IAAlBtG,KAAKyG,SAAyB,EAAIzG,KAAKyG,UACpD,EAAM,IAAIwO,GAAmBjV,KAAK8I,KAAKwM,cAAetV,KAAKoO,SAASf,aAFxE,YACAxC,EAAKpE,SAAWmE,EACZzK,EAAA8K,wCAShBmK,EApBA,CAAgDtH,iTCHhDyH,GAAA,SAAAjN,GAYI,SAAAkN,EAAmBrP,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,OAAQ,SAAOhO,YAV7BuI,EAAAjH,KAAOkU,EAAWlU,OAYtC,OAfgCmU,GAAAD,EAAAlN,GACLkN,EAAAlU,KAAO8I,EAclCoL,EAfA,CAAgCL,gnDCKhCO,GAAA,SAAApN,GAKI,SAAAqN,EAAmBxP,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,MAAO,qBAAmBhO,YAHxCuI,EAAAjH,KAAOqU,EAAUrU,OA2CrC,OA9C+BsU,GAAAD,EAAArN,GASpBqN,EAAAvZ,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIuH,EAAmBtO,OAIrB2V,EAAAvZ,UAAAyK,UAAb,iCAA0BC,QAAO,qEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,qBAArBG,EAAA8K,OAEIjL,KAAKoO,SACLvD,EAAA7K,KAAgB4K,OAAmBtE,IAAlBtG,KAAKyG,SAAyB,EAAIzG,KAAKyG,UACpD,EAAM,IAAIkP,EAAUE,kBAAkB7V,KAAKoO,SAASf,aAFxD,YACAxC,EAAKpE,SAAWmE,EACZzK,EAAA8K,wCAlBW0K,EAAArU,KAAO0I,EAyBN2L,EAAAE,kBAAiB,WACrC,SAAAC,EAAoC1H,GAAApO,KAAAoO,UAkBxC,OAfiB0H,EAAA1Z,UAAAiR,QAAb,6GAEQ,OADGzC,GAAAC,EAAAiL,GAAwB5E,YAC3B,EAAM5G,EAAWC,MAAM,kCAAkCvK,KAAKoO,iBADlE,SAAOxD,EAAAjO,MAAAkO,GACH1K,EAAA8K,gBAKO6K,EAAA5E,WAAf,SAA0B1D,GACtB,OAAInC,EAAMY,kBAAkBuB,EAAU,YAClCnC,EAAMU,kBAAkByB,EAASgC,QAAS,SACnChC,EAASgC,QAAQuG,MAGrBtI,OAAOG,KAEtBkI,EAnByC,GAoB7CH,EA9CA,CAA+B7H,iTCL/BkI,GAAA,SAAA1N,GAUI,SAAA2N,EACI9P,EAAgB6H,EAAqCC,EAAwB5H,GADjF,IAAAkC,EAEID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAYC,IAAejO,YAT7BuI,EAAAjH,KAAO2U,EAAiB3U,KAUpCiH,EAAKlC,aAAeA,IAE5B,OAfsC6P,GAAAD,EAAA3N,GAKlCnM,OAAA6B,eAAWiY,EAAA7Z,UAAA,kBAAX,WACI,OAAO,mCALY6Z,EAAA3U,KAAO4I,EAclC+L,EAfA,CAAsCnI,g8DCQtCqI,GAAA,SAAA7N,GAYI,SAAA8N,EAAmBjQ,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,MAAO,aAAWhO,YAVhCuI,EAAAjH,KAAO8U,EAAU9U,aA6HrC,OAhI+B+U,GAAAD,EAAA9N,GAgBpB8N,EAAAha,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIqP,EAAUE,UAAUtW,KAAM+G,IAmG1BqP,EAAAG,YAAf,SAA2B/I,GACvB,OAAKnC,EAAMY,kBAAkBuB,EAAU,QAAWnC,EAAMU,kBAAkByB,EAASgJ,IAAK,WAIjFhJ,EAASgJ,IAAIhH,QAHT/B,OAAOG,KAMdwI,EAAAha,UAAAqa,YAAR,SAAoBjJ,GAChB,IAAM/G,EAAW2P,EAAUG,YAAY/I,GACvCxN,KAAKyG,eAA8BH,IAAlBtG,KAAKyG,SAAyB,EAAIzG,KAAKyG,UAAYA,GA7HjD2P,EAAA9U,KAAO2I,EAsBNmM,EAAAE,WAASzL,EAAA,SAAAvC,GAG7B,SAAAoO,EAAoCC,EAAsB5P,GAA1D,IAAAwB,EACID,EAAAhM,KAAA0D,OAAOA,YADyBuI,EAAAoO,YAFpBpO,EAAAvE,UAyDCuE,EAAAqO,iBArDbrO,EAAKvE,OAAO9H,KAAKya,GAEbtL,EAAMa,iBAAiBnF,EAAQ2P,EAAgBG,qBAE/CtO,EAAKqO,cAAgB7P,EAAO2P,EAAgBG,mBAAmBC,OAAOzL,EAAMG,aAkFxF,OA3FkE6K,GAAAK,EAAApO,GAavDoO,EAAAta,UAAAqS,YAAP,SAAmBF,GACf,IAAM9E,EAAQzJ,KAAKgE,OAAO0K,QAAQH,GAE9B9E,GAAS,IACTzJ,KAAK4W,cAAc1a,KAAK8D,KAAKgE,OAAOyF,GAAOX,MAC3C9I,KAAKgE,OAAO9G,OAAOuM,EAAiB,IAAVA,EAAczJ,KAAKgE,OAAOhI,OAAS,KAIxD0a,EAAAta,UAAAyK,UAAb,qHACI,SAAM7G,KAAK2W,UAAU9P,oBAErB,OAFAkQ,EAAA9L,OAEKjL,KAAK2W,UAAUvI,SAIH,EAAM9D,EAAWC,MAC9B,2CAA2CvK,KAAK2W,UAAUvI,QAAO,8BAJjE,UAQJ,GALM4I,EAAWD,EAAA9L,OAGjBjL,KAAK2W,UAAUF,YAAYO,IAEtB3L,EAAMa,iBAAiB8K,EAAU,UAClC,cAGJ,IAAoB7W,EAAA8W,GAAAD,EAASE,QAAMlM,EAAA7K,EAAAgX,QAAAnM,EAAAoM,KAAApM,EAAA7K,EAAAgX,OAAxBE,EAAKrM,EAAA1M,MACZ0B,KAAKsX,eAAeD,oHAIrBX,EAAAta,UAAAgN,OAAP,WACI,OACIuF,aAAc3O,KAAK2W,UAAUvN,SAC7BwN,cAAe5W,KAAK4W,gBAQbF,EAAAa,QAAf,SAA6D1Z,GACzD,OAAOA,GAKH6Y,EAAAta,UAAAkb,eAAR,SAAuBD,GACnB,GAAKhM,EAAMY,kBAAkBoL,EAAO,cAAiBhM,EAAMU,kBAAkBsL,EAAO,WAApF,CAIA,IAAMG,EAAOH,EAAMI,UAEnB,GAAKpM,EAAMW,kBAAkBwL,EAAM,YAC7BnM,EAAMU,kBAAkByL,EAAM,aAAgBnM,EAAMW,kBAAkBwL,EAAM,gBAI9ExX,KAAK4W,cAAclI,QAAQ8I,EAAKE,SAAW,IAI1CrM,EAAMY,kBAAkBuL,EAAM,UAAanM,EAAMW,kBAAkBwL,EAAKjK,MAAO,SAC/ElC,EAAMW,kBAAkBwL,EAAKjK,MAAO,aAAwC,QAAxBiK,EAAKjK,MAAMzK,UAIhEuU,EAAM7H,QAAU,EAAG,CACnB,IAAMmI,EAAaC,MACZ5X,KAAK2W,WACRlQ,SAAU4Q,EAAM7H,QAAUwD,KAAK8B,IAAI,GAAIrH,OAAOC,WAAW8J,EAAKK,SAASC,eAG3E9X,KAAKgE,OAAO9H,KAAK,IAAI8Z,GACjBhW,KAAK2W,UAAUxQ,OAAQwR,EAAeH,EAAKE,OAAQjK,OAAOC,WAAW8J,EAAKjK,MAAMwK,WAGhGrB,EA3FiC,CAAiCvO,GAoDtC0C,EAAAgM,kBAAoBhM,EAAgB0M,QAAQ,oBAqD5EnB,EAhIA,CAA+BtI,GCAlBkK,GAAyB,ukC5BbtC,SAAYnY,GACRA,IAAA,kBACAA,IAAA,4BACAA,IAAA,4BACAA,IAAA,qCACAA,IAAA,wCALJ,CAAYA,WASZ,IAAAoY,GAAA,oBAAAA,KA+CA,OA7CkBA,EAAAH,SAAd,SAAuBhP,GACnB,OAAQA,GACJ,KAAKjJ,EAAWqY,KACZ,MAAO,IACX,KAAKrY,EAAWsY,SACZ,MAAO,KACX,KAAKtY,EAAWuY,MACZ,MAAO,KACX,KAAKvY,EAAWwY,UACZ,MAAO,OACX,KAAKxY,EAAWyY,UACZ,MAAO,KACX,QACI,MAAM,IAAItR,MAAM,yBAKdiR,EAAAM,aAAd,SAA2BC,GACvB,IAAM3b,EAASmD,KAAKyY,QAAQva,IAAIsa,GAEhC,IAAK3b,EACD,MAAM,IAAImK,MAAM,8BAGpB,OAAOnK,GAIGob,EAAAS,cAAd,WACI,OAAO1Y,KAAKyY,QAAQE,QAOPV,EAAAW,cAAjB,yFACqC/Y,2DACzB4N,OAAOC,WAAWmL,IACZzE,EAAa3G,OAAOC,WAAWmL,IACrC,GAAQZ,EAAYH,SAAS1D,GAAaA,MAF1C,mBAEAjU,EAAA8K,8DANYgN,EAAAQ,QAAU,IAAIrN,IAAwB6M,EAAYW,iBAU9EX,EA/CA,iT6BAAa,GAAA,SAAAxQ,GAoBI,SAAAyQ,EAAmCzX,EAAsC6Q,GAAzE,IAAA5J,EACID,EAAAhM,KAAA0D,KAAMmS,IAAKnS,YADoBuI,EAAAjH,OAhBnBiH,EAAAK,YAAc,IAAIyJ,GAC9B,cAAe,iDAAiD,GAAM,GAC1D9J,EAAAM,SAAW,IAAIwJ,GAC3B,WAAY,oDAAoD,GAAM,GAC1D9J,EAAA6F,QAAU,IAAIiE,GACd9J,EAAA4L,OAAS,IAAI9B,GACzB,SAAU,mDAAmD,GAAM,EACnE0G,EAA4BC,gBAAY1S,EAAWyS,EAA4BC,YACnEzQ,EAAA6L,WAAa,IAAII,GAC7B,OAAQ,oCAAoC,GAAM,EAAM7I,MAAMsN,KAAKhB,GAAYS,kBACnEnQ,EAAAQ,SAAW,IAAIsJ,GAC3B,WAAY,gCAAgC,GAAM,EAClD,GAAK,EAAI0G,EAA4BG,aAAcH,EAA4BG,cACnE3Q,EAAA9B,SAAW,IAAI4L,GAAc,WAAY,wBAAwB,GAAM,EAAM,KAWjG,OA5BiD8G,GAAAJ,EAAAzQ,GACtByQ,EAAAK,aAAe,EACfL,EAAAM,eAAiB,EAwBhBN,EAAAC,WAAahG,KAAK8B,IAAI,IAAKiE,EAA4BK,cACvDL,EAAAG,aAAelG,KAAK8B,IAAI,IAAKiE,EAA4BM,gBACrFN,EA5BA,CAAiDnF,k0CCLjD0F,GAAA,WAMI,SAAAC,EAAoCC,EAA+BpM,GAA/BpN,KAAAwZ,OAA+BxZ,KAAAoN,SAiCvE,OA9BiBmM,EAAAnd,UAAAiR,QAAb,oHACQrN,KAAKwZ,KAAKxd,OAAS,GACF,EAAMsO,EAAWC,MAC9B,0CAA0CvK,KAAKwZ,KAAI,0CAFvD,YAKA,OAJMhM,EAAW3C,EAAAI,OAEXsC,EAAQgM,EAAcjM,SAASE,IAErC,EAAOxN,KAAKoN,OAAS,EAAIG,EAAQA,UAEjC,SAAO,SAMAgM,EAAAjM,SAAf,SAAwBE,GACpB,GAAInC,EAAMY,kBAAkBuB,EAAU,YAClCnC,EAAMa,iBAAiBsB,EAASiM,QAAS,SAAWjM,EAASiM,QAAQje,KAAKQ,QAAU,EAAG,CACvF,IAAM0d,EAAQlM,EAASiM,QAAQje,KAAK,GAEpC,GAAI6P,EAAMK,QAAQgO,IAAWA,EAAM1d,QAAU,EAAI,CAC7C,IAAMa,EAAS6c,EAAM,GAErB,GAAIrO,EAAME,SAAS1O,GACf,OAAOA,GAKnB,OAAO4Q,OAAOG,KAEtB2L,EAvCA,+mDCMAI,GAAA,SAAArR,GAiEI,SAAAsR,EACIzT,EAAgB6H,EAA4D6L,GADhF,IAAAtR,EAEID,EAAAhM,KAAA0D,KAAMmG,IAAOnG,YAD+DuI,EAAAsR,aA9ChEtR,EAAAW,gBAAkB,EAUlBX,EAAA4F,UAAYyL,EAAmBzL,UAsC3C5F,EAAKK,YAAcoF,EAAWpF,YAC9BL,EAAKM,SAAWmF,EAAWnF,UAAY,GACvCN,EAAK4L,OAASnG,EAAWmG,OACzB5L,EAAK6L,WAAapG,EAAWoG,WAC7B7L,EAAKQ,SAAWiF,EAAWjF,SAC3BR,EAAK9B,cAAmCH,IAAxB0H,EAAWvH,SAAyBuH,EAAWvH,SAAWgH,OAAOG,IACjFrF,EAAKY,MAAQ6E,EAAW7E,OAAS,GACjCZ,EAAKuR,iBAAmBvR,EAAK4L,OAAS5L,EAAK6L,WAAa7L,EAAKQ,WAarE,OAxFiDgR,GAAAH,EAAAtR,GAY7CnM,OAAA6B,eAAW4b,EAAAxd,UAAA,YAAX,WACI,OAAOwd,EAAmBI,QAAQha,KAAKmU,OAAQnU,KAAKoU,6CAYxDjY,OAAA6B,eAAW4b,EAAAxd,UAAA,iBAAX,WACI,OAAO4D,sCAOJ4Z,EAAAxd,UAAAgN,OAAP,WACI,OACI9H,KAAMtB,KAAKsB,KACXsH,YAAa5I,KAAK4I,YAClBC,SAAU7I,KAAK6I,eAAYvC,EAC3B6N,OAAQnU,KAAKmU,OACbC,WAAYpU,KAAKoU,WACjBrL,SAAU/I,KAAK+I,SACftC,SAAUzG,KAAKyG,SACf0C,MAAOnJ,KAAKmJ,YAAS7C,IAItBsT,EAAAxd,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIuH,EAAmBtO,OAIrB4Z,EAAAxd,UAAAyK,UAAb,iCAA0BC,QAAO,qEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,cAE8B,OAFnDG,EAAA8K,OACAJ,EAAA7K,KACI4K,EAAA5K,KAAK8Z,iBAAmBja,EAAWwY,WAAY,EAAM,IAAIiB,GAActZ,KAAK6Z,YAAY,GAAOxM,yBADnGxC,EAAKxE,aACDuE,EAA+CzK,EAAA8K,iBA6BxC2O,EAAAI,QAAf,SAAuB7F,EAAgBrL,GACnC,OAAUqL,EAAOX,oBAAelN,EAAWtG,KAAKia,mBAAkB,IAAIhC,GAAYH,SAAShP,IAlFxE8Q,EAAAzL,UAAY6J,GA8EX4B,EAAAK,mBACpBxG,sBAAuBqF,GAA4BM,aAAcc,sBAAuB,EAAGC,aAAa,GAOhHP,EAxFA,CAAiD1T,iTCLjDkU,GAAA,SAAA9R,GAUI,SAAA+R,EAAmBlU,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,mBAAiBhO,YAR/BuI,EAAAjH,KAAO+Y,EAAU/Y,OAUrC,OAb+BgZ,GAAAD,EAAA/R,GACJ+R,EAAA/Y,KAAOuI,EAYlCwQ,EAbA,CAA+BV,kTCA/BY,GAAA,SAAAjS,GAYI,SAAAkS,EAAmBrU,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,MAAO,aAAWhO,YAVhCuI,EAAAjH,KAAOkZ,EAAUlZ,OAYrC,OAf+BmZ,GAAAD,EAAAlS,GACJkS,EAAAlZ,KAAOyI,EAclCyQ,EAfA,CAA+BrF,kTCA/BuF,GAAA,SAAApS,GAUI,SAAAqS,EAAmBxU,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,mBAAiBhO,YAR/BuI,EAAAjH,KAAOqZ,EAAerZ,OAU1C,OAboCsZ,GAAAD,EAAArS,GACTqS,EAAArZ,KAAOqI,EAYlCgR,EAbA,CAAoChB,kTCApCkB,GAAA,SAAAvS,GAUI,SAAAwS,EAAmB3U,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,mBAAiBhO,YAR/BuI,EAAAjH,KAAOwZ,EAAcxZ,OAUzC,OAbmCyZ,GAAAD,EAAAxS,GACRwS,EAAAxZ,KAAOsI,EAYlCkR,EAbA,CAAmCnB,kTCAnCqB,GAAA,SAAA1S,GAUI,SAAA2S,EAAmB9U,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,qBAAmBhO,YARjCuI,EAAAjH,KAAO2Z,EAAY3Z,OAUvC,OAbiC4Z,GAAAD,EAAA3S,GACN2S,EAAA3Z,KAAOoI,EAYlCuR,EAbA,CAAiCtB,gnDCKjCwB,GAAA,SAAA7S,GAKI,SAAA8S,EAAmBjV,EAAgB6H,GAAnC,IAAAzF,EACID,EAAAhM,KAAA0D,KAAMmG,EAAQ6H,EAAY,MAAO,UAAQhO,YAH7BuI,EAAAjH,KAAO8Z,EAAU9Z,OA4CrC,OA/C+B+Z,GAAAD,EAAA9S,GASpB8S,EAAAhf,UAAA2K,OAAP,SAAcA,GACV,OAAO,IAAIuH,EAAmBtO,OAIrBob,EAAAhf,UAAAyK,UAAb,iCAA0BC,QAAO,qEAC7B,SAAMwB,EAAAlM,UAAMyK,UAASvK,KAAA0D,qBAArBG,EAAA8K,OAEIjL,KAAKoO,SACLvD,EAAA7K,KAAgB4K,OAAmBtE,IAAlBtG,KAAKyG,SAAyB,EAAIzG,KAAKyG,UACpD,EAAM,IAAI2U,EAAUE,eAAetb,KAAKoO,SAASf,aAFrD,YACAxC,EAAKpE,SAAWmE,EACZzK,EAAA8K,wCAlBWmQ,EAAA9Z,KAAO+I,EAyBN+Q,EAAAE,eAAc,WAClC,SAAAC,EAAoCnN,GAAApO,KAAAoO,UAmBxC,OAhBiBmN,EAAAnf,UAAAiR,QAAb,6GAEQ,OADGzC,GAAAC,EAAA0Q,GAAqBrK,YACxB,EAAM5G,EAAWC,MAAM,mDAAmDvK,KAAKoO,iBADnF,SAAOxD,EAAAjO,MAAAkO,GACH1K,EAAA8K,gBAKOsQ,EAAArK,WAAf,SAA0B1D,GACtB,OAAInC,EAAMW,kBAAkBwB,EAAU,WAAkC,YAApBA,EAASgO,QACzDnQ,EAAMY,kBAAkBuB,EAAU,SAClCnC,EAAMW,kBAAkBwB,EAAShS,KAAM,qBAChCiS,OAAOC,WAAWF,EAAShS,KAAKigB,mBAGpChO,OAAOG,KAEtB2N,EApBsC,GAqB1CH,EA/CA,CAA+BtN,GCQzB4N,GACF,2JAGEC,GACF,gKAGEC,GACF,gJAGEC,GACF,0JAGEC,GACF,6IAGEC,GACF,kJAGEC,GACF,2IAGJC,GAAA,oBAAAC,KAwDA,OAvCkBA,EAAAC,YAAd,SAA0B1b,EAAe2b,GACrC,IAAK/Q,EAAMY,kBAAkBmQ,EAAWjU,EAAYC,kBAChD,OAAOiD,EAAMc,wBAAwBhE,EAAYC,iBAAkBgU,MAGvE,IAAM7N,EAAQvO,KAAKqc,WAAW5b,EAAO2b,EAAUjU,EAAYC,mBAE3D,OAAMmG,aAAiBrI,EAIhBqI,EAAMxH,OAAOqV,GAHT7N,GAQA2N,EAAAG,WAAf,SAA0B5b,EAAe6b,GACrC,IAAKjR,EAAMW,kBAAkBsQ,EAAUpW,EAAMoB,UACzC,OAAO+D,EAAMc,wBAAwBjG,EAAMoB,SAAUgV,EAAU,IAGnE,IAAMC,EAAYvc,KAAKwc,MAAMC,KAAK,SAACjF,GAAS,OAAAA,EAAKlW,OAASgb,EAAShb,OAEnE,IAAKib,EACD,OAAOlR,EAAMyB,gBAAgB5G,EAAMoB,SAAUgV,EAAShb,MAG1D,IAAMob,EAAmBH,EAAUtI,YAAYqI,GAE/C,OAAKtc,KAAK2c,cAAcD,EAAkBJ,GAInCC,EAAUvI,YAAYvT,EAAO6b,GAHzBI,GAMAR,EAAAS,cAAf,SAA6BD,EAAiCE,GAC1D,OAA4B,IAArBF,GApDYR,EAAAM,OACnB,IAAI1D,GAA4BkC,GAAY1Z,KAAM0Z,IAClD,IAAIlC,GAA4B4B,GAAepZ,KAAMoZ,IACrD,IAAI5B,GAA4B+B,GAAcvZ,KAAMuZ,IACpD,IAAI/B,GAA4BsB,GAAU9Y,KAAM8Y,IAChD,IAAI1F,GAAsB9F,EAAUtN,KAAMoa,GAAS,EAAG9M,GACtD,IAAI8F,GAAsB6F,GAAUjZ,KAAMqa,GAAS,EAAGpB,IACtD,IAAI7F,GAAsBgB,GAAUpU,KAAMsa,GAAS,GAAIlG,IACvD,IAAIhB,GAAsByB,GAAU7U,KAAMua,GAAS,GAAI1F,IACvD,IAAIzB,GAAsB7D,GAAUvP,KAAMwa,GAAS,EAAGjL,IACtD,IAAI6D,GAAsBa,GAAWjU,KAAMya,GAAU,EAAGxG,IACxD,IAAIb,GAAsByG,GAAU7Z,KAAM0a,GAAS,EAAGb,KA2C9De,EAxDA,w2DChBAW,GAAA,oBAAAC,IAgGW9c,KAAAnC,KAAO,MACEmC,KAAAwB,cAAgBsb,EAAMtb,cA4BtBxB,KAAA+c,UAAwB7W,EAAMoB,SAAUpB,EAAMsB,cAiD9CxH,KAAAgd,OAAS,IAAIrR,MAqBtB3L,KAAAwG,aAAmC,EASnCxG,KAAAid,eAAsC3W,EA6H5BtG,KAAAkd,QAAU,IAAIvR,MAEvB3L,KAAAmd,aAAeL,EAAMM,YAAYzE,OAAOxB,OAAO7Y,MAE/C0B,KAAAqd,YAAuBnX,EAAMoB,SAE7BtH,KAAAsd,UAAoBC,GAAIrX,EAAM+B,eAAgBuV,YAAY,GAoHtE,OAzbkBV,EAAA/R,MAAd,SAAoB0S,WACZC,EAEJ,IACIA,EAAW5S,KAAKC,MAAM0S,GACxB,MAAOE,GACL,OAAQA,EAAYtJ,QAGxB,IAAKhJ,EAAMU,kBAAkB2R,EAAUZ,EAAMc,aACzC,OAAOvS,EAAMc,wBAAwB2Q,EAAMc,YAAaF,EAAU,GAGtE,IAAMG,EAAUH,EAASZ,EAAMc,aAE/B,GAAgB,IAAZC,EACA,OAAOxS,EAAMyB,gBAAgBgQ,EAAMc,YAAaC,GAGpD,IAAMpd,EAAQ,IAAIqc,EAElB,GAAIzR,EAAMW,kBAAkB0R,EAAUZ,EAAMgB,UAAW,CACnD,IAAMjgB,EAAO6f,EAASZ,EAAMgB,UAExBjgB,EAAK7B,OAAS,IACdyE,EAAM5C,KAAOA,GAIrB,GAAIwN,EAAMW,kBAAkB0R,EAAUZ,EAAMiB,cAAe,CACvD,IAAMC,EAAWN,EAASZ,EAAMiB,cAE5Btd,EAAMwd,WAAWC,UAAU,SAACvgB,GAAM,OAAAA,IAAMqgB,KAAa,IACrDvd,EAAMqC,SAAWkb,GAIzB,GAAI3S,EAAMW,kBAAkB0R,EAAUZ,EAAMqB,aAAc,CACtD,IAAM1b,EAAUib,EAASZ,EAAMqB,aAE3B1d,EAAM2d,UAAU3b,KAChBhC,EAAMgC,QAAUA,GAIxB,GAAI4I,EAAMY,kBAAkByR,EAAUZ,EAAMuB,UAAW,CACnD,IAAMC,EAAOZ,EAASZ,EAAMuB,UAExBvB,EAAMyB,OAAOD,KACb7d,EAAM6d,KAAOA,GAIrB,IAAKjT,EAAMa,iBAAiBwR,EAAUZ,EAAM0B,aACxC,OAAOnT,EAAMc,wBAAwB2Q,EAAM0B,YAAad,UAG5D,IAAwB,IAAA9S,EAAA6T,GAAAf,EAASR,SAAO/c,EAAAyK,EAAAuM,QAAAhX,EAAAiX,KAAAjX,EAAAyK,EAAAuM,OAAE,CAArC,IAAMiF,EAASjc,EAAA7B,MACVyI,EAASkV,GAAWE,YAAY1b,EAAO2b,GAE7C,KAAMrV,aAAkBoB,GACpB,OAAOpB,EAGXtG,EAAMyc,QAAQhhB,KAAK6K,qGAKvB,OAFAtG,EAAMie,OAAM/hB,MAAZ8D,EAAKke,GAAWle,EAAMyc,UAEfzc,GAGGqc,EAAA8B,SAAd,SAAuBC,GACnB,OAAQA,GACJ,KAAK3Y,EAAMoB,SACX,KAAKpB,EAAMqB,gBACX,KAAKrB,EAAMsB,aACX,KAAKtB,EAAM4B,cACX,KAAK5B,EAAM+B,eACP,OAAO,EACX,QACI,OAAO,IAQnB9L,OAAA6B,eAAW8e,EAAA1gB,UAAA,gBAAX,WACI,MAAO,GAAG4D,KAAKnC,KAAOmC,KAAKwB,+CAG/BrF,OAAA6B,eAAW8e,EAAA1gB,UAAA,aAAX,WACI,OAAU4D,KAAKnC,KAAI,oDAIvB1B,OAAA6B,eAAW8e,EAAA1gB,UAAA,kBAAX,WACI,OAAOuP,MAAMsN,KAAK6D,EAAMM,YAAYzE,yCAIxCxc,OAAA6B,eAAW8e,EAAA1gB,UAAA,gBAAX,WACI,OAAO4D,KAAKmd,kBAIhB,SAAoBra,GAChB9C,KAAKmd,aAAera,EACpB9C,KAAK8e,gBACL9e,KAAK+e,oBAAoBC,MAAM,SAACC,GAAW,OAAAC,QAAQ/T,MAAM8T,sCAO7D9iB,OAAA6B,eAAW8e,EAAA1gB,UAAA,qBAAX,WACI,OAAO4D,KAAK+c,SAASoC,IAAI,SAACC,GAAM,OAAAtC,EAAMuC,WAAWD,sCAIrDjjB,OAAA6B,eAAW8e,EAAA1gB,UAAA,eAAX,WACI,OAAO4D,KAAKqd,iBAGhB,SAAmB5a,GACfzC,KAAKqd,YAAc5a,EACnBzC,KAAKgd,OAAOhhB,OAAS,EACrBgE,KAAK0e,SACL1e,KAAK8e,iDAIT3iB,OAAA6B,eAAW8e,EAAA1gB,UAAA,oBAAX,WACI,OAAO0gB,EAAMuC,WAAWrf,KAAKyC,0CAIjCtG,OAAA6B,eAAW8e,EAAA1gB,UAAA,qBAAX,WACI,IAAMS,EAAS8O,MAAMsN,KAAKjZ,KAAK+c,UAG/B,OAFAlgB,EAAOK,OAAOL,EAAO6R,QAAQ1O,KAAKyC,SAAU,GAErC5F,mCAIXV,OAAA6B,eAAW8e,EAAA1gB,UAAA,0BAAX,WACI,OAAO4D,KAAKkF,cAAcia,IAAI,SAACC,GAAM,OAAAtC,EAAMuC,WAAWD,sCAI1DjjB,OAAA6B,eAAW8e,EAAA1gB,UAAA,YAAX,WACI,OAAO4D,KAAKsd,cAGhB,SAAgBgB,GACZte,KAAKsd,SAAWgB,EAChBte,KAAKsf,SACLtf,KAAK8e,iDAOT3iB,OAAA6B,eAAW8e,EAAA1gB,UAAA,cAAX,mBACUS,SAEN,IAAoB,IAAA+N,EAAA6T,GAAAze,KAAKgd,QAAM7c,EAAAyK,EAAAuM,QAAAhX,EAAAiX,KAAAjX,EAAAyK,EAAAuM,OAAE,CAA5B,IAAMoI,EAAKpf,EAAA7B,MACZzB,EAAOX,KAAKqjB,GAERA,EAAM/W,YACN3L,EAAOX,KAAIS,MAAXE,EAAM8hB,GAASY,EAAMvb,2GAI7B,OAAOnH,mCAUXV,OAAA6B,eAAW8e,EAAA1gB,UAAA,uBAAX,WACI,OAAO4D,KAAKgd,OAAOhU,OACf,SAAC5L,EAAGuL,GAAM,YAAMrC,IAANlJ,OAAkBkJ,OAA8BA,IAAjBqC,EAAEhC,gBAA2BL,EAAYlJ,EAAIuL,EAAEhC,YAAa,oCAOtGmW,EAAA1gB,UAAAojB,aAAP,WACI,OAAO1U,KAAK2U,UAAUzf,UAAMsG,EAAW,IAIpCwW,EAAA1gB,UAAAsjB,SAAP,SAAgBnR,GACZ,IAAMxH,EAASwH,EAAMxH,SACrB/G,KAAKkd,QAAQhhB,KAAK6K,GAClB/G,KAAK0e,OAAO3X,GACZ/G,KAAK8e,iBAIFhC,EAAA1gB,UAAAqS,YAAP,SAAmBF,GACf,IAAM9E,EAAQzJ,KAAKkd,QAAQgB,UAAU,SAACyB,GAAM,OAAAA,EAAE3b,OAAO0K,QAAQH,IAAU,IAEvE,GAAI9E,GAAS,EAAG,CACZ,IAAM1C,EAAS/G,KAAKkd,QAAQzT,GAC5B1C,EAAO0H,YAAYF,GAEU,IAAzBxH,EAAO/C,OAAOhI,QACdgE,KAAKkd,QAAQhgB,OAAOuM,EAAO,GAG/BzJ,KAAK0e,SACL1e,KAAK8e,kBAKNhC,EAAA1gB,UAAAwjB,aAAP,SAAoBC,EAAiBC,GACjC,IAAMrW,EAAQzJ,KAAKkd,QAAQgB,UAAU,SAACyB,GAAM,OAAAA,EAAE3b,OAAO0K,QAAQmR,IAAa,IAE1E,GAAIpW,GAAS,EAAG,CACZ,IAAM1C,EAAS+Y,EAAS/Y,SAGxB/G,KAAKkd,QAAQhgB,OAAOuM,EAAO,EAAG1C,GAC9B/G,KAAK0e,OAAO3X,GACZ/G,KAAK8e,kBAKNhC,EAAA1gB,UAAAgN,OAAP,WACI,OACIyU,QAAS,EACThgB,KAAMmC,KAAKnC,KACXiF,SAAU9C,KAAK8C,SACfL,QAASzC,KAAKyC,QACd6b,KAAMte,KAAKse,KACXpB,QAASld,KAAKkd,QAAQiC,IAAI,SAACpY,GAAW,OAAAA,EAAOqC,aAgDtC0T,EAAAiD,aAAf,SAA8DliB,GAC1D,OAAOA,GAGIif,EAAAkD,YAAf,SAAkDniB,GAC9C,OAAOA,GAGIif,EAAAyB,OAAf,SAAsBD,GAClB,OAAOjT,EAAMW,kBAAkBsS,EAAMxB,EAAMmD,aAAejgB,KAAK4e,SAASN,EAAKf,KACzElS,EAAMO,mBAAmB0S,EAAMxB,EAAMoD,qBAG9BpD,EAAAuC,WAAf,SAA0B7G,GACtB,MAAO,GAAGA,EAAI,GAAG2H,cAAgB3H,EAAI4H,OAAO,IAG3BtD,EAAAuD,gBAArB,SAAqCtZ,EAAqBzG,6FACtD,SAAMyG,EAAOF,oBAEb,OAFAgE,EAAAI,QAEA,EAAO3K,SAWHwc,EAAA1gB,UAAAgiB,UAAR,SAAkB3b,GACd,OAAOzC,KAAK+c,SAASmB,UAAU,SAACkB,GAAM,OAAAA,IAAM3c,KAAY,GAGpDqa,EAAA1gB,UAAAsiB,OAAR,eAAe,IAAA4B,KAAAhU,EAAA,EAAAA,EAAAC,UAAAvQ,OAAAsQ,IAAAgU,EAAAhU,GAAAC,UAAAD,GACXtM,KAAKugB,WAAWD,GAAYtB,MAAM,SAAC7T,GAAU,OAAA+T,QAAQ/T,MAAMA,MAGjD2R,EAAA1gB,UAAAmkB,WAAd,SAAyBD,uGACrBtgB,KAAKwgB,eACCC,EAAW,IAAIrV,IACjBkV,EAAWnB,IAA+B,SAACQ,EAAG7jB,GAAM,OAAEA,EAAGghB,EAAMuD,gBAAgBV,EAAG7jB,OAChF4kB,EAAUjT,OAAOkT,yCAEhBF,EAASG,KAAO,GACdH,EAASI,IAAIH,IACdD,EAAS9V,IAAI+V,EAAS,IAAI5Z,QAAQ,SAACoJ,GAAY,OAAAC,WAAWD,EAAS,IAAMwQ,OAG/D,EAAM5Z,QAAQga,KAAKL,EAASM,aALtB,mBAKdtX,EAAQoB,EAAAI,OAEVxB,IAAUiX,GACV1gB,KAAKwgB,eAGTC,EAAS/a,OAAO+D,gCAIhBqT,EAAA1gB,UAAAokB,aAAR,WAII,IAJJ,QAAAjY,EAAAvI,KACUghB,EAAYhhB,KAAKuf,QAGd9V,EAAQ,EAAGA,EAAQzJ,KAAKgd,OAAOhhB,QAC/BglB,EAAUH,IAAI7gB,KAAKgd,OAAOvT,GAAOzJ,KAAKyC,YAGrCgH,EAFFzJ,KAAKgd,OAAO9f,OAAOuM,EAAO,kBAOvBwX,SACDC,EAAgBC,EAAKnE,OAAOP,KAAK,SAAC2C,GAAM,OAAAA,EAAE7W,EAAK9F,WAAawe,EAAS,UAErD3a,IAAlB4a,EACAC,EAAKnE,OAAO9gB,KAAK,IAAImM,EAAU8Y,EAAOF,EAAS,MAE/CpW,EAAAqW,EAAcld,QAAO9G,OAAMP,MAAAkO,EAAA8T,IAAC,EAAGuC,EAAcld,OAAOhI,QAAWilB,EAAS,iBANhF,IAAuB,IAAAG,EAAA3C,GAAAuC,GAASK,EAAAD,EAAAjK,QAAAkK,EAAAjK,KAAAiK,EAAAD,EAAAjK,OAAA,CAA3B,IAAM8J,EAAQI,EAAA/iB,QAAR2iB,qGAUXjhB,KAAKsf,UAGDxC,EAAA1gB,UAAAmjB,MAAR,uBACU1iB,EAAS,IAAIuO,QAEnB,IAAqB,IAAAjL,EAAAse,GAAAze,KAAKkd,SAAOlS,EAAA7K,EAAAgX,QAAAnM,EAAAoM,KAAApM,EAAA7K,EAAAgX,OAAE,CAA9B,IAAMpQ,EAAMiE,EAAA1M,UACb,IAAoB,IAAAyY,EAAA0H,GAAA1X,EAAO/C,QAAMsd,EAAAvK,EAAAI,QAAAmK,EAAAlK,KAAAkK,EAAAvK,EAAAI,OAAE,CAA9B,IAAM5I,EAAK+S,EAAAhjB,MACNijB,EAAYhT,EAAMvO,KAAKyC,SACvB+e,EAAc3kB,EAAOqB,IAAIqjB,QAEXjb,IAAhBkb,EACA3kB,EAAO8N,IAAI4W,GAAahT,IAExBiT,EAAYtlB,KAAKqS,wMAK7B,OAAO1R,GAGHigB,EAAA1gB,UAAAkjB,OAAR,mBAAA/W,EAAAvI,KACIA,KAAKgd,OAAOsB,KAAK,SAAC7gB,EAAGU,GAAM,OAAAoK,EAAKkZ,QAAQhkB,EAAGU,SAE3C,IAAoB,IAAAyM,EAAA6T,GAAAze,KAAKgd,QAAM7c,EAAAyK,EAAAuM,QAAAhX,EAAAiX,KAAAjX,EAAAyK,EAAAuM,OAAE,CAA5B,IAAMoI,EAAKpf,EAAA7B,MACZihB,EAAMvb,OAAOsa,KAAK,SAAC7gB,EAAGU,GAAM,OAAAoK,EAAKkZ,QAAQhkB,EAAGU,yGAI5C2e,EAAA1gB,UAAAqlB,QAAR,SAAgBC,EAAaC,GACzB,OAAQ3hB,KAAKse,KAAKd,YAAc,EAAI,GAAKxd,KAAK4hB,YAAYF,EAAMC,IAG5D7E,EAAA1gB,UAAAwlB,YAAR,SAAoBF,EAAaC,GAC7B,IAAME,EAAeH,EAAK1hB,KAAKse,KAAKf,IAC9BuE,EAAgBH,EAAM3hB,KAAKse,KAAKf,IAEtC,OAAIsE,IAAiBC,EACV,OACiBxb,IAAjBub,GACC,OACiBvb,IAAlBwb,EACA,EACAD,EAAeC,GACd,EAED,GAIDhF,EAAA1gB,UAAA2iB,kBAAd,6GAGwB,OAFpB/e,KAAKwG,kBAAeF,EACdyb,EAAUjF,EAAMM,YAAYlf,IAAI8B,KAAK8C,UAC3C+H,EAAA7K,MAAoB,EAAM+hB,EAAQ1U,yBAAlCxC,EAAKrE,aAAeoE,EAAAK,iBAGhB6R,EAAA1gB,UAAA0iB,cAAR,WACQ9e,KAAKid,WACLjd,KAAKid,aA/bUH,EAAAtb,cAAgB,eAuQfsb,EAAAc,YAAcd,EAAMiD,aAAa,WACjCjD,EAAAgB,SAAWhB,EAAMiD,aAAa,QAC9BjD,EAAAiB,aAAejB,EAAMiD,aAAa,YAClCjD,EAAAqB,YAAcrB,EAAMiD,aAAa,WACjCjD,EAAAuB,SAAWvB,EAAMiD,aAAa,QAC9BjD,EAAAmD,WAAanD,EAAMkD,YAAY,MAC/BlD,EAAAoD,mBAAqBpD,EAAMkD,YAAY,cACvClD,EAAA0B,YAAc1B,EAAMiD,aAAa,WAEjCjD,EAAAM,YAAc,IAAIhS,MACrC,MAAO,IAAIkO,GAAc,IAAI,KAC7B,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,qBAAqB,KAC9C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,oBAAoB,KAC7C,MAAO,IAAIA,GAAc,kBAAkB,KAC3C,MAAO,IAAIrM,EAAqB,WAAW,MAoJpD6P,EAncA,GC3CAkF,GAAA,WAA0B,IAAAjiB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,OAAO6C,WAAA,GAAA+e,YAAA,SAAoCxhB,OAAQnC,MAAAyB,EAAA,OAAAW,SAAA,SAAAC,GAA4CZ,EAAAmiB,OAAAvhB,GAAeE,WAAA,YAAsBV,EAAA,UAAAA,EAAA,gBAAkC8B,YAAA,aAAuBlC,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAoC,UAAAhC,EAAA,eAAAA,EAAA,UAA6DgB,IAAA,SAAWhB,EAAA,eAAoBE,OAAO8hB,eAAA,MAAmBhiB,EAAA,YAAiBE,OAAO+hB,KAAA,MAAWjiB,EAAA,UAAeE,OAAOgiB,MAAA,GAAA7K,KAAAzX,EAAAuiB,eAAoC7hB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAuB,KAAAX,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,eAA8CyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,YAA2CyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,WAA0CyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,UAAyCyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,UAAeE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,cAA6CyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,YAA2CyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,YAA2CyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,UAAoBV,EAAA,YAAiBE,OAAOmX,KAAAzX,EAAAwc,UAAAvd,SAAA,SAAwCyB,OAAQnC,MAAAyB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAvE,KAAAmF,GAAaE,WAAA,WAAoB,eAAAV,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAkEoiB,UAAUvhB,MAAA,SAAAc,GAAyB,OAAA/B,EAAAyiB,gBAAA1gB,OAAqC/B,EAAAmB,GAAA,YAAAf,EAAA,SAAiCE,OAAOwB,MAAA,WAAkB0gB,UAAWvhB,MAAA,SAAAc,GAAyB,OAAA/B,EAAA4B,cAAAG,OAAmC/B,EAAAmB,GAAA,uBAChhEuhB,MCiBAC,GAAA,WAWI,SAAAC,EAAmBpU,GACXA,GACAvO,KAAK4I,YAAc2F,EAAM3F,YACzB5I,KAAK6I,SAAW0F,EAAM1F,UAAY,GAE9B0F,EAAMJ,YAAcwL,GAAmBxL,WACvCnO,KAAKoO,QAAU,GACfpO,KAAKmU,OAAS5F,EAAM4F,OAAO2D,WAC3B9X,KAAKoU,WAAa6D,GAAYH,SAASvJ,EAAM6F,YAC7CpU,KAAK+I,SAAWwF,EAAMxF,SAAS+O,WAC/B9X,KAAKyG,SAAWkc,EAAgBpM,YAAYhI,KAE5CvO,KAAKoO,QAAUG,EAAMH,SAAW,GAChCpO,KAAKmU,OAAS,GACdnU,KAAKoU,WAAa,GAClBpU,KAAK+I,SAAW,GAChB/I,KAAKyG,SAAWzG,KAAKoO,QAAU,GAAKuU,EAAgBpM,YAAYhI,IAGpEvO,KAAKmJ,MAAQoF,EAAMpF,OAAS,KAE5BnJ,KAAK4I,YAAc,GACnB5I,KAAK6I,SAAW,GAChB7I,KAAKoO,QAAU,GACfpO,KAAKmU,OAAS,GACdnU,KAAKoU,WAAa,GAClBpU,KAAK+I,SAAW,GAChB/I,KAAKyG,SAAY,GACjBzG,KAAKmJ,MAAQ,IASzB,OAHmBwZ,EAAApM,YAAf,SAA2BhI,GACvB,YAA0BjI,IAAnBiI,EAAM9H,SAAyB8H,EAAM9H,SAASqR,WAAa,IAE1E6K,EAhDA,GCCAC,GAAA,WAkCI,SAAAC,EAAoCrnB,GAAAwE,KAAAxE,OAExC,OAnCIW,OAAA6B,eAAW6kB,EAAAzmB,UAAA,mBAAX,WACI,OAAO4D,KAAKxE,KAAKoN,6CAGrBzM,OAAA6B,eAAW6kB,EAAAzmB,UAAA,gBAAX,WACI,OAAO4D,KAAKxE,KAAKqN,0CAGrB1M,OAAA6B,eAAW6kB,EAAAzmB,UAAA,eAAX,WACI,OAAO4D,KAAKxE,KAAK4S,cAAW9H,mCAGhCnK,OAAA6B,eAAW6kB,EAAAzmB,UAAA,cAAX,WACI,OAAOqR,OAAOC,WAAW1N,KAAKxE,KAAK2Y,yCAGvChY,OAAA6B,eAAW6kB,EAAAzmB,UAAA,kBAAX,WACI,OAAO6b,GAAYM,aAAavY,KAAKxE,KAAK4Y,6CAG9CjY,OAAA6B,eAAW6kB,EAAAzmB,UAAA,gBAAX,WACI,OAAOqR,OAAOC,WAAW1N,KAAKxE,KAAKuN,2CAGvC5M,OAAA6B,eAAW6kB,EAAAzmB,UAAA,gBAAX,WACI,OAAO4D,KAAKxE,KAAKiL,SAAWgH,OAAOC,WAAW1N,KAAKxE,KAAKiL,eAAYH,mCAGxEnK,OAAA6B,eAAW6kB,EAAAzmB,UAAA,aAAX,WACI,OAAO4D,KAAKxE,KAAK2N,uCAMzB0Z,EApCA,4uBCHAC,GAAA,SAAAxa,GAAA,SAAAya,mDA+BA,OA/BsCC,GAAAD,EAAAza,GAUlCnM,OAAA6B,eAAW+kB,EAAA3mB,UAAA,oBAAX,WACI,QAA4BkK,IAAvBtG,KAAK1B,MACN,MAAM,IAAI0I,MAAM,iBAGpB,OAAQhH,KAAK1B,WAGjB,SAAwBA,GAEpB0B,KAAKijB,MAAM,QAAS3kB,oCAMdykB,EAAA3mB,UAAA8mB,WAAV,SAAqB/hB,GAGjB,OAAOnB,KAAKmjB,MAAMhiB,IAzBtBiiB,IAHCjnB,OAAAknB,EAAA,KAAAlnB,yDA8BL4mB,EA/BA,CAAsCM,EAAA,oTCKtCC,GAAA,SAAAhb,GAYI,SAAAib,IAAA,IAAAhb,EACID,EAAAhM,KAAA0D,OAAOA,YAZKuI,EAAAjH,KAAO,GACPiH,EAAAK,YAAc,IAAIyJ,GAClB9J,EAAAM,SAAW,IAAIwJ,GACf9J,EAAA6F,QAAU,IAAIiE,GACd9J,EAAA4L,OAAS,IAAI9B,GACb9J,EAAA6L,WAAa,IAAII,GACjBjM,EAAAQ,SAAW,IAAIsJ,GACf9J,EAAA9B,SAAW,IAAI4L,GACf9J,EAAAY,MAAQ,IAAIkJ,KAMhC,OAfsCmR,GAAAD,EAAAjb,GAetCib,EAfA,CAAsC3P,ICrBtC6P,GAAA,WAA0B,IAAA1jB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,UAAAI,EAAA,UAAoCE,OAAOqjB,KAAA,GAAAC,KAAA,GAAAC,KAAA7jB,EAAAsiB,SAAsCliB,EAAA,YAAiBE,OAAOyR,MAAA/R,EAAA+R,MAAAC,KAAAhS,EAAAgS,KAAA8R,SAAA9jB,EAAAkS,WAAAlO,MAAAhE,EAAAgE,MAAA+f,OAAA/jB,EAAAyR,WAAqG/Q,OAAQnC,MAAAyB,EAAA,cAAAW,SAAA,SAAAC,GAAmDZ,EAAAgkB,cAAApjB,GAAsBE,WAAA,oBAA6B,GAAAd,EAAAgX,MACrZiN,+uBCoBAC,GAAA,SAAA3b,GAAA,SAAA4b,yDA+DA,OA/DwEC,GAAAD,EAAA5b,GASpEnM,OAAA6B,eAAWkmB,EAAA9nB,UAAA,iBAAX,WACI,OAAO4D,KAAKokB,mBAAmBpS,2CAGnC7V,OAAA6B,eAAWkmB,EAAA9nB,UAAA,kBAAX,WACI,OAAO4D,KAAKokB,mBAAmBnS,4CAGnC9V,OAAA6B,eAAWkmB,EAAA9nB,UAAA,aAAX,WACI,OAAO4D,KAAKokB,mBAAmBtS,uCAGnC3V,OAAA6B,eAAWkmB,EAAA9nB,UAAA,YAAX,WACI,OAAO4D,KAAKokB,mBAAmBrS,sCAGnC5V,OAAA6B,eAAWkmB,EAAA9nB,UAAA,qBAAX,WACI,OAAO+U,GAAaC,YAAYpR,KAAK8D,cACjC9D,KAAK8D,aAAa9D,KAAKqkB,iBAAmBrkB,KAAK8D,kBAGvD,SAAyBxF,GACjB6S,GAAaC,YAAYpR,KAAK8D,cAC9B9D,KAAK8D,aAAa9D,KAAKqkB,iBAAmB/lB,EAE1C0B,KAAK8D,aAAexF,mCAIrB4lB,EAAA9nB,UAAAoV,SAAP,WACI,OAAOxR,KAAKskB,YAAY9S,UAAS,EAAOxR,KAAK8D,aAAc9D,KAAKhB,WAOpE7C,OAAA6B,eAAckmB,EAAA9nB,UAAA,mBAAd,WACI,QAAkBkK,IAAdtG,KAAKwX,KACL,MAAM,IAAIxQ,MAAM,gBAGpB,OAAOhH,KAAKwX,sCAKhBrb,OAAA6B,eAAYkmB,EAAA9nB,UAAA,uBAAZ,WACI,QAA6BkK,IAAzBtG,KAAKhB,SACL,MAAM,IAAIgI,MAAM,oBAGpB,OAAOhH,KAAKhB,0CA3DhBulB,IADCpoB,OAAAknB,EAAA,KAAAlnB,oBACsB,2CAATmV,SAASzG,GAAA1O,oCAKvBooB,IAHCpoB,OAAAknB,EAAA,KAAAlnB,4DA2DL+nB,EA/DA,CAAwEpB,6uBCDxE0B,GAAA,SAAAlc,GAAA,SAAAmc,mDAqBA,OArBoCC,GAAAD,EAAAnc,GAIhCnM,OAAA6B,eAAWymB,EAAAroB,UAAA,aAAX,WACI,OAAO4D,KAAKokB,mBAAmBrgB,uCAO5B0gB,EAAAroB,UAAAoV,SAAP,WACI,OAAOlJ,EAAAlM,UAAMoV,SAAQlV,KAAA0D,OAKzB7D,OAAA6B,eAAcymB,EAAAroB,UAAA,0BAAd,WACI,OAAO4D,KAAKskB,YAAYpmB,IAAIsW,GAAiBxU,KAAKhB,2CAjBtD2lB,IADCxoB,OAAAknB,EAAA,KAAAlnB,0DADgBsoB,EAAME,IAH1BtB,EAAA,MAGoBoB,GAqBrBA,EArBA,CAAoCR,UCpB6KW,GAAA,4BCQjNC,GAAA1oB,OAAA2oB,GAAA,KAAA3oB,CACAyoB,GACAnB,GACAO,IACA,EACA,KACA,WACA,MAIAe,GAAAF,WCnBAG,GAAA,WAA0B,IAAAjlB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,UAAAI,EAAA,UAAoCE,OAAOqjB,KAAA,GAAAC,KAAA,MAAqBxjB,EAAA,cAAmBE,OAAOyR,MAAA/R,EAAA+R,MAAAC,KAAAhS,EAAAgS,KAAA8R,SAAA9jB,EAAAkS,WAAA6R,OAAA/jB,EAAAyR,WAAmF/Q,OAAQnC,MAAAyB,EAAA,cAAAW,SAAA,SAAAC,GAAmDZ,EAAAgkB,cAAApjB,GAAsBE,WAAA,oBAA6B,GAAAd,EAAAgX,MACpXkO,6nBCmBAC,GAAA,SAAA5c,GAAA,SAAA6c,mDAcA,OAdsCC,GAAAD,EAAA7c,GAK3B6c,EAAA/oB,UAAAoV,SAAP,WACI,OAAOlJ,EAAAlM,UAAMoV,SAAQlV,KAAA0D,OAKzB7D,OAAA6B,eAAcmnB,EAAA/oB,UAAA,0BAAd,WACI,OAAO4D,KAAKskB,YAAYpmB,IAAImU,GAAerS,KAAKhB,2CAZnCmmB,EAAQE,IAH5BhC,EAAA,MAGoB8B,GAcrBA,EAdA,CAAsClB,UCpB6KqB,GAAA,GCQnNC,cAAAppB,OAAA2oB,GAAA,KAAA3oB,CACAmpB,GACAN,GACAC,IACA,EACA,KACA,WACA,OAIAO,GAAAD,WCnBAE,GAAA,WAA0B,IAAA1lB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,UAAAI,EAAA,UAAoCE,OAAOqjB,KAAA,GAAAC,KAAA,GAAAC,IAAA,MAA8BzjB,EAAA,gBAAqBE,OAAOyR,MAAA/R,EAAA+R,MAAAC,KAAAhS,EAAAgS,KAAA8R,SAAA9jB,EAAAkS,WAAA3Q,KAAAvB,EAAAuB,KAAAiR,IAAAxS,EAAAwS,IAAAC,IAAAzS,EAAAyS,IAAAC,KAAA1S,EAAA0S,KAAAqR,OAAA/jB,EAAAyR,WAA+I/Q,OAAQnC,MAAAyB,EAAA,cAAAW,SAAA,SAAAC,GAAmDZ,EAAAgkB,cAAApjB,GAAsBE,WAAA,oBAA6B,GAAAd,EAAAgX,MAC3b2O,6nBCmBAC,GAAA,SAAArd,GAAA,SAAAsd,mDA8BA,OA9BuCC,GAAAD,EAAAtd,GACnCnM,OAAA6B,eAAW4nB,EAAAxpB,UAAA,YAAX,WACI,OAAO4D,KAAKokB,mBAAmB9iB,sCAGnCnF,OAAA6B,eAAW4nB,EAAAxpB,UAAA,WAAX,WACI,OAAO4D,KAAKokB,mBAAmB7R,qCAGnCpW,OAAA6B,eAAW4nB,EAAAxpB,UAAA,WAAX,WACI,OAAO4D,KAAKokB,mBAAmB5R,qCAGnCrW,OAAA6B,eAAW4nB,EAAAxpB,UAAA,YAAX,WACI,OAAO4D,KAAKokB,mBAAmB3R,sCAO5BmT,EAAAxpB,UAAAoV,SAAP,WACI,OAAOlJ,EAAAlM,UAAMoV,SAAQlV,KAAA0D,OAKzB7D,OAAA6B,eAAc4nB,EAAAxpB,UAAA,0BAAd,WACI,OAAO4D,KAAKskB,YAAYpmB,IAAImU,GAAerS,KAAKhB,2CA5BnC4mB,EAASE,IAH7BzC,EAAA,MAGoBuC,GA8BrBA,EA9BA,CAAuC3B,UCpB6K8B,GAAA,GCQpNC,cAAA7pB,OAAA2oB,GAAA,KAAA3oB,CACA4pB,GACAN,GACAC,IACA,EACA,KACA,WACA,OAIAO,GAAAD,koBCWAE,GAAA,SAAA5d,GAHA,SAAA6d,IAAA,IAAA5d,EAAA,OAAAD,KAAA3L,MAAAqD,KAAAuM,YAAAvM,YAKWuI,EAAA2Z,QAAS,EAsBT3Z,EAAAgU,UAA4B,IAAI+G,GAGhC/a,EAAA/M,KAAO,IAAIknB,GAiCVna,EAAA6d,YAA4B,OAkCxC,OA9FyCC,GAAAF,EAAA7d,GAKrCnM,OAAA6B,eAAWmoB,EAAA/pB,UAAA,aAAX,WACI,OAAO4D,KAAKomB,YAAc,aAAe,6CAI7CjqB,OAAA6B,eAAWmoB,EAAA/pB,UAAA,qBAAX,WACI,OAAO,IAAIoY,GAAgB,OAAQ,IAAI,GAAM,EAAMyH,GAAWO,MAAM2C,IAAI,SAAC3H,GAAS,OAAAA,EAAKlW,yCAI3FnF,OAAA6B,eAAWmoB,EAAA/pB,UAAA,YAAX,WACI,OAAO4D,KAAKuc,UAAUjb,UAG1B,SAAgBhD,GACZ0B,KAAKuc,UAAYN,GAAWO,MAAMC,KAAK,SAACjF,GAAS,OAAAA,EAAKlW,OAAShD,qCAS5D6nB,EAAA/pB,UAAAuF,cAAP,SAAqB2kB,GACbtmB,KAAKumB,YACLvmB,KAAKwmB,OACLxmB,KAAKymB,UAINN,EAAA/pB,UAAAomB,gBAAP,SAAuB8D,GACnBtmB,KAAKymB,SAIFN,EAAA/pB,UAAA6M,IAAP,WACIjJ,KAAKkiB,QAAS,GAIXiE,EAAA/pB,UAAAoJ,KAAP,SAAY+I,GACR,IAAMgO,EAAYN,GAAWO,MAAMC,KAAK,SAACjF,GAAS,OAAAA,EAAKlW,OAASiN,EAAMjN,YAEpDgF,IAAdiW,IACAvc,KAAKomB,YAAc7X,EACnBvO,KAAKuc,UAAYA,EACjBvc,KAAKxE,KAAO,IAAIknB,GAAgBnU,EAAMmY,WACtC1mB,KAAKkiB,QAAS,IASdiE,EAAA/pB,UAAAmqB,QAAR,WACIvmB,KAAKuc,UAAUzI,kBAAmB,EAElC,IAEI,OAAQ9T,KAAKkjB,WAAW,QAAgB1R,mBAExCxR,KAAKuc,UAAUzI,kBAAmB,IAIlCqS,EAAA/pB,UAAAoqB,KAAR,WACI,IAAM1G,EAAW9f,KAAKuc,UAAUvI,YAAYhU,KAAK8D,aAAc,IAAI8e,GAAgB5iB,KAAKxE,OAEpFwE,KAAKomB,YACLpmB,KAAK8D,aAAa8b,aAAa5f,KAAKomB,YAAatG,GAEjD9f,KAAK8D,aAAa4b,SAASI,IAI3BqG,EAAA/pB,UAAAqqB,MAAR,WAGKzmB,KAAKkjB,WAAW,QAAgByD,QACjC3mB,KAAKxE,KAAO,IAAIknB,GAChB1iB,KAAKuc,UAAY,IAAI+G,GAGrBtjB,KAAKomB,YAAc,KACnBpmB,KAAKkiB,QAAS,GA5FDiE,EAAWS,IAH/BzqB,OAAAknB,EAAA,KAAAlnB,EAAY0qB,YAAcpC,OAAMM,GAAEI,SAAQK,GAAEI,UAASK,OAGjCE,GA8FrBA,EA9FA,CAAyCrD,UC9B6KgE,GAAA,GCQtNC,cAAA5qB,OAAA2oB,GAAA,KAAA3oB,CACA2qB,GACA9E,GACAS,IACA,EACA,KACA,WACA,OAIAuE,GAAAD,WCnBAE,GAAA,WAA0B,IAAAlnB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBY,IAAIC,MAAAjB,EAAAmnB,gBAA0B/mB,EAAA,MAAW0E,MAAA9E,EAAAonB,SAAA,YAA6BpnB,EAAA+D,aAAA,aAAA3D,EAAA,OAAAJ,EAAA+D,aAAA0E,WAAAzI,EAAAgX,KAAA5W,EAAA,UAAAJ,EAAAmB,GAAA,iBAAAnB,EAAA+D,aAAA,WAAA3D,EAAA,UAAAJ,EAAAmB,GAAA,iBAAAnB,EAAAgX,MAAA,GAAAhX,EAAAgX,OAAA5W,EAAA,MAA6N0E,MAAA9E,EAAAonB,SAAApnB,EAAA0C,SAAApC,OAAuC8B,MAAApC,EAAAqnB,eAAyBrnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAsnB,mBAAAlnB,EAAA,MAAgD0E,MAAA9E,EAAAonB,SAAApnB,EAAAmF,cAAA,IAAA7E,OAAgD8B,MAAApC,EAAAunB,kBAAA,MAAkCvnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAwnB,qBAAA,OAAApnB,EAAA,MAAyD0E,MAAA9E,EAAAonB,SAAA,eAAA9mB,OAAyC8B,MAAApC,EAAA+D,aAAAqF,SAAgCpJ,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA+D,aAAA8E,gBAAAzI,EAAA,MAA0D0E,MAAA9E,EAAAonB,SAAA,UAA2BpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA+D,aAAAgF,SAAA3I,EAAA,MAAmD0E,MAAA9E,EAAAonB,SAAA,qBAAsCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAynB,oBAAArnB,EAAA,MAAiD0E,MAAA9E,EAAAonB,SAAA,sBAAuCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA0nB,qBAAAtnB,EAAA,MAAkD0E,MAAA9E,EAAAonB,SAAA,sBAAuCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA2nB,qBAAAvnB,EAAA,MAAkD0E,MAAA9E,EAAAonB,SAAA,uBAAwCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA4nB,sBAAAxnB,EAAA,MAAmD0E,MAAA9E,EAAAonB,SAAA,qBAAsCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA6nB,oBAAAznB,EAAA,MAAiD0E,MAAA9E,EAAAonB,SAAA,sBAAuCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA8nB,qBAAA1nB,EAAA,MAAkD0E,MAAA9E,EAAAonB,SAAA,uBAAwCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA+nB,sBAAA3nB,EAAA,MAAmD0E,MAAA9E,EAAAonB,SAAA,wBAAyCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAgoB,uBAAA5nB,EAAA,MAAoD0E,MAAA9E,EAAAonB,SAAA,oBAAqCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAioB,mBAAA7nB,EAAA,MAAgD0E,MAAA9E,EAAAonB,SAAA,qBAAsCpnB,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAAkoB,oBAAA9nB,EAAA,MAAiD0E,MAAA9E,EAAAonB,SAAA,UAA2BpnB,EAAA+D,aAAA,WAAA3D,EAAA,UAAAA,EAAA,SAAyD8B,YAAA,OAAA5B,OAA0BmC,KAAA,YAAAJ,KAAA,IAA6BI,KAAA,cAAkBrC,EAAA,UAAAJ,EAAAmB,GAAA,mBAAAf,EAAA,UAAAA,EAAA,eAAwEE,OAAO6nB,UAAAnoB,EAAA+D,aAAAqkB,YAAwCpnB,IAAKC,MAAAjB,EAAAqoB,iBAA2BjoB,EAAA,qBAAAJ,EAAAmB,GAAA,cAAAf,EAAA,eAAiEY,IAAIC,MAAAjB,EAAAsoB,mBAA6BloB,EAAA,qBAAAJ,EAAAmB,GAAA,wBAAAnB,EAAAgX,MAAA,MACtmEuR,MCWAC,GAAA,oBAAAA,KAqCA,OAnCkBA,EAAAC,QAAd,SAAsBC,EAAyB5Q,GAC3C,QAAavR,IAARmiB,GAAsBhb,OAAOiC,MAAM+Y,GACpC,MAAO,GAEP,IAAMC,EAAY1oB,KAAK6S,OAAO4V,EAAK5Q,GAEnC,OAAO6Q,EAAUC,UAAU,EAAG3oB,KAAK4oB,wBAAwBF,KAKrDH,EAAAM,SAAd,SAAuBJ,EAAyB5Q,GAC5C,QAAYvR,IAARmiB,EACA,MAAO,GACJ,GAAIhb,OAAOiC,MAAM+Y,GACpB,MAAO,QAEP,IAAMC,EAAY1oB,KAAK6S,OAAO4V,EAAK5Q,GAEnC,OAAO6Q,EAAUC,UAAU3oB,KAAK4oB,wBAAwBF,KAMjDH,EAAA1V,OAAf,SAAsB4V,EAAa5Q,GAC/B,OAAO4Q,EAAIjV,oBACPlN,GAAamN,sBAAuBoE,EAAUqC,sBAAuBrC,EAAUsC,aAAa,KAGrFoO,EAAAK,wBAAf,SAAuCF,GACnC,IAAMI,EAAuBJ,EAAUK,YAAY,KAEnD,OAAOD,EAAuB,EAAIJ,EAAU1sB,OAAS8sB,GAE7DP,EArCA,4uBCmBAS,GAAA,SAAA1gB,GAAA,SAAA2gB,yDAwTA,OAxT0CC,GAAAD,EAAA3gB,KAArB2gB,EAEjB9sB,OAAA6B,eAAkBirB,EAAA,2BAAlB,WACI,OAAO,mCAIX9sB,OAAA6B,eAAkBirB,EAAA,8BAAlB,WACI,OAAOjpB,KAAKmpB,gBAAgBntB,OAAS,mCAa3BitB,EAAAG,kBAAd,SAAgC7jB,GAC5B,OAAOvF,KAAKqpB,gBAAgB9jB,IAIlB0jB,EAAAK,aAAd,SACIC,EAAwB9mB,EAAkByC,EAA0BK,GACpE,IAAM1I,EAAS,IAAI8O,MASnB,OANI3L,KAAKwpB,SAASD,EAAY9mB,EAAS8C,IAEnC1I,EAAOX,KAAK,mBAAoB,kBAI5BqtB,GACJ,KAAKrjB,EAAMoB,SACX,KAAKpB,EAAMqB,gBACX,KAAKrB,EAAMsB,aACX,KAAKtB,EAAMwB,SACX,KAAK1H,KAAKypB,qBACV,KAAKzpB,KAAK0pB,sBACV,KAAK1pB,KAAK2pB,qBACV,KAAK3pB,KAAK4pB,uBACV,KAAK5pB,KAAK6pB,oBACV,KAAK7pB,KAAK8pB,oBACNjtB,EAAOX,KAAK,gBACZ,MACJ,KAAK8D,KAAK+pB,oBACV,KAAK/pB,KAAKgqB,qBACV,KAAKhqB,KAAKiqB,oBACV,KAAKjqB,KAAKkqB,sBACV,KAAKlqB,KAAKmqB,mBACNttB,EAAOX,KAAK,iBACZ,MACJ,SAGJ,IAAMkuB,EAAgB,EAChBC,EAAY,MAAMD,EAClBE,EAAa,MAAMF,EAGzB,OAAQb,GACJ,KAAKvpB,KAAKuqB,WACN1tB,EAAOX,KAAKmuB,EAAW,QACvB,MACJ,KAAK5nB,EACD5F,EAAOX,KAAK,OAAQouB,GACpB,MACJ,KAAKplB,EAAc,GACnB,KAAKgB,EAAMqB,gBACX,KAAKrB,EAAMwB,SACX,KAAKxB,EAAM2B,aACX,KAAK3B,EAAM4B,cACX,KAAK5B,EAAM6B,aACX,KAAK7B,EAAM+B,eACX,KAAKjI,KAAK8pB,oBACNjtB,EAAOX,KAAKmuB,EAAWC,GACvB,MACJ,KAAKpkB,EAAMgC,YACPrL,EAAOX,KAAKmuB,EAAW,QACvB,MACJ,KAAKrqB,KAAK+pB,oBACV,KAAK/pB,KAAKgqB,qBACV,KAAKhqB,KAAKiqB,oBACV,KAAKjqB,KAAKkqB,sBACV,KAAKlqB,KAAKmqB,mBACNttB,EAAOX,KAAKmuB,EAAW,QACvB,MACJ,KAAKrqB,KAAKypB,qBACV,KAAKzpB,KAAK0pB,sBACV,KAAK1pB,KAAK2pB,qBACV,KAAK3pB,KAAK4pB,uBACN/sB,EAAOX,KAAK,OAAQouB,GACpB,MACJ,KAAKtqB,KAAK6pB,oBACNhtB,EAAOX,KAAK,OAAQ,QACpB,MACJ,KAAK8D,KAAKwqB,SACN3tB,EAAOX,KAAK,OAAQouB,GACpB,MACJ,SAIJ,OAAQf,GACJ,KAAKrjB,EAAM+B,eACX,KAAKjI,KAAKkqB,sBACV,KAAKlqB,KAAK4pB,uBACV,KAAK1jB,EAAMgC,YACX,KAAKlI,KAAKmqB,mBACV,KAAKnqB,KAAK6pB,oBACV,KAAK7pB,KAAK8pB,oBACNjtB,EAAOX,KAAK,SACZ,MACJ,SAGJ,GAAsB,IAAlBW,EAAOb,OACP,MAAM,IAAIgL,MAAM,mBAAmBuiB,GAGvC,OAAO1sB,GAMXV,OAAA6B,eAAWirB,EAAA7sB,UAAA,eAAX,WACI,OAAO4D,KAAK8D,aAAaqC,OAAO1D,yCAGpCtG,OAAA6B,eAAWirB,EAAA7sB,UAAA,sBAAX,WACI,OAAO4D,KAAK8D,aAAa9D,KAAKyC,0CAGlCtG,OAAA6B,eAAWirB,EAAA7sB,UAAA,mBAAX,WACI,OAAO4D,KAAKyqB,QAAQzqB,KAAKyC,0CAG7BtG,OAAA6B,eAAWirB,EAAA7sB,UAAA,qBAAX,WACI,OAAO4D,KAAK8D,aAAaqC,OAAOjB,+CAGpC/I,OAAA6B,eAAWirB,EAAA7sB,UAAA,4BAAX,eAAAmM,EAAAvI,KACI,OAAOA,KAAKkF,cAAcia,IAAI,SAACC,GAAM,OAAA7W,EAAKzE,aAAasb,sCAG3DjjB,OAAA6B,eAAWirB,EAAA7sB,UAAA,yBAAX,eAAAmM,EAAAvI,KACI,OAAOA,KAAKkF,cAAcia,IAAI,SAACC,GAAM,OAAA7W,EAAKkiB,QAAQrL,sCAGtDjjB,OAAA6B,eAAWirB,EAAA7sB,UAAA,uBAAX,WACI,YAAsCkK,IAA/BtG,KAAK8D,aAAaiF,SAAyB,GAAKiK,KAAK0X,MAAM1qB,KAAK8D,aAAaiF,UAAU+O,4CAGlG3b,OAAA6B,eAAWirB,EAAA7sB,UAAA,wBAAX,WACI,YAAsCkK,IAA/BtG,KAAK8D,aAAaiF,SACrB,GAAK/I,KAAK8D,aAAaiF,SAASyK,oBAAelN,EAAWqkB,EAAaC,uBAAuBxK,OAAO,oCAG7GjkB,OAAA6B,eAAWirB,EAAA7sB,UAAA,wBAAX,WACI,OAAOmsB,GAAOC,QAAQxoB,KAAK8D,aAAa4C,UAAW,oCAGvDvK,OAAA6B,eAAWirB,EAAA7sB,UAAA,yBAAX,WACI,OAAOmsB,GAAOM,SAAS7oB,KAAK8D,aAAa4C,UAAW,oCAGxDvK,OAAA6B,eAAWirB,EAAA7sB,UAAA,uBAAX,WACI,OAAOmsB,GAAOC,QAAQxoB,KAAK8D,aAAa2C,SAAUzG,KAAK8D,aAAaoF,kDAGxE/M,OAAA6B,eAAWirB,EAAA7sB,UAAA,wBAAX,WACI,OAAOmsB,GAAOM,SAAS7oB,KAAK8D,aAAa2C,SAAUzG,KAAK8D,aAAaoF,kDAGzE/M,OAAA6B,eAAWirB,EAAA7sB,UAAA,yBAAX,WACI,OAAOmsB,GAAOC,QAAQxoB,KAAK8D,aAAa6C,WAAY,oCAGxDxK,OAAA6B,eAAWirB,EAAA7sB,UAAA,0BAAX,WACI,OAAOmsB,GAAOM,SAAS7oB,KAAK8D,aAAa6C,WAAY,oCAGzDxK,OAAA6B,eAAWirB,EAAA7sB,UAAA,sBAAX,WACI,OAAOmsB,GAAOC,QAAQxoB,KAAK8D,aAAa+mB,QAAS,oCAGrD1uB,OAAA6B,eAAWirB,EAAA7sB,UAAA,uBAAX,WACI,OAAOmsB,GAAOM,SAAS7oB,KAAK8D,aAAa+mB,QAAS,oCAI/C5B,EAAA7sB,UAAA+qB,SAAP,SAAgBoC,GACZ,OAAOoB,EAAarB,aAChBC,EAAYvpB,KAAK8D,aAAaqC,OAAO1D,QACrCzC,KAAK8D,aAAaqC,OAAOjB,cAAelF,KAAK8qB,6BAI9C7B,EAAA7sB,UAAA8qB,aAAP,SAAoBZ,GAChBtmB,KAAK8D,aAAamD,UAIfgiB,EAAA7sB,UAAAgsB,cAAP,SAAqB9B,GAEjBtmB,KAAKijB,MAAM,OAAQjjB,KAAK8D,eAIrBmlB,EAAA7sB,UAAAisB,gBAAP,SAAuB/B,GAEnBtmB,KAAKijB,MAAM,SAAUjjB,KAAK8D,eA0CfmlB,EAAA8B,WAAf,SAA0BtoB,GACtB,IAAM5F,GACF8tB,EAAaJ,WAAYrkB,EAAMoB,SAC/BpB,EAAMgC,YAAayiB,EAAaR,mBAAoBQ,EAAad,oBACjEc,EAAaH,SAAUG,EAAab,oBACpC5jB,EAAM+B,eAAgB0iB,EAAaT,sBAAuBS,EAAaf,uBACvE1jB,EAAMsB,aAActB,EAAMwB,SAC1BxB,EAAM6B,aAAc4iB,EAAaV,oBAAqBU,EAAahB,qBACnEzjB,EAAM4B,cAAe6iB,EAAaX,qBAAsBW,EAAajB,sBACrExjB,EAAMqB,gBACNrB,EAAM2B,aAAc8iB,EAAaZ,oBAAqBY,EAAalB,sBAQvE,OALIhnB,IAAYyD,EAAMsB,eAClB3K,EAAO,GAAKqJ,EAAMsB,aAClB3K,EAAO,IAAMqJ,EAAMoB,UAGhBzK,GAGIosB,EAAAO,SAAf,SAAwBD,EAAwB9mB,EAAkB8C,GAC9D,IAAMylB,EAAahrB,KAAKgrB,WAAW9sB,IAAIuE,GAEvC,IAAKuoB,EACD,MAAM,IAAIhkB,MAAM,oBAGpB,OAAOgkB,EAAWtc,QAAQ6a,IAAevpB,KAAKmpB,gBAAgB5jB,IAGnD0jB,EAAA1R,QAAf,SAAqD1Z,GACjD,OAAOA,GAGHorB,EAAA7sB,UAAAquB,QAAR,SAAgBhoB,GACZ,OAAQA,GACJ,IAAK,OACD,MAAO,GACX,IAAK,WACD,OAAOzC,KAAK8D,aAAamnB,aAC7B,QACI,MAAM,IAAIjkB,MAAM,sBAI5B7K,OAAA6B,eAAYirB,EAAA7sB,UAAA,kCAAZ,WACI,QAAgCkK,IAA5BtG,KAAKsF,mBACL,MAAM,IAAI0B,MAAM,iCAGpB,OAAOhH,KAAKsF,oDA1SO2jB,EAAAsB,WAAa,SAGbtB,EAAAuB,SAAW,OAGXvB,EAAAa,oBAAsB,kBA4MrBb,EAAAc,oBAAsBY,EAAapT,QAAQ,mBAC3C0R,EAAAQ,qBAAuBkB,EAAapT,QAAQ,oBAC5C0R,EAAAe,qBAAuBW,EAAapT,QAAQ,oBAC5C0R,EAAAS,sBAAwBiB,EAAapT,QAAQ,qBAC7C0R,EAAAgB,oBAAsBU,EAAapT,QAAQ,mBAC3C0R,EAAAU,qBAAuBgB,EAAapT,QAAQ,oBAC5C0R,EAAAiB,sBAAwBS,EAAapT,QAAQ,qBAC7C0R,EAAAW,uBAAyBe,EAAapT,QAAQ,sBAC9C0R,EAAAkB,mBAAqBQ,EAAapT,QAAQ,kBAC1C0R,EAAAY,oBAAsBc,EAAapT,QAAQ,mBAE3C0R,EAAA2B,uBACpBnX,sBAAuBqF,GAA4BO,eACnDa,sBAAuB,EACvBC,aAAa,GAEO8O,EAAA+B,WAAa,IAAI5f,MACpClF,EAAMoB,SAAUqjB,EAAaI,WAAW7kB,EAAMoB,YAC9CpB,EAAMsB,aAAcmjB,EAAaI,WAAW7kB,EAAMsB,iBAW/ByhB,EAAAE,iBAAoB,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAM/CF,EAAAI,iBAAoB,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,IAhIpE6B,IADC/uB,OAAAknB,EAAA,KAAAlnB,sEAhIgB8sB,EAAY0B,EAAAO,IAPhC7H,EAAA,MAOoB4F,GAwTrBA,EAxTA,CAA0CnG,UC/B6KqI,GAAA,GCQvNC,cAAAjvB,OAAA2oB,GAAA,KAAA3oB,CACAgvB,GACAlE,GACAqB,IACA,EACA,KACA,WACA,OAIA+C,GAAAD,koBCWAE,GAAA,SAAAhjB,GAHA,SAAAijB,IAAA,IAAAhjB,EAAA,OAAAD,KAAA3L,MAAAqD,KAAAuM,YAAAvM,YAoGYuI,EAAAijB,wBAA0BH,GAAaI,uBAGvCljB,EAAAmjB,eAAyBje,OAAOG,MAuB5C,OA3HuC+d,GAAAJ,EAAAjjB,GAEnCnM,OAAA6B,eAAWutB,EAAAnvB,UAAA,kBAAX,WACI,OACIyiB,OAAQ7e,KAAK8D,aAAawa,KAAKf,GAAIC,WAAYxd,KAAK8D,aAAawa,KAAKd,WAAYoO,aAAc,QAIxG,SAAsB1nB,GAClBlE,KAAK8D,aAAawa,MAASf,GAAIrZ,EAAW2a,OAAQrB,WAAYtZ,EAAWsZ,6CAG7ErhB,OAAA6B,eAAWutB,EAAAnvB,UAAA,iBAAX,WACI,YAA8CkK,IAAtCtG,KAAK8D,aAAa8C,iDAG9BzK,OAAA6B,eAAWutB,EAAAnvB,UAAA,8BAAX,WACI,OAAOmsB,GAAOC,QAAQxoB,KAAK8D,aAAa8C,gBAAiB,oCAG7DzK,OAAA6B,eAAWutB,EAAAnvB,UAAA,+BAAX,WACI,OAAOmsB,GAAOM,SAAS7oB,KAAK8D,aAAa8C,gBAAiB,oCAI9DzK,OAAA6B,eAAWutB,EAAAnvB,UAAA,2BAAX,WACI,OAAO4D,KAAKwrB,yDAGhBrvB,OAAA6B,eAAWutB,EAAAnvB,UAAA,kCAAX,WAEI,IAAIS,EAAS,EAQb,OANImD,KAAKuF,qBAAuB,IAG5B1I,GAAWwuB,GAAajC,kBAAkBppB,KAAKuF,qBAAuB8lB,GAAajC,kBAAkB,IAGlGvsB,mCAIJ0uB,EAAAnvB,UAAA0I,eAAP,SAAsBykB,GAClB,IAAM1sB,EAASwuB,GAAa/B,aACxBC,EAAYvpB,KAAK8D,aAAarB,QAASzC,KAAK8D,aAAaoB,cAAelF,KAAKuF,qBAGjF,GAAIsX,GAAM+B,SAAS2K,GAAa,CAC5B,IAAMjL,EAAOte,KAAK8D,aAAawa,KAC/BzhB,EAAOX,KAAK,SAAU,WAAYoiB,EAAKd,WAAa,OAAS,OAEzDc,EAAKf,KAAOgM,GACZ1sB,EAAOX,KAAK,UAIpB,OAAOW,GAIJ0uB,EAAAnvB,UAAAyJ,eAAP,SAAsB0jB,GAClB,OAAO8B,GAAa/B,aAChBC,EAAYvpB,KAAK8D,aAAarB,QAASzC,KAAK8D,aAAaoB,cAAelF,KAAKuF,sBAI9EgmB,EAAAnvB,UAAA2I,WAAP,SAAkB8Z,GACd,IAAMgN,EAAc7rB,KAAK8D,aAAawa,KACtCte,KAAK8D,aAAawa,KAAQuN,EAAYtO,KAAOsB,GACvCtB,GAAIsO,EAAYtO,GAAIC,YAAaqO,EAAYrO,aAAiBD,GAAIsB,EAAQrB,YAAY,IAGzF+N,EAAAnvB,UAAAkG,MAAP,WACItC,KAAK8rB,YAAY7iB,OAGdsiB,EAAAnvB,UAAAqJ,OAAP,SAAc8I,GACVvO,KAAK8rB,YAAYtmB,KAAK+I,IAGnBgd,EAAAnvB,UAAAuJ,SAAP,SAAgB4I,GACZvO,KAAK8D,aAAa2K,YAAYF,IAG3Bgd,EAAAnvB,UAAA2vB,QAAP,eAAAxjB,EAAAvI,KACIA,KAAKgsB,MAAQC,YAAY,WAAM,OAAA1jB,EAAK2jB,qBAAqB,MAGtDX,EAAAnvB,UAAA+vB,cAAP,WACQnsB,KAAKgsB,OACLI,cAAcpsB,KAAKgsB,QAW3B7vB,OAAA6B,eAAYutB,EAAAnvB,UAAA,mBAAZ,WACI,OAAO4D,KAAKkjB,WAAW,2CAGnBqI,EAAAnvB,UAAA8vB,kBAAR,WAEQlsB,KAAK0rB,iBAAmB1rB,KAAKqsB,IAAIC,aAE5BtsB,KAAKwrB,wBAA0B,GAAOxrB,KAAKqsB,IAAIC,WAAa,IAC3DtsB,KAAKwrB,wBACCxrB,KAAKwrB,wBAA0BH,GAAaI,wBAE7B,EAAtBzrB,KAAKqsB,IAAIC,WAAiBtsB,KAAKqsB,IAAIE,aAC/BlB,GAAamB,oBAAsBxsB,KAAKwrB,yBAA2B,KACtExrB,KAAKwrB,yBAKfxrB,KAAK0rB,eAAiB1rB,KAAKqsB,IAAIC,YAzHlBf,EAASkB,IAH7BtwB,OAAAknB,EAAA,KAAAlnB,EAAY0qB,YAAcoC,aAAYoC,GAAElF,YAAWa,OAG/BuE,GA2HrBA,EA3HA,CAAuCzI,UC9B6K4J,GAAA,GCQpNC,cAAAxwB,OAAA2oB,GAAA,KAAA3oB,CACAuwB,GACA9oB,EACAqC,GACA,EACA,KACA,WACA,OAIA2mB,GAAAD,kjECAAE,GAAA,SAAAvkB,GAKI,SAAAwkB,IAAA,IAAAvkB,EACID,EAAAhM,KAAA0D,OAAOA,YALJuI,EAAA3H,iBAAkB,EAClB2H,EAAAnF,yBAA0B,EAK7BmF,EAAK9H,MAAQ8H,EAAKwkB,UAAUC,EAAIC,wBAA0B,IAAIpQ,IAC9D1d,OAAO+tB,iBAAiB,eAAgB,SAACC,GAAO,OAAA5kB,EAAK6kB,eAAeD,aAoP5E,OA5PiCE,GAAAP,EAAAxkB,KAAZwkB,EAWVA,EAAA1wB,UAAA4F,cAAP,SAAqBskB,GACjBtmB,KAAKY,iBAAmBZ,KAAKY,iBAG1BksB,EAAA1wB,UAAA6E,cAAP,SAAqBqlB,GACjBtmB,KAAKY,iBAAkB,EACvBZ,KAAKstB,UAAUtsB,SAGN8rB,EAAA1wB,UAAAsF,mBAAb,SAAgC4kB,oHACtBiH,EAASjH,EAAM7iB,OAAe8pB,MAEf,IAAjBA,EAAMvxB,QAAN,MACMwxB,EAAOD,EAAM,GACL3iB,GAAAC,EAAAmiB,GAAIjiB,OAAM,EAAMiiB,EAAIS,KAAKD,YAAjC/sB,EAAQmK,EAAAjO,MAAAkO,GAAU1K,EAAA8K,SAEpBxK,IACM5C,EAAO2vB,EAAK3vB,KAAK6vB,SAASjtB,EAAMe,eAClCgsB,EAAK3vB,KAAK8qB,UAAU,EAAG6E,EAAK3vB,KAAK7B,OAASyE,EAAMe,cAAcxF,QAAUwxB,EAAK3vB,KAE7EA,EAAK7B,OAAS,IACdyE,EAAM5C,KAAOA,GAGjBmC,KAAKS,MAAQT,KAAK+sB,UAAUtsB,4BAIpCT,KAAKstB,UAAUhvB,MAAQ,aAGpBwuB,EAAA1wB,UAAAuF,cAAP,SAAqB2kB,GACjBtmB,KAAKY,iBAAkB,EACvB,IAAM+sB,EAAO,IAAIC,MAAO5tB,KAAKS,MAAM+e,iBAAoBle,KAAO,qBAC9D0rB,EAAIa,MAAM7tB,KAAKS,MAAMqtB,SAAUH,IAGnCxxB,OAAA6B,eAAW8uB,EAAA1wB,UAAA,iBAAX,WAEI,OAAO4D,KAAKmjB,MAAM9gB,2CAGtBlG,OAAA6B,eAAW8uB,EAAA1wB,UAAA,gBAAX,WACI,OAAO4D,KAAKS,MAAMstB,+CAGtB5xB,OAAA6B,eAAW8uB,EAAA1wB,UAAA,eAAX,WACI,OAAO4D,KAAKS,MAAMuE,kBAGtB,SAAmBvC,GACf,IAAMurB,EAAahuB,KAAKS,MAAMsc,SAASN,KAAK,SAAC2C,GAAM,OAAAA,IAAM3c,EAAQ6S,qBAE9ChP,IAAf0nB,IACAhuB,KAAKS,MAAMgC,QAAUurB,oCASdlB,EAAAG,qBAAf,WA+BI,IAAMgB,EAAkBjB,EAAIkB,qBAE5B,GAAID,EACA,GAAIA,IAAoBjuB,KAAKmuB,0BACzBhvB,OAAOivB,eAAeC,WAAWruB,KAAKsuB,uBACnC,CACH,IAAM7tB,EAAQusB,EAAIjiB,MAAM5L,OAAOovB,aAAaC,QAAQP,IAEpD,GAAIxtB,EAIA,OAHAtB,OAAOivB,eAAeC,WAAWruB,KAAKsuB,mBACtCnvB,OAAOovB,aAAaF,WAAWJ,GAExBxtB,IAQRqsB,EAAAW,KAAf,SAAoBE,GAChB,OAAO,IAAI7mB,QAAgB,SAACoJ,EAASue,GACjC,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACzB,GAAO,OAAAjd,EAAQwe,EAAO7xB,SACvC6xB,EAAOG,QAAU,SAAC1B,GAAO,OAAAsB,EAAO,yBAChCC,EAAOI,WAAWnB,MAIXb,EAAA/hB,MAAf,SAAqB0S,GACjB,IAAMhd,EAAQgd,EAAOZ,GAAM9R,MAAM0S,QAAQnX,EAEzC,GAAI7F,aAAiBoc,GACjB,OAAOpc,EACAA,GACPsuB,MAAMtuB,IAMCqsB,EAAAe,MAAf,SAAqBmB,EAAkBrB,GACnC,GAAIxuB,OAAO8vB,UAAUC,iBACjB/vB,OAAO8vB,UAAUE,WAAWxB,EAAMqB,OAC/B,CACH,IAAMI,EAAOjwB,OAAOkwB,SAASC,cAAc,KAM3CF,EAAK5rB,KAAOrE,OAAOowB,IAAIC,gBAAgB7B,GACvCyB,EAAKK,SAAWT,EAChBK,SAASK,KAAKC,YAAYP,GAC1BA,EAAKpuB,QACLquB,SAASK,KAAKE,YAAYR,KAInBtC,EAAAoB,mBAAf,WACI,IAAMtvB,EAAMO,OAAOivB,eAAeI,QAAQxuB,KAAKsuB,mBAE/C,GAAI1vB,EACA,OAAOA,EAKX,IAFA,IAAM+Z,EAAO,IAAIhN,MAERlC,EAAQ,EAAGA,EAAQtK,OAAOovB,aAAavyB,SAAUyN,EAAO,CAC7D,IAAMwkB,EAAkB9uB,OAAOovB,aAAa3vB,IAAI6K,GAEhD,GAAIwkB,EAAiB,CACjB,IAAM4B,EAAwBpiB,OAAOqiB,SAAS7B,GAE1C4B,GACAlX,EAAKzc,KAAK2zB,IAKtB,OAAoB,IAAhBlX,EAAK3c,OAIF2c,EAAK3P,OAAO,SAACtL,EAAGC,GAAM,OAACA,EAAID,EAAKC,EAAID,GAAG+P,OAAOsiB,mBAAmBjY,gBAJxE,GAOWgV,EAAAkD,mBAAf,SAAkCvvB,GAC9B,IAAI7B,EAA0BoB,KAAKmuB,0BAEnC,GAAI1tB,EAAMuc,OAAOhhB,OAAS,EAAG,CACzB,IAAMyhB,EAAOhd,EAAM+e,eAGnB,QAAS5gB,EAAMoB,KAAKiwB,sBAAsBxS,MAI9Cte,OAAOivB,eAAe8B,QAAQlwB,KAAKsuB,kBAAmB1vB,IAG3CkuB,EAAAmD,sBAAf,SAAqCxS,GAIjC,IAAM0S,EAAend,KAAK0X,OAAOja,KAAKC,MAAQsC,KAAKod,UAAYpd,KAAK8B,IAAI,EAAG,KAE3E,IAAKrH,OAAO4iB,cAAcF,GAItB,MAAM,IAAInpB,MAAM,4BAGpB,IAAMspB,EAAYH,EAAarY,WAE/B,IAAI3Y,OAAOovB,aAAaC,QAAQ8B,GAQhC,OAJAnxB,OAAOovB,aAAa2B,QAAQI,EAAW7S,GAIhCte,OAAOovB,aAAaC,QAAQ8B,KAAe7S,EAAO6S,OAAYhqB,GAGzEnK,OAAA6B,eAAY8uB,EAAA1wB,UAAA,iBAAZ,WAEI,OAAO4D,KAAKmjB,MAAMmK,2CAGdR,EAAA1wB,UAAA2wB,UAAR,SAAkBtsB,GAAlB,IAAA8H,EAAAvI,KAII,OAHAS,EAAMwc,UAAY,WAAM,OAAA1U,EAAKgoB,kBAC7BlB,SAASltB,MAAQ1B,EAAM0B,MAEhB1B,GAGHqsB,EAAA1wB,UAAAgxB,eAAR,SAAuBD,GACnBH,EAAIgD,mBAAmBhwB,KAAKS,QAIxBqsB,EAAA1wB,UAAAm0B,eAAR,aAlLwBzD,EAAAwB,kBAAoB,kBACpBxB,EAAAqB,0BAA4B,IAxEnCrB,EAAGE,EAAAwD,IAFvBr0B,OAAAknB,EAAA,KAAAlnB,EAAY0qB,YAAc0E,UAASqB,kCAEfE,GA4PrBA,EA5PA,CAAiCzJ,EAAA,YCnBoKoN,GAAA,GCQrMC,cAAAv0B,OAAA2oB,GAAA,KAAA3oB,CACAs0B,GACA3wB,EACA6D,GACA,EACA,KACA,KACA,OAIAgtB,GAAAD,WCEAE,EAAA,WAAIC,OAAOC,eAAgB,EAC3BF,EAAA,WAAIG,IAAIC,EAAAroB,GAER,IAAIioB,EAAA,YACF9wB,OAAQ,SAACmxB,GAAM,OAAAA,EAAEN,OAChBO,OAAO","file":"js/app.0640b4cb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/asset-manager/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([11,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetEditor.vue?vue&type=style&index=0&id=32feafae&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetEditor.vue?vue&type=style&index=0&id=32feafae&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/btgexp.6596434e.jpg\";","module.exports = __webpack_public_path__ + \"img/sochain.a10ff54e.png\";","module.exports = __webpack_public_path__ + \"img/quandl.c53e90c0.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextField.vue?vue&type=style&index=0&id=ae68c04a&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextField.vue?vue&type=style&index=0&id=ae68c04a&scoped=true&lang=css\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&id=2de11041&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&id=2de11041&scoped=true&lang=css\"","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=0e670ad0&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=0e670ad0&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/blockcypher.2fc542e8.svg\";","module.exports = __webpack_public_path__ + \"img/blockchain.90495685.svg\";","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css\"","module.exports = __webpack_public_path__ + \"img/coinmarketcap.91ebf5d0.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextArea.vue?vue&type=style&index=0&id=436b9b9c&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextArea.vue?vue&type=style&index=0&id=436b9b9c&scoped=true&lang=css\"","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=0abef6cd&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=0abef6cd&scoped=true&lang=css\"","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the weight units supported by the application. */\nexport enum WeightUnit {\n    Gram = 1,\n    Kilogram = 1000,\n    Grain = 0.06479891, // https://en.wikipedia.org/wiki/Grain_(unit)\n    TroyOunce = Grain * 480, // https://en.wikipedia.org/wiki/Ounce\n    AvdpOunce = Grain * 437.5, // https://en.wikipedia.org/wiki/Ounce\n}\n\n/** @internal */\nexport class WeightUnits {\n    /** @internal */\n    public static toString(unit: WeightUnit) {\n        switch (unit) {\n            case WeightUnit.Gram:\n                return \"g\";\n            case WeightUnit.Kilogram:\n                return \"kg\";\n            case WeightUnit.Grain:\n                return \"gr\";\n            case WeightUnit.TroyOunce:\n                return \"t oz\";\n            case WeightUnit.AvdpOunce:\n                return \"oz\";\n            default:\n                throw new Error(\"Unknown WeightUnit!\");\n        }\n    }\n\n    /** @internal */\n    public static toWeightUnit(str: string) {\n        const result = this.unitMap.get(str);\n\n        if (!result) {\n            throw new Error(\"Unknown WeightUnit string!\");\n        }\n\n        return result;\n    }\n\n    /** @internal */\n    public static getAllStrings() {\n        return this.unitMap.keys();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly unitMap = new Map<string, WeightUnit>(WeightUnits.getMapEntries());\n\n    private static * getMapEntries(): IterableIterator<[string, WeightUnit]> {\n        for (const weightUnitProperty in WeightUnit) {\n            if (Number.parseFloat(weightUnitProperty)) {\n                const weightUnit = Number.parseFloat(weightUnitProperty) as WeightUnit;\n                yield [ WeightUnits.toString(weightUnit), weightUnit ];\n            }\n        }\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('v-navigation-drawer',{attrs:{\"temporary\":\"\",\"app\":\"\"},model:{value:(_vm.isDrawerVisible),callback:function ($$v) {_vm.isDrawerVisible=$$v},expression:\"isDrawerVisible\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-tile',{on:{\"click\":_vm.onOpenClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"open_in_browser\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Open...\")]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":_vm.model.fileExtension},on:{\"change\":_vm.onFileInputChanged}})],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onSaveClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Save...\")])],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"app\":\"\",\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onMenuClicked($event)}}}),_c('v-toolbar-title',{staticClass:\"hidden-xs-only\"},[_c('v-icon',[_vm._v(\"account_balance_wallet\")]),_vm._v(\"  \"+_vm._s(_vm.model.title))],1),_c('v-spacer'),_c('v-btn',{staticClass:\"ml-1 mr-0\",attrs:{\"icon\":\"\",\"title\":\"Add new asset\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.assetList.onAdd($event)}}},[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-menu',{attrs:{\"title\":\"Change grouping\",\"max-height\":\"300px\"}},[_c('v-toolbar-title',{staticClass:\"ml-2 mr-0\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',[_vm._v(_vm._s(_vm.groupBy))]),_c('v-icon',[_vm._v(\"arrow_drop_down\")])],1),_c('v-list',_vm._l((_vm.groupBys),function(newGroupBy){return _c('v-list-tile',{key:newGroupBy,on:{\"click\":function($event){_vm.groupBy = newGroupBy}}},[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(newGroupBy)}})],1)}))],1),_c('v-menu',{attrs:{\"title\":\"Change valuation currency\",\"max-height\":\"300px\"}},[_c('v-toolbar-title',{staticClass:\"ml-2 mr-3\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',[_vm._v(_vm._s(_vm.model.currency))]),_c('v-icon',[_vm._v(\"arrow_drop_down\")])],1),_c('v-list',_vm._l((_vm.model.currencies),function(newCurrency){return _c('v-list-tile',{key:newCurrency,on:{\"click\":function($event){_vm.model.currency = newCurrency}}},[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(newCurrency)}})],1)}))],1)],1),_c('v-content',[_c('v-container',[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('AssetList',{ref:\"assetList\",attrs:{\"value\":_vm.model}})],1)],1)],1),_c('v-footer',{attrs:{\"app\":\"\",\"dark\":\"\",\"color\":\"primary\",\"height\":\"auto\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"400\"},model:{value:(_vm.areDataProvidersVisible),callback:function ($$v) {_vm.areDataProvidersVisible=$$v},expression:\"areDataProvidersVisible\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"flat\":\"\",\"round\":\"\"},slot:\"activator\"},[_vm._v(\"Data Providers\")]),_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Data Providers\")]),_c('v-container',[_c('v-layout',{attrs:{\"column\":\"\",\"justify-center\":\"\"}},[_c('p',{staticClass:\"text-xs-center\"},[_vm._v(\"\\n                  Asset Manager would not work without the following data providers, who generously offer their\\n                  services free of charge:\\n                \")]),_c('v-btn',{attrs:{\"href\":\"https://coinmarketcap.com\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/coinmarketcap.svg\"),\"height\":\"36\"}})]),_c('v-btn',{attrs:{\"href\":\"https://blockchain.info\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/blockchain.svg\"),\"height\":\"36\"}})]),_c('v-btn',{attrs:{\"href\":\"https://blockcypher.com\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/blockcypher.svg\"),\"height\":\"36\"}})]),_c('v-btn',{attrs:{\"href\":\"https://gastracker.io\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/gastracker.png\"),\"height\":\"36\"}}),_vm._v(\" Gastracker.io\\n                \")]),_c('v-btn',{attrs:{\"href\":\"https://ethplorer.io\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/ethplorer.png\"),\"height\":\"36\"}})]),_c('v-btn',{attrs:{\"href\":\"https://btgexp.com\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/btgexp.jpg\"),\"height\":\"36\"}})]),_c('v-btn',{attrs:{\"href\":\"https://chain.so\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/sochain.png\"),\"height\":\"36\"}})]),_c('v-btn',{attrs:{\"href\":\"https://quandl.com\",\"target\":\"_blank\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"./assets/quandl.svg\"),\"height\":\"36\"}})])],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.areDataProvidersVisible = false}}},[_vm._v(\"Close\")])],1)],1)],1),_c('v-btn',{attrs:{\"href\":\"https://github.com/andreashuber69/asset-manager\",\"target\":\"_blank\",\"flat\":\"\",\"round\":\"\"}},[_vm._v(\"Source Code\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('AssetEditor',{ref:\"editor\",attrs:{\"value\":_vm.checkedValue}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"items\":_vm.checkedValue.assets,\"item-key\":\"key\",\"pagination\":_vm.pagination,\"loading\":_vm.isLoading,\"headers-length\":16,\"total-items\":_vm.checkedValue.assets.length,\"hide-actions\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [_c('th',{class:_vm.getHeaderClass('expand')}),_c('th',{class:_vm.getHeaderClass(_vm.checkedValue.groupBy),on:{\"click\":function($event){_vm.changeSort(_vm.checkedValue.groupBy)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkedValue.groupByLabel)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass(_vm.checkedValue.otherGroupBys[0]),on:{\"click\":function($event){_vm.changeSort(_vm.checkedValue.otherGroupBys[0])}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkedValue.otherGroupByLabels[0])+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass('description'),on:{\"click\":function($event){_vm.changeSort('description')}}},[_vm._v(\"\\n        Description \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass('unit')},[_vm._v(\"Unit\")]),_c('th',{class:_vm.getHeaderClass('fineness'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"Fineness\")]),_c('th',{class:_vm.getHeaderClass('unitValue'),attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){_vm.changeSort('unitValue')}}},[_vm._v(\"\\n        Unit Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.currency)+\")\\n      \")],1),_c('th',{class:_vm.getHeaderClass('quantity'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"Quantity\")]),_c('th',{class:_vm.getHeaderClass('totalValue'),attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){_vm.changeSort('totalValue')}}},[_vm._v(\"\\n        Total Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.currency)+\")\\n      \")],1),_c('th',{class:_vm.getHeaderClass('percent'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"%\")]),_c('th',{class:_vm.getHeaderClass('more')})]}},{key:\"items\",fn:function(props){return [_c('AssetListRow',{attrs:{\"value\":props.item,\"visibleColumnCount\":_vm.optionalColumnCount},on:{\"edit\":_vm.onEdit,\"delete\":_vm.onDelete}})]}}])},[_c('v-progress-linear',{attrs:{\"slot\":\"progress\",\"indeterminate\":\"\"},slot:\"progress\"}),_c('template',{slot:\"footer\"},[_c('td',{class:_vm.getFooterClass('grandTotalLabel'),attrs:{\"colspan\":_vm.grandTotalLabelColumnCount}},[_vm._v(\"Grand Total\")]),_c('td',{class:_vm.getFooterClass('totalValueInteger')},[_vm._v(_vm._s(_vm.grandTotalValueInteger))]),_c('td',{class:_vm.getFooterClass('totalValueFraction')},[_vm._v(_vm._s(_vm.grandTotalValueFraction))]),_c('td',{class:_vm.getFooterClass('percentInteger')},[_vm._v(\"100\")]),_c('td',{class:_vm.getFooterClass('percentFraction')},[_vm._v(\".0\")]),_c('td',{class:_vm.getFooterClass('more')})])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundle } from \"./AssetBundle\";\nimport {\n    IAssetIntersection, IAssetUnion, ISerializedAsset, ISerializedObject, SerializedAssetPropertyName,\n} from \"./AssetInterfaces\";\n\nimport { AssetType } from \"./AssetTypes\";\nimport { Unknown } from \"./Value\";\n\n/** @internal */\nexport interface IModel {\n    readonly groupBy: GroupBy;\n    readonly otherGroupBys: GroupBy[];\n    readonly exchangeRate: number | undefined;\n    readonly grandTotalValue: number | undefined;\n}\n\n/** Defines the base of all classes that represent an asset. */\nexport abstract class Asset {\n    public static readonly typeName = Asset.getPropertyName(\"type\");\n    public static readonly descriptionName = Asset.getPropertyName(\"description\");\n    public static readonly locationName = Asset.getPropertyName(\"location\");\n    public static readonly addressName = Asset.getPropertyName(\"address\");\n    public static readonly unitName = Asset.getCalculatedPropertyName(\"unit\");\n    public static readonly weightName = Asset.getPropertyName(\"weight\");\n    public static readonly weightUnitName = Asset.getPropertyName(\"weightUnit\");\n    public static readonly finenessName = Asset.getPropertyName(\"fineness\");\n    public static readonly unitValueName = Asset.getCalculatedPropertyName(\"unitValue\");\n    public static readonly quantityName = Asset.getPropertyName(\"quantity\");\n    public static readonly notesName = Asset.getPropertyName(\"notes\");\n    public static readonly totalValueName = Asset.getCalculatedPropertyName(\"totalValue\");\n    public static readonly percentName = Asset.getCalculatedPropertyName(\"percent\");\n\n    /** Provides the unique key of the asset. */\n    public readonly key = Asset.nextKey++;\n\n    /** Provides the parent model to which this asset belongs. */\n    public readonly parent: IModel;\n\n    public get isExpandable() {\n        return false;\n    }\n\n    /** Provides the type of asset, e.g. 'Silver, 'Gold', 'Bitcoin', 'Litecoin'. */\n    public abstract get type(): AssetType | \"\";\n\n    /** Provides the asset description, e.g. 'Bars', 'Coins', 'Spending', 'Savings'. */\n    public abstract get description(): string;\n\n    /** Provides the location of the asset, e.g. 'Safe', 'Safety Deposit Box', 'Mobile Phone', 'Hardware Wallet'. */\n    public abstract get location(): string;\n\n    /** Provides further information on the location. */\n    public get locationHint() {\n        return \"\";\n    }\n\n    /** Provides the unit of the quantity, e.g. '1 t oz', '10 g', 'BTC'. */\n    public abstract get unit(): string;\n\n    /** Provides the fineness, e.g. 0.999. For anything other than precious metals this is always undefined. */\n    public abstract get fineness(): number | undefined;\n\n    /** Provides the asset quantity. */\n    public abstract get quantity(): number | undefined;\n\n    /** Provides the number of decimals to format the quantity to. */\n    public abstract get displayDecimals(): number;\n\n    /** Provides the asset notes. */\n    public abstract get notes(): string;\n\n    /** @internal */\n    public get unitValue() {\n        return Asset.multiply(this.unitValueUsd, this.parent.exchangeRate);\n    }\n\n    /** @internal */\n    public get totalValue() {\n        return Asset.multiply(this.quantity, this.unitValue);\n    }\n\n    /** @internal */\n    public get percent() {\n        return (this.totalValue === undefined) || (this.parent.grandTotalValue === undefined) ?\n            undefined : this.totalValue / this.parent.grandTotalValue * 100;\n    }\n\n    /** Provides a value indicating whether the asset has any associated actions. */\n    public get hasActions() {\n        return true;\n    }\n\n    /** Provides a value indicating whether the asset can be edited. */\n    public get isEditable() {\n        return true;\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:no-empty prefer-function-over-method\n    public async queryData(): Promise<void> {\n    }\n\n    /** @internal */\n    public abstract get interface(): IAssetUnion;\n\n    /** @internal */\n    public abstract toJSON(): ISerializedAsset;\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    public bundle(bundle?: Unknown): AssetBundle {\n        throw new Error(\"Asset cannot be bundled.\");\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:no-empty prefer-function-over-method\n    public expand() {\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected unitValueUsd: number | undefined = undefined;\n\n    /**\n     * Creates a new [[Asset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     */\n    protected constructor(parent: IModel) {\n        this.parent = parent;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static nextKey = 0;\n\n    private static getPropertyName<T extends keyof (ISerializedObject & IAssetIntersection)>(name: T) {\n        return name;\n    }\n\n    private static getCalculatedPropertyName<T extends keyof Asset>(name: T) {\n        return name;\n    }\n\n    private static multiply(factor1: number | undefined, factor2: number | undefined) {\n        return (factor1 === undefined) || (factor2 === undefined) ? undefined : factor1 * factor2;\n    }\n}\n\nexport type GroupBy = typeof Asset.typeName | typeof Asset.locationName;\n\nexport type AssetDisplayPropertyName = SerializedAssetPropertyName |\n    typeof Asset.unitName | typeof Asset.unitValueName | typeof Asset.totalValueName | typeof Asset.percentName;\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { ISerializedAsset } from \"./AssetInterfaces\";\n\nexport interface ISerializedBundle {\n    readonly primaryAsset: ISerializedAsset;\n}\n\n/**\n * Defines the base of all classes that represent a bundle of assets.\n * @description Asset bundles are primarily useful in conjunction with crypto currencies, where one address can hold a\n * balance of multiple currencies. For example, a BTC address could potentially hold balances of BTC, BCH, BTG, BCD and\n * so on. A bundle of assets is always defined by a primary asset, the details of which are then used to retrieve\n * information about secondary assets. For example, in the case of Ethereum, a [[EthWallet]] object is the primary asset\n * and [[Erc20TokenWallet]] objects are the secondary assets. When the former is instantiated with an address and then\n * put into a bundle by calling [[EthWallet.bundle]], [[Erc20TokenWallet]] objects are automatically added to [[assets]]\n * for each of the ERC20 tokens with a non-zero balance and a listing on coinmarketcap.com.\n * Since every asset must reside in a bundle, there is also the class GenericAssetBundle, which never holds secondary\n * assets besides the primary one. This is used for all [[PreciousMetalAsset]] subclasses and [[CryptoWallet]]\n * subclasses where the associated addresses cannot currently have balances of more than one currency.\n */\nexport abstract class AssetBundle {\n    public static readonly primaryAssetName = \"primaryAsset\";\n\n    /** Provides the bundled assets (primary and secondary). */\n    public abstract get assets(): Asset[];\n\n    /** Deletes `asset` from [[assets]]. If `asset` is the primary asset, all secondary assets are deleted as well. */\n    public abstract deleteAsset(asset: Asset): void;\n\n    /** @internal */\n    public abstract queryData(): Promise<void>;\n\n    /** @internal */\n    public abstract toJSON(): ISerializedBundle;\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { IAssetUnion, ISerializedAsset } from \"./AssetInterfaces\";\n\nexport class AssetGroup extends Asset {\n    public isExpanded = false;\n\n    public get isExpandable() {\n        return true;\n    }\n\n    public get type() {\n        return this.coalesce((a) => a.type) || \"\";\n    }\n\n    public get description() {\n        return this.coalesce((a) => a.description) || \"\";\n    }\n\n    public get location() {\n        return this.coalesce((a) => a.location) || \"\";\n    }\n\n    public get unit() {\n        return this.coalesce((a) => a.unit) || \"\";\n    }\n\n    public get fineness() {\n        return this.coalesce((a) => a.fineness);\n    }\n\n    public get quantity() {\n        return (this.type && this.unit) ?\n            this.assets.reduce<number | undefined>((s, a) => AssetGroup.add(s, a.quantity), 0) : undefined;\n    }\n\n    public get displayDecimals() {\n        return this.coalesce((a) => a.displayDecimals) || 0;\n    }\n\n    public get notes() {\n        return this.assets.reduce((s, a) => `${s}${a.notes}\\n`, \"\");\n    }\n\n    public get unitValue() {\n        return this.coalesce((a) => a.unitValue);\n    }\n\n    public get totalValue() {\n        return this.assets.reduce<number | undefined>((s, a) => AssetGroup.add(s, a.totalValue), 0);\n    }\n\n    public get hasActions() {\n        return false;\n    }\n\n    public get interface(): IAssetUnion {\n        throw new Error(`${AssetGroup.name} cannot be edited.`);\n    }\n\n    public constructor(parent: IModel, public readonly assets: Asset[]) {\n        super(parent);\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public toJSON(): ISerializedAsset {\n        throw new Error(`${AssetGroup.name} cannot be serialized.`);\n    }\n\n    /** @internal */\n    public expand() {\n        this.isExpanded = !this.isExpanded;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static add(addend1: number | undefined, addend2: number | undefined) {\n        return (addend1 === undefined) || (addend2 === undefined) ? undefined : addend1 + addend2;\n    }\n\n    private coalesce<T>(getProperty: (asset: Asset) => T): T | undefined {\n        let previous: T | undefined;\n\n        for (let index = 0; index < this.assets.length; ++index) {\n            if (index === 0) {\n                previous = getProperty(this.assets[index]);\n            } else {\n                if (getProperty(this.assets[index]) !== previous) {\n                    return undefined;\n                }\n            }\n        }\n\n        return previous;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport const silverAssetType = \"Silver\";\nexport const palladiumAssetType = \"Palladium\";\nexport const platinumAssetType = \"Platinum\";\nexport const goldAssetType = \"Gold\";\n\nexport const btcWalletType = \"Bitcoin\";\nexport const ltcWalletType = \"Litecoin\";\nexport const etcWalletType = \"Ethereum Classic\";\nexport const ethWalletType = \"Ethereum\";\nexport const erc20TokenWalletType = \"ERC20 Token\";\nexport const btgWalletType = \"Bitcoin Gold\";\nexport const dashWalletType = \"Dash\";\nexport const zecWalletType = \"Zcash\";\n\nexport type EditablePreciousMetalAssetType =\n    typeof silverAssetType | typeof palladiumAssetType | typeof platinumAssetType | typeof goldAssetType;\ntype PreciousMetalAssetType = EditablePreciousMetalAssetType;\n\nexport type EditableCryptoWalletType =\n    typeof btcWalletType | typeof ltcWalletType | typeof etcWalletType |\n    typeof ethWalletType | typeof btgWalletType | typeof dashWalletType | typeof zecWalletType;\ntype CryptoWalletType = EditableCryptoWalletType | typeof erc20TokenWalletType;\n\nexport type EditableAssetType = EditableCryptoWalletType | EditablePreciousMetalAssetType;\nexport type AssetType = CryptoWalletType | PreciousMetalAssetType;\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Unknown } from \"./Value\";\n\n/** @internal */\nexport class QueryCache {\n    /** @internal */\n    public static fetch(query: string) {\n        let result = this.cache.get(query);\n\n        if (!result) {\n            result = this.fetchImpl(query);\n            this.cache.set(query, result);\n        }\n\n        return result;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly cache = new Map<string, Promise<Unknown | null>>();\n\n    private static async fetchImpl(query: string) {\n        try {\n            return JSON.parse(await (await window.fetch(query)).text()) as Unknown | null;\n        } catch {\n            // It appears that after catch (e), e is sometimes undefined at this point, which is why we go with plain\n            // catch.\n            return { error: \"Can't fetch or parse response.\" };\n        }\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\ntype Primitive = boolean | number | string | symbol;\n\n/**\n * Represents a value of unknown type.\n * @description This is a safe alternative to the built-in type `any`. While `any` is perfect for expressing that a\n * value can be anything, `any` has the problem that the compiler silently accepts just about all operations involving\n * values of type `any`. This type aims at retaining the former quality while doing away with the latter. Unlike `any`,\n * a value of this type cannot be `null` or `undefined`. Therefore, parameters or variables needing to include either\n * (or both) can use an appropriate unit type, e.g. `Unknown | null | undefined`.\n * [[Unknown]] = {} would be a more sensible definition as any type is assignable to an empty interface. However, it\n * appears that tslint is currently unable to handle such a type definition correctly. More precisely, the rule\n * `strict-type-predicates` often reports false positives. With the current definition, there are still some false\n * positives but much fewer.\n */\nexport type Unknown = Primitive | object;\n\n/**\n * Provides methods aimed at the type-safe analysis of values of unknown origin.\n * @description This is primarily useful for picking apart values coming from `JSON.parse`.\n */\nexport class Value {\n    /**\n     * Returns whether the type of `value` is `boolean`.\n     * @description This method is typically used as follows: `array.filter(Value.isBoolean)`.\n     */\n    public static isBoolean(value: Unknown | null | undefined): value is boolean {\n        return typeof value === \"boolean\";\n    }\n\n    /**\n     * Returns whether the type of `value` is `number`.\n     * @description This method is typically used as follows: `array.filter(Value.isNumber)`.\n     */\n    public static isNumber(value: Unknown | null | undefined): value is number {\n        return typeof value === \"number\";\n    }\n\n    /**\n     * Returns whether the type of `value` is `string`.\n     * @description This method is typically used as follows: `array.filter(Value.isString)`.\n     */\n    public static isString(value: Unknown | null | undefined): value is string {\n        return typeof value === \"string\";\n    }\n\n    /**\n     * Returns whether the type of `value` is `Object`.\n     * @description This is only useful if calling code needs to iterate over the properties of `value`. Code that needs\n     * to establish whether `value` has a property with a given name and type should rather call [[hasNumberProperty]],\n     * [[hasStringProperty]], [[hasObjectProperty]] or [[hasArrayProperty]].\n     */\n    public static isObject(value: Unknown | null | undefined): value is { [key: string]: Unknown | null | undefined } {\n        return value instanceof Object;\n    }\n\n    /** Returns whether the type of `value` is `Array`. */\n    public static isArray(value: Unknown | null | undefined): value is Array<Unknown | null | undefined> {\n        return Array.isArray(value);\n    }\n\n    /** Returns whether `value` has an own property of type `boolean` with the name `propertyName`. */\n    public static hasBooleanProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: boolean } {\n        // False positive\n        // tslint:disable-next-line:strict-type-predicates\n        return this.hasProperty(value, propertyName) && this.isBoolean(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `number` with the name `propertyName`. */\n    public static hasNumberProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: number } {\n        // False positive\n        // tslint:disable-next-line:strict-type-predicates\n        return this.hasProperty(value, propertyName) && this.isNumber(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `string` with the name `propertyName`. */\n    public static hasStringProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: string } {\n        // False positive\n        // tslint:disable-next-line:strict-type-predicates\n        return this.hasProperty(value, propertyName) && this.isString(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `Object` with the name `propertyName`. */\n    public static hasObjectProperty<T extends string>(value: Unknown | null | undefined, propertyName: T):\n        value is { [K in T]: { [key: string]: Unknown | null | undefined } } {\n        return this.hasProperty(value, propertyName) && this.isObject(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `Array` with the name `propertyName`. */\n    public static hasArrayProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Array<Unknown | null | undefined> } {\n        return this.hasProperty(value, propertyName) && this.isArray(value[propertyName]);\n    }\n\n    /** @internal */\n    public static getPropertyTypeMismatch(\n        propertyName: string, actual: Unknown | null | undefined, ...expected: Array<Unknown | null | undefined>) {\n        if (this.isObject(actual)) {\n            return this.addPropertyName(propertyName, this.getTypeMismatch(actual[propertyName], ...expected));\n        } else {\n            return this.getTypeMismatch(actual, {});\n        }\n    }\n\n    /** @internal */\n    public static getTypeMismatch(\n        actual: Unknown | null | undefined, ...expected: Array<Unknown | null | undefined>) {\n        const actualType = Value.getTypeName(actual);\n        const expectedTypes = expected.reduce<string>(\n            (p, c) => p === \"\" ? this.getTypeName(c) : `${p} or ${this.getTypeName(c)}`, \"\");\n\n        return `The type of the value (${actualType}) does not match the expected type(s) ${expectedTypes}.`;\n    }\n\n    /** @internal */\n    public static getUnknownValue(propertyName: string, value: Unknown | null | undefined) {\n        const displayValue = typeof value === \"symbol\" ? \"symbol\" : value;\n\n        return this.addPropertyName(\n            propertyName, `The value '${displayValue}' does not match any of the possible values.`);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static hasProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Unknown | null | undefined } {\n        return this.isObject(value) && value.hasOwnProperty(propertyName);\n    }\n\n    private static addPropertyName(propertyName: string, rest: string) {\n        return `'${propertyName}': ${rest}`;\n    }\n\n    private static getTypeName(value: any) {\n        if (value === null) {\n            return \"null\";\n        }\n\n        const type = typeof value;\n\n        return type === \"object\" ? (Array.isArray(value) ? \"Array\" : \"Object\") : type;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a single coinmarketcap.com request. */\nexport class CoinMarketCapRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[CoinMarketCapRequest]] instance.\n     * @param coin The coin to query the current price for.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly coin: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        const price = CoinMarketCapRequest.getPrice(\n            await QueryCache.fetch(`https://api.coinmarketcap.com/v1/ticker/${this.coin}/`));\n\n        return this.invert ? 1 / price : price;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPrice(response: Unknown | null) {\n        if (Value.isArray(response) && (response.length === 1)) {\n            const value = response[0];\n\n            if (Value.hasStringProperty(value, \"price_usd\")) {\n                return Number.parseFloat(value.price_usd);\n            }\n        }\n\n        return  Number.NaN;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetProperties } from \"./IAssetProperties\";\n\n/** Contains the defining properties common to all crypto currency wallets. */\nexport interface ICryptoWalletProperties extends IAssetProperties {\n    /** Provides the public address. */\n    readonly address?: string;\n}\n\nexport const cryptoWalletSuperType = \"Crypto Currency\";\n\n/** @internal */\nexport interface ICryptoWallet extends ICryptoWalletProperties {\n    /** @internal */\n    readonly superType: typeof cryptoWalletSuperType;\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { CoinMarketCapRequest } from \"./CoinMarketCapRequest\";\nimport { cryptoWalletSuperType, ICryptoWallet, ICryptoWalletProperties } from \"./ICryptoWallet\";\n\n/** Defines the base of all classes that represent a crypto currency wallet. */\nexport abstract class CryptoWallet extends Asset implements ICryptoWallet {\n    /** @internal */\n    public static readonly superType = cryptoWalletSuperType;\n\n    public readonly description: string;\n\n    public readonly address: string;\n\n    public readonly location: string;\n\n    public get locationHint() {\n        return this.address;\n    }\n\n    public get unit() {\n        return this.currencySymbol;\n    }\n\n    public get fineness() {\n        return undefined;\n    }\n\n    public quantity: number | undefined;\n\n    public readonly displayDecimals = 6;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public readonly superType = CryptoWallet.superType;\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.slug) {\n            this.unitValueUsd = await new CoinMarketCapRequest(this.slug, false).execute();\n        }\n    }\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            address: this.address || undefined,\n            quantity: this.address ? undefined : this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[CryptoWallet]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     * @param currencySymbol The crypto currency symbol, e.g. 'BTC', 'LTC'.\n     * @param slug The coinmarketcap.com identifier (aka \"website_slug\") of the currency.\n     */\n    protected constructor(\n        parent: IModel, properties: ICryptoWalletProperties,\n        private readonly currencySymbol: string, private readonly slug?: string) {\n        super(parent);\n        this.description = properties.description;\n        this.location = properties.location || \"\";\n        this.address = properties.address || \"\";\n        this.quantity = properties.quantity;\n        this.notes = properties.notes || \"\";\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { AssetBundle, ISerializedBundle } from \"./AssetBundle\";\n\n/** Defines a bundle containing a single asset. */\nexport class GenericAssetBundle extends AssetBundle {\n    public readonly assets: Asset[];\n\n    /** @internal */\n    public constructor(asset: Asset) {\n        super();\n        this.assets = [ asset ];\n    }\n\n    public deleteAsset(asset: Asset) {\n        const index = this.assets.indexOf(asset);\n\n        if (index >= 0) {\n            this.assets.splice(index, 1);\n        }\n    }\n\n    public queryData() {\n        return this.assets[0].queryData();\n    }\n\n    public toJSON(): ISerializedBundle {\n        return {\n            primaryAsset: this.assets[0],\n        };\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { HDNode } from \"bitcoinjs-lib\";\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { btcWalletType } from \"./AssetTypes\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** @internal */\ninterface IBalance {\n    readonly finalBalance: number;\n    readonly transactionCount: number;\n}\n\n/** Represents a BTC wallet. */\nexport class BtcWallet extends CryptoWallet {\n    public static readonly type = btcWalletType;\n\n    public readonly type = BtcWallet.type;\n\n    /** Creates a new [[BtcWallet]] instance.\n     * @description If a non-empty string is passed for [[ICryptoWalletProperties.address]], then an attempt is made to\n     * retrieve the wallet balance, which is then added to whatever is passed for [[ICryptoWalletProperties.quantity]].\n     * It therefore usually only makes sense to specify either address or quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     */\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"BTC\", \"bitcoin\");\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            this.quantity = (this.quantity === undefined ? 0 : this.quantity) +\n                await new BtcWallet.QuantityRequest(this.address).queryQuantity();\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:variable-name max-classes-per-file\n    private static readonly BlockchainRequest = class NestedBlockchainRequest implements IWebRequest<IBalance> {\n        public constructor(addresses: string[]) {\n            this.addresses = addresses.join(\"|\");\n        }\n\n        public async execute() {\n            return NestedBlockchainRequest.getFinalBalance(\n                await QueryCache.fetch(`https://blockchain.info/balance?active=${this.addresses}&cors=true`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getFinalBalance(response: Unknown | null) {\n            const result = { finalBalance: Number.NaN, transactionCount: 0 };\n\n            if (Value.isObject(response)) {\n                for (const address in response) {\n                    if (response.hasOwnProperty(address)) {\n                        const balance = response[address];\n\n                        if (Value.hasNumberProperty(balance, \"final_balance\") &&\n                            Value.hasNumberProperty(balance, \"n_tx\")) {\n                            result.transactionCount += balance.n_tx;\n                            result.finalBalance = (Number.isNaN(result.finalBalance) ? 0 : result.finalBalance) +\n                                balance.final_balance / 1E8;\n                        }\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        private readonly addresses: string;\n    };\n\n    // tslint:disable-next-line:variable-name max-classes-per-file\n    private static readonly QuantityRequest = class NestedQuantityRequest {\n        public constructor(private readonly address: string) {\n        }\n\n        public async queryQuantity() {\n            // TODO: This is a crude test to distinguish between xpub and a normal address\n            if (this.address.length <= 100) {\n                await this.add([ this.address ]);\n            } else {\n                await NestedQuantityRequest.delay(1000);\n                const parent = HDNode.fromBase58(this.address);\n\n                // The following calls use a lot of CPU. By delaying first, we ensure that other queries can be\n                // sent, their respective responses received and even rendered in the UI before the CPU is blocked.\n                await this.addChain(parent.derive(0));\n                await this.addChain(parent.derive(1));\n            }\n\n            return this.quantity;\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static batchLength = 2;\n\n        private static delay(milliseconds: number) {\n            return new Promise<void>((resolve) => setTimeout(resolve, milliseconds));\n        }\n\n        private static getBatch(node: HDNode, offset: number) {\n            const result = new Array<string>(this.batchLength);\n            const start = Date.now();\n\n            for (let index = 0; index < result.length; ++index) {\n                result[index] = node.derive(offset + index).getAddress();\n            }\n\n            if ((Date.now() - start < 500) && (this.batchLength < 16)) {\n                // This is an attempt at making address derivation more bearable on browsers with lousy script execution\n                // speed, e.g. Edge. Of course, this doesn't make the overall process faster, but it avoids blocking the\n                // thread for longer than a second.\n                this.batchLength *= 2;\n            }\n\n            return result;\n        }\n\n        private quantity = 0;\n\n        private async add(addresses: string[]) {\n            const result = await new BtcWallet.BlockchainRequest(addresses).execute();\n            this.quantity += result.finalBalance;\n\n            return result.transactionCount !== 0;\n        }\n\n        private async addChain(node: HDNode) {\n            let index = 0;\n            let batch: string[] | undefined;\n\n            // tslint:disable-next-line:no-empty\n            for (; await this.add(batch = NestedQuantityRequest.getBatch(node, index)); index += batch.length) {\n            }\n        }\n    };\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { btgWalletType } from \"./AssetTypes\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a BTG wallet. */\nexport class BtgWallet extends CryptoWallet {\n    public static readonly type = btgWalletType;\n\n    public readonly type = BtgWallet.type;\n\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"BTG\", \"bitcoin-gold\");\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            this.quantity = (this.quantity === undefined ? 0 : this.quantity) +\n                await new BtgWallet.BtgexpRequest(this.address).execute();\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly BtgexpRequest = class NestedBtgexpRequest implements IWebRequest<number> {\n        public constructor(private readonly address: string) {\n        }\n\n        public async execute() {\n            return NestedBtgexpRequest.getBalance(\n                await QueryCache.fetch(`https://btgexp.com/ext/getbalance/${this.address}`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getBalance(response: Unknown | null) {\n            if (Value.isNumber(response)) {\n                return response;\n            }\n\n            return Number.NaN;\n        }\n    };\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { Unknown } from \"./Value\";\n\nexport type CompositeInput = { [K in AssetPropertyName]?: Unknown | null };\nexport type Input = CompositeInput | Unknown | null | undefined;\n\nexport class InputUtility {\n    public static isComposite(input: Input): input is CompositeInput {\n        return input instanceof Object;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { CompositeInput, Input, InputUtility } from \"./Input\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown } from \"./Value\";\n\n/**\n * Defines the base for all classes that provide input information for a primitive or composite value.\n * @description Input information refers to data displayed in the UI (prompts, hints, whether a value is required, etc.)\n * as well as the means to validate input.\n */\nexport abstract class InputInfo {\n    /**\n     * Validates `value` or a property of `value`.\n     * @description As the type indicates, `value` can be of primitive or composite type. In the former case, `value`\n     * itself is validated. In the latter case, the value of the property with the passed name is validated. Either\n     * way, this method only ever validates a single primitive value.\n     * @returns `true` if the property value is valid; otherwise a string describing why the value is invalid.\n     */\n    public validate(strict: boolean, input: Input, propertyName?: AssetPropertyName) {\n        if (InputUtility.isComposite(input)) {\n            return this.validateComposite(strict, input, propertyName);\n        } else {\n            return this.validatePrimitive(strict, input, propertyName);\n        }\n    }\n\n    /**\n     * Gets the [[PrimitiveInputInfo]] subclass object for a property.\n     * @description When implemented by [[PrimitiveInputInfo]], this method simply returns `this`.\n     * @throws `Error` if `T` does not match the type implied by `propertyName`.\n     */\n    public abstract get<T extends PrimitiveInputInfo>(ctor: { new(): T }, propertyName?: AssetPropertyName): T;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validatePrimitive(\n        strict: boolean, input: Unknown | undefined | null, propertyName?: AssetPropertyName): true | string {\n        return \"A primitive value was provided when a composite one was expected.\";\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateComposite(\n        strict: boolean, input: CompositeInput, propertyName?: AssetPropertyName): true | string {\n        return \"A composite value was provided when a primitive one was expected.\";\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { InputInfo } from \"./InputInfo\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Defines the base for all classes that provide input information for a primitive value. */\nexport abstract class PrimitiveInputInfo extends InputInfo {\n    public get<T extends PrimitiveInputInfo>(ctor: { new(): T }, propertyName?: AssetPropertyName): T {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive input.\");\n        }\n\n        if (!(this instanceof ctor)) {\n            throw new Error(`The requested type ${ctor.name} does not match the actual type.`);\n        }\n\n        return this;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(\n        public readonly label: string, public readonly hint: string,\n        public readonly isPresent: boolean, public readonly isRequired: boolean) {\n        super();\n    }\n\n    /** @internal */\n    protected validatePrimitive(strict: boolean, input: Unknown | undefined | null, propertyName?: AssetPropertyName) {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive value.\");\n        }\n\n        if (!this.isPresent) {\n            return true;\n        }\n\n        if ((input === undefined) || (input === null) || (Value.isString(input) && (input.length === 0))) {\n            return this.isRequired ? \"A value is required.\" : true;\n        }\n\n        return this.validateContent(strict, input);\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateContent(strict: boolean, input: Unknown): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown, Value } from \"./Value\";\n\n/**\n * Provides input information for a property where a valid value either needs to be a number with certain constraints\n * (minimum, maximum, step) or text.\n */\nexport class TextInputInfo extends PrimitiveInputInfo {\n    /** @internal */\n    public constructor(\n        label = \"\", hint = \"\", isPresent = false, isRequired = false,\n        public readonly min?: number, public readonly max?: number, public step?: number) {\n        super(label, hint, isPresent, isRequired);\n    }\n\n    public get type() {\n        return this.isNumber ? \"number\" : \"text\";\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * @internal\n     * @description This duplicates the validation a HTML input control (or a v-text-field) does out of the box. The\n     * duplication is necessary for the following reasons:\n     * - Some browsers localize the validation message. Since this application is in English only, users with a\n     *   non-English locale would get mixed languages in the UI.\n     * - We want to use exactly the same rules to validate file content.\n     */\n    protected validateContent(strict: boolean, input: Unknown) {\n        if (strict) {\n            if (this.isNumber) {\n                if (!Value.isNumber(input)) {\n                    return Value.getTypeMismatch(input, 0);\n                }\n            } else {\n                if (!Value.isString(input)) {\n                    return Value.getTypeMismatch(input, \"\");\n                }\n            }\n        } else {\n            if (!Value.isNumber(input) && !Value.isString(input)) {\n                return Value.getTypeMismatch(input, 0, \"\");\n            }\n        }\n\n        if (this.isNumber) {\n            const numericValue = Value.isNumber(input) ? input : Number.parseFloat(input);\n\n            if ((this.min !== undefined) && (this.min - numericValue > Number.EPSILON)) {\n                return `The value must be greater than or equal to ${TextInputInfo.format(this.min)}.`;\n            }\n\n            if ((this.max !== undefined) && (numericValue - this.max > Number.EPSILON)) {\n                return `The value must be less than or equal to ${TextInputInfo.format(this.max)}.`;\n            }\n\n            const bottom = this.min !== undefined ? this.min : 0;\n            const step = this.step !== undefined ? this.step : 1;\n            const lower = Math.floor((numericValue - bottom) / step) * step + bottom;\n            const upper = lower + step;\n            // The calculations for the conditions below each involve at most 6 operations, each of which might produce\n            // a result that could be wrong by at most Number.EPSILON.\n            const maxError = TextInputInfo.getMaxError(upper, 6);\n\n            if ((numericValue - lower > maxError) && (upper - numericValue > maxError)) {\n                const lowerText = TextInputInfo.format(lower, 4);\n                const upperText = TextInputInfo.format(upper, 5);\n\n                return `The value is invalid. The two nearest valid values are ${lowerText} and ${upperText}.`;\n            }\n        }\n\n        return super.validateContent(strict, input);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get isNumber() {\n        return (this.min !== undefined) || (this.max !== undefined) || (this.step !== undefined);\n    }\n\n    private static format(value: number, epsilonFactor: number = 1) {\n        return value.toLocaleString(\n            undefined, { maximumFractionDigits: Math.floor(-Math.log10(this.getMaxError(value, epsilonFactor))) });\n    }\n\n    private static getMaxError(value: number, epsilonFactor: number = 1) {\n        return Math.max(Math.abs(value) * epsilonFactor, 1) * Number.EPSILON;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetPropertyName, IAssetIntersection } from \"./AssetInterfaces\";\nimport { EditableAssetType } from \"./AssetTypes\";\nimport { IAuxProperties } from \"./IAuxProperties\";\nimport { CompositeInput, InputUtility } from \"./Input\";\nimport { InputInfo } from \"./InputInfo\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Unknown, Value } from \"./Value\";\n\ninterface IValidationResults extends IAuxProperties<true | string> {\n    [key: string]: true | string;\n}\n\nexport interface IAssetConstructor {\n    new (m: IModel, p: IAssetIntersection): Asset;\n}\n\n/**\n * Defines how the properties of a given asset type need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport abstract class AssetInputInfo extends InputInfo implements IAuxProperties<PrimitiveInputInfo> {\n    public abstract get type(): \"\" | EditableAssetType;\n\n    public abstract get description(): TextInputInfo;\n    public abstract get location(): TextInputInfo;\n    public abstract get address(): TextInputInfo;\n    public abstract get weight(): TextInputInfo;\n    public abstract get weightUnit(): SelectInputInfo;\n    public abstract get fineness(): TextInputInfo;\n    public abstract get quantity(): TextInputInfo;\n    public readonly notes = new TextInputInfo(\"Notes\", \"Additional asset information.\", true, false);\n\n    /**\n     * @internal\n     * @description This is a property rather than a parameter of [[validate]], because [[validate]] is often\n     * (indirectly) called from a context where it is not known whether relations should be validated. For example,\n     * validation for Vuetify controls is specified by supplying a function to each control. Said function is then\n     * called while the bound value is modified in the control. However, the same function is also called when the\n     * whole form is validated. Obviously, relations should not be validated in the former case but they must be in the\n     * latter one.\n     */\n    public includeRelations = false;\n\n    /** @internal */\n    public createAsset(parent: IModel, properties: IAssetIntersection) {\n        if (!this.ctor) {\n            throw new Error(\"No ctor was specified.\");\n        }\n\n        return new this.ctor(parent, properties);\n    }\n\n    public get<T extends PrimitiveInputInfo>(ctor: { new(): T }, propertyName?: AssetPropertyName): T {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite input.\");\n        }\n\n        const result = this[propertyName];\n\n        if (!(result instanceof ctor)) {\n            throw new Error(\n                `The requested type ${ctor.name} does not match the actual type of the property ${propertyName}.`);\n        }\n\n        return result;\n    }\n\n    public validateAll(input: Unknown) {\n        if (!InputUtility.isComposite(input)) {\n            return Value.getTypeMismatch(input, {});\n        }\n\n        this.includeRelations = true;\n\n        try {\n            const results: IValidationResults = {\n                description: this.validateComposite(true, input, Asset.descriptionName),\n                location: this.validateComposite(true, input, Asset.locationName),\n                address: this.validateComposite(true, input, Asset.addressName),\n                weight: this.validateComposite(true, input, Asset.weightName),\n                weightUnit: this.validateComposite(true, input, Asset.weightUnitName),\n                fineness: this.validateComposite(true, input, Asset.finenessName),\n                quantity: this.validateComposite(true, input, Asset.quantityName),\n                notes: this.validateComposite(true, input, Asset.notesName),\n            };\n\n            let message = \"\";\n\n            for (const key in results) {\n                if (results.hasOwnProperty(key)) {\n                    const result = results[key];\n\n                    if (result !== true) {\n                        message += `${key}: ${result}\n`;\n                    }\n                }\n            }\n\n            return message ? message : true;\n        } finally {\n            this.includeRelations = false;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(private readonly ctor?: IAssetConstructor) {\n        super();\n    }\n\n    /** @internal */\n    protected validateComposite(strict: boolean, input: CompositeInput, propertyName?: AssetPropertyName) {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite value.\");\n        }\n\n        const singleResult = this[propertyName].validate(strict, input[propertyName], undefined);\n\n        return (singleResult === true) && this.includeRelations ?\n            this.validateRelations(input, propertyName) : singleResult;\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateRelations(input: CompositeInput, propertyName: AssetPropertyName): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\n\n/** Provides input information for a property where a valid value needs to be equal to one of a given list of values. */\nexport class SelectInputInfo extends PrimitiveInputInfo {\n    /** @internal */\n    public constructor(\n        label = \"\", hint = \"\", isPresent = false, isRequired = false, public readonly items: string[] = []) {\n        super(label, hint, isPresent, isRequired);\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { AssetInputInfo, IAssetConstructor } from \"./AssetInputInfo\";\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { EditableCryptoWalletType } from \"./AssetTypes\";\nimport { CompositeInput } from \"./Input\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Unknown } from \"./Value\";\n\n/**\n * Defines how the properties of a crypto currency wallet need to be input and validated and provides a method to create\n * a representation of the wallet.\n */\nexport class CryptoWalletInputInfo extends AssetInputInfo {\n    public readonly description = new TextInputInfo(\n        \"Description\", \"The purpose of the wallet, e.g. 'Spending', 'Savings', 'Cold Storage'.\", true, true);\n    public readonly location = new TextInputInfo(\n        \"Location\", \"The location of the wallet, e.g. 'Mobile Phone', 'Hardware Wallet', 'Safety Deposit Box'.\",\n        true, false);\n    public readonly address: TextInputInfo;\n\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo();\n    public readonly fineness = new TextInputInfo();\n    public readonly quantity: TextInputInfo;\n\n    /** @internal */\n    public constructor(\n        public readonly type: EditableCryptoWalletType,\n        addressHint: string, quantityDecimals: number, ctor: IAssetConstructor) {\n        super(ctor);\n        this.address = new TextInputInfo(\"Address\", addressHint, true, false);\n        this.quantity = new TextInputInfo(\n            \"Quantity\", \"The amount in the wallet.\", true, false, 0, undefined, Math.pow(10, -quantityDecimals));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected validateRelations(input: CompositeInput, propertyName: AssetPropertyName) {\n        if (((propertyName === Asset.addressName) || (propertyName === Asset.quantityName)) &&\n            (CryptoWalletInputInfo.isUndefined(input.address) === CryptoWalletInputInfo.isUndefined(input.quantity))) {\n            return `A value is required for either the ${this.address.label} or the ${this.quantity.label} (not both).`;\n        }\n\n        return super.validateRelations(input, propertyName);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static isUndefined(value: Unknown | null | undefined) {\n        return (value === undefined) || (value === null) || (value === \"\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a single blockcypher.com request. */\nexport class BlockcypherRequest implements IWebRequest<number> {\n    public constructor(private readonly coin: string, private readonly address: string) {\n    }\n\n    public async execute() {\n        return BlockcypherRequest.getBalance(\n            await QueryCache.fetch(`https://api.blockcypher.com/v1/${this.coin}/main/addrs/${this.address}/balance`));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getBalance(response: Unknown | null) {\n        if (Value.hasNumberProperty(response, \"balance\")) {\n            return response.balance / 1E8;\n        }\n\n        return Number.NaN;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { BlockcypherRequest } from \"./BlockcypherRequest\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { Unknown } from \"./Value\";\n\n/** Represents a wallet the balance of which is requested from blockcypher.com. */\nexport abstract class BlockcypherWallet extends CryptoWallet {\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            this.quantity = (this.quantity === undefined ? 0 : this.quantity) +\n                await new BlockcypherRequest(this.unit.toLowerCase(), this.address).execute();\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected constructor(parent: IModel, properties: ICryptoWalletProperties, currencySymbol: string, slug: string) {\n        super(parent, properties, currencySymbol, slug);\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { dashWalletType } from \"./AssetTypes\";\nimport { BlockcypherWallet } from \"./BlockcypherWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\n\n/** Represents a DASH wallet. */\nexport class DashWallet extends BlockcypherWallet {\n    public static readonly type = dashWalletType;\n\n    public readonly type = DashWallet.type;\n\n    /** Creates a new [[DashWallet]] instance.\n     * @description If a non-empty string is passed for [[ICryptoWalletProperties.address]], then an attempt is made to\n     * retrieve the wallet balance, which is then added to whatever is passed for [[ICryptoWalletProperties.quantity]].\n     * It therefore usually only makes sense to specify either address or quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     */\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"DASH\", \"dash\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { etcWalletType } from \"./AssetTypes\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents an ETC wallet. */\nexport class EtcWallet extends CryptoWallet {\n    public static readonly type = etcWalletType;\n\n    public readonly type = EtcWallet.type;\n\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"ETC\", \"ethereum-classic\");\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            this.quantity = (this.quantity === undefined ? 0 : this.quantity) +\n                await new EtcWallet.GastrackerRequest(this.address).execute();\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly GastrackerRequest = class NestedGastrackerRequest implements IWebRequest<number> {\n        public constructor(private readonly address: string) {\n        }\n\n        public async execute() {\n            return NestedGastrackerRequest.getBalance(\n                await QueryCache.fetch(`https://api.gastracker.io/addr/${this.address}`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getBalance(response: Unknown | null) {\n            if (Value.hasObjectProperty(response, \"balance\") &&\n                Value.hasNumberProperty(response.balance, \"ether\")) {\n                return response.balance.ether;\n            }\n\n            return Number.NaN;\n        }\n    };\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { erc20TokenWalletType } from \"./AssetTypes\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\n\n/** Represents an ERC20 token wallet. */\nexport class Erc20TokenWallet extends CryptoWallet {\n    public static readonly type = erc20TokenWalletType;\n\n    public readonly type = Erc20TokenWallet.type;\n\n    public get isEditable() {\n        return false;\n    }\n\n    /** @internal */\n    public constructor(\n        parent: IModel, properties: ICryptoWalletProperties, currencySymbol: string, unitValueUsd: number) {\n        super(parent, properties, currencySymbol);\n        this.unitValueUsd = unitValueUsd;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetBundle, ISerializedBundle } from \"./AssetBundle\";\nimport { ethWalletType } from \"./AssetTypes\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { Erc20TokenWallet } from \"./Erc20TokenWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\ninterface ISerializedEthBundle extends ISerializedBundle {\n    deletedAssets: string[];\n}\n\n/** Represents an ETH wallet. */\nexport class EthWallet extends CryptoWallet {\n    public static readonly type = ethWalletType;\n\n    public readonly type = EthWallet.type;\n\n    /** Creates a new [[EthWallet]] instance.\n     * @description If a non-empty string is passed for [[ICryptoWalletProperties.address]], then an attempt is made to\n     * retrieve the wallet balance, which is then added to whatever is passed for [[ICryptoWalletProperties.quantity]].\n     * It therefore usually only makes sense to specify either address or quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     */\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"ETH\", \"ethereum\");\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new EthWallet.EthBundle(this, bundle);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly EthBundle = class NestedEthBundle extends AssetBundle {\n        public readonly assets: Asset[] = [];\n\n        public constructor(private readonly ethWallet: EthWallet, bundle?: Unknown) {\n            super();\n            this.assets.push(ethWallet);\n\n            if (Value.hasArrayProperty(bundle, NestedEthBundle.deletedAssetsName)) {\n                // tslint:disable-next-line:no-unbound-method\n                this.deletedAssets = bundle[NestedEthBundle.deletedAssetsName].filter(Value.isString);\n            }\n        }\n\n        public deleteAsset(asset: Asset) {\n            const index = this.assets.indexOf(asset);\n\n            if (index >= 0) {\n                this.deletedAssets.push(this.assets[index].unit);\n                this.assets.splice(index, index === 0 ? this.assets.length : 1);\n            }\n        }\n\n        public async queryData() {\n            await this.ethWallet.queryData();\n\n            if (!this.ethWallet.address) {\n                return;\n            }\n\n            const balances = await QueryCache.fetch(\n                `https://api.ethplorer.io/getAddressInfo/${this.ethWallet.address}?apiKey=dvoio1769GSrYx63`);\n\n            this.ethWallet.addQuantity(balances);\n\n            if (!Value.hasArrayProperty(balances, \"tokens\")) {\n                return;\n            }\n\n            for (const token of balances.tokens) {\n                this.addTokenWallet(token);\n            }\n        }\n\n        public toJSON(): ISerializedEthBundle {\n            return {\n                primaryAsset: this.ethWallet.toJSON(),\n                deletedAssets: this.deletedAssets,\n            };\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static readonly deletedAssetsName = NestedEthBundle.getName(\"deletedAssets\");\n\n        private static getName<T extends keyof ISerializedEthBundle>(name: T) {\n            return name;\n        }\n\n        private readonly deletedAssets: string[] = [];\n\n        private addTokenWallet(token: Unknown | null | undefined) {\n            if (!Value.hasObjectProperty(token, \"tokenInfo\") || !Value.hasNumberProperty(token, \"balance\")) {\n                return;\n            }\n\n            const info = token.tokenInfo;\n\n            if (!Value.hasStringProperty(info, \"symbol\") ||\n                (!Value.hasNumberProperty(info, \"decimals\") && !Value.hasStringProperty(info, \"decimals\"))) {\n                return;\n            }\n\n            if (this.deletedAssets.indexOf(info.symbol) >= 0) {\n                return;\n            }\n\n            if (!Value.hasObjectProperty(info, \"price\") || !Value.hasStringProperty(info.price, \"rate\") ||\n                !Value.hasStringProperty(info.price, \"currency\") || (info.price.currency !== \"USD\")) {\n                return;\n            }\n\n            if (token.balance > 0) {\n                const newProperties = {\n                    ...this.ethWallet as ICryptoWalletProperties,\n                    quantity: token.balance / Math.pow(10, Number.parseFloat(info.decimals.toString())),\n                };\n\n                this.assets.push(new Erc20TokenWallet(\n                    this.ethWallet.parent, newProperties, info.symbol, Number.parseFloat(info.price.rate)));\n            }\n        }\n    };\n\n    private static getQuantity(response: Unknown | null) {\n        if (!Value.hasObjectProperty(response, \"ETH\") || !Value.hasNumberProperty(response.ETH, \"balance\")) {\n            return Number.NaN;\n        }\n\n        return response.ETH.balance;\n    }\n\n    private addQuantity(response: Unknown | null) {\n        const quantity = EthWallet.getQuantity(response);\n        this.quantity = (this.quantity === undefined ? 0 : this.quantity) + quantity;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetProperties } from \"./IAssetProperties\";\nimport { WeightUnit } from \"./WeightUnit\";\n\n/** Contains the defining properties common to all precious metal assets. */\nexport interface IPreciousMetalAssetProperties extends IAssetProperties {\n    /** Provides the weight of a single item, expressed in `weightUnit`. */\n    readonly weight: number;\n    /** Provides the unit used for `weight`, e.g. [[TroyOunce]]. */\n    readonly weightUnit: WeightUnit;\n    /** Provides the fineness, e.g. 0.999. */\n    readonly fineness: number;\n}\n\n/** @internal */\nexport const preciousMetalSuperType = \"Precious Metal\";\n\n/** @internal */\nexport interface IPreciousMetalAsset extends IPreciousMetalAssetProperties {\n    /** @internal */\n    readonly superType: typeof preciousMetalSuperType;\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo, IAssetConstructor } from \"./AssetInputInfo\";\nimport { EditablePreciousMetalAssetType } from \"./AssetTypes\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { WeightUnits } from \"./WeightUnit\";\n\n/**\n * Defines how the properties of a precious metal asset need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport class PreciousMetalAssetInputInfo extends AssetInputInfo {\n    public static readonly weightDigits = 3;\n    public static readonly finenessDigits = 6;\n\n    public readonly description = new TextInputInfo(\n        \"Description\", \"The shape of the items, e.g. 'Coins', 'Bars'.\", true, true);\n    public readonly location = new TextInputInfo(\n        \"Location\", \"The location, e.g. 'Safe', 'Safety Deposit Box'.\", true, false);\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo(\n        \"Weight\", \"The weight of a single item, expressed in Unit.\", true, true,\n        PreciousMetalAssetInputInfo.weightStep, undefined, PreciousMetalAssetInputInfo.weightStep);\n    public readonly weightUnit = new SelectInputInfo(\n        \"Unit\", \"The unit Weight is expressed in.\", true, true, Array.from(WeightUnits.getAllStrings()));\n    public readonly fineness = new TextInputInfo(\n        \"Fineness\", \"The precious metal fineness.\", true, true,\n        0.5, 1 - PreciousMetalAssetInputInfo.finenessStep, PreciousMetalAssetInputInfo.finenessStep);\n    public readonly quantity = new TextInputInfo(\"Quantity\", \"The number of items.\", true, true, 0);\n\n    /** @internal */\n    public constructor(public readonly type: EditablePreciousMetalAssetType, ctor: IAssetConstructor) {\n        super(ctor);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly weightStep = Math.pow(10, -PreciousMetalAssetInputInfo.weightDigits);\n    private static readonly finenessStep = Math.pow(10, -PreciousMetalAssetInputInfo.finenessDigits);\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a single quandl.com request. */\nexport class QuandlRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[QuandlRequest]] instance.\n     * @param path The path to query.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly path: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        if (this.path.length > 0) {\n            const response = await QueryCache.fetch(\n                `https://www.quandl.com/api/v3/datasets/${this.path}?api_key=ALxMkuJx2XTUqsnsn6qK&rows=1`);\n            const price = QuandlRequest.getPrice(response);\n\n            return this.invert ? 1 / price : price;\n        } else {\n            return 1;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPrice(response: Unknown | null) {\n        if (Value.hasObjectProperty(response, \"dataset\") &&\n            Value.hasArrayProperty(response.dataset, \"data\") && response.dataset.data.length >= 1) {\n            const array = response.dataset.data[0];\n\n            if (Value.isArray(array) && (array.length >= 2)) {\n                const result = array[1];\n\n                if (Value.isNumber(result)) {\n                    return result;\n                }\n            }\n        }\n\n        return Number.NaN;\n    }\n}\n","\n// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { IPreciousMetalAsset, IPreciousMetalAssetProperties, preciousMetalSuperType } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAssetInputInfo } from \"./PreciousMetalAssetInputInfo\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { Unknown } from \"./Value\";\nimport { WeightUnit, WeightUnits } from \"./WeightUnit\";\n\n/** Defines the base of all classes that represent a precious metal asset. */\nexport abstract class PreciousMetalAsset extends Asset implements IPreciousMetalAsset {\n    /** @internal */\n    public static readonly superType = preciousMetalSuperType;\n\n    public readonly description: string;\n\n    public readonly location: string;\n\n    public readonly weight: number;\n\n    public readonly weightUnit: WeightUnit;\n\n    public get unit() {\n        return PreciousMetalAsset.getUnit(this.weight, this.weightUnit);\n    }\n\n    public readonly fineness: number;\n\n    public readonly quantity: number;\n\n    public readonly displayDecimals = 0;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public readonly superType = PreciousMetalAsset.superType;\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            weight: this.weight,\n            weightUnit: this.weightUnit,\n            fineness: this.fineness,\n            quantity: this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n        this.unitValueUsd =\n            this.pureGramsPerUnit / WeightUnit.TroyOunce * await new QuandlRequest(this.quandlPath, false).execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[PreciousMetalAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     * @param quandlPath The quandl asset path.\n     */\n    protected constructor(\n        parent: IModel, properties: IPreciousMetalAssetProperties, private readonly quandlPath: string) {\n        super(parent);\n        this.description = properties.description;\n        this.location = properties.location || \"\";\n        this.weight = properties.weight;\n        this.weightUnit = properties.weightUnit;\n        this.fineness = properties.fineness;\n        this.quantity = properties.quantity !== undefined ? properties.quantity : Number.NaN;\n        this.notes = properties.notes || \"\";\n        this.pureGramsPerUnit = this.weight * this.weightUnit * this.fineness;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly unitFormatOptions = {\n        maximumFractionDigits: PreciousMetalAssetInputInfo.weightDigits, minimumFractionDigits: 0, useGrouping: true };\n\n    private static getUnit(weight: number, unit: WeightUnit) {\n        return `${weight.toLocaleString(undefined, this.unitFormatOptions)} ${WeightUnits.toString(unit)}`;\n    }\n\n    private readonly pureGramsPerUnit: number;\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { goldAssetType } from \"./AssetTypes\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of gold. */\nexport class GoldAsset extends PreciousMetalAsset {\n    public static readonly type = goldAssetType;\n\n    public readonly type = GoldAsset.type;\n\n    /**\n     * Creates a new [[GoldAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     */\n    public constructor(parent: IModel, properties: IPreciousMetalAssetProperties) {\n        super(parent, properties, \"lbma/gold.json\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { ltcWalletType } from \"./AssetTypes\";\nimport { BlockcypherWallet } from \"./BlockcypherWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\n\n/** Represents an LTC wallet. */\nexport class LtcWallet extends BlockcypherWallet {\n    public static readonly type = ltcWalletType;\n\n    public readonly type = LtcWallet.type;\n\n    /** Creates a new [[LtcWallet]] instance.\n     * @description If a non-empty string is passed for [[ICryptoWalletProperties.address]], then an attempt is made to\n     * retrieve the wallet balance, which is then added to whatever is passed for [[ICryptoWalletProperties.quantity]].\n     * It therefore usually only makes sense to specify either address or quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     */\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"LTC\", \"litecoin\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { palladiumAssetType } from \"./AssetTypes\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of palladium. */\nexport class PalladiumAsset extends PreciousMetalAsset {\n    public static readonly type = palladiumAssetType;\n\n    public readonly type = PalladiumAsset.type;\n\n    /**\n     * Creates a new [[PalladiumAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     */\n    public constructor(parent: IModel, properties: IPreciousMetalAssetProperties) {\n        super(parent, properties, \"lppm/pall.json\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { platinumAssetType } from \"./AssetTypes\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of platinum. */\nexport class PlatinumAsset extends PreciousMetalAsset {\n    public static readonly type = platinumAssetType;\n\n    public readonly type = PlatinumAsset.type;\n\n    /**\n     * Creates a new [[PlatinumAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     */\n    public constructor(parent: IModel, properties: IPreciousMetalAssetProperties) {\n        super(parent, properties, \"lppm/plat.json\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { silverAssetType } from \"./AssetTypes\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of silver. */\nexport class SilverAsset extends PreciousMetalAsset {\n    public static readonly type = silverAssetType;\n\n    public readonly type = SilverAsset.type;\n\n    /**\n     * Creates a new [[SilverAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     */\n    public constructor(parent: IModel, properties: IPreciousMetalAssetProperties) {\n        super(parent, properties, \"lbma/silver.json\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { zecWalletType } from \"./AssetTypes\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a ZEC wallet. */\nexport class ZecWallet extends CryptoWallet {\n    public static readonly type = zecWalletType;\n\n    public readonly type = ZecWallet.type;\n\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"ZEC\", \"zcash\");\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            this.quantity = (this.quantity === undefined ? 0 : this.quantity) +\n                await new ZecWallet.SoChainRequest(this.address).execute();\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly SoChainRequest = class NestedSoChainRequest implements IWebRequest<number> {\n        public constructor(private readonly address: string) {\n        }\n\n        public async execute() {\n            return NestedSoChainRequest.getBalance(\n                await QueryCache.fetch(`https://chain.so/api/v2/get_address_balance/ZEC/${this.address}`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getBalance(response: Unknown | null) {\n            if (Value.hasStringProperty(response, \"status\") && (response.status === \"success\") &&\n                Value.hasObjectProperty(response, \"data\") &&\n                Value.hasStringProperty(response.data, \"confirmed_balance\")) {\n                return Number.parseFloat(response.data.confirmed_balance);\n            }\n\n            return Number.NaN;\n        }\n    };\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { IAssetIntersection } from \"./AssetInterfaces\";\nimport { BtcWallet } from \"./BtcWallet\";\nimport { BtgWallet } from \"./BtgWallet\";\nimport { CryptoWalletInputInfo } from \"./CryptoWalletInputInfo\";\nimport { DashWallet } from \"./DashWallet\";\nimport { EtcWallet } from \"./EtcWallet\";\nimport { EthWallet } from \"./EthWallet\";\nimport { GoldAsset } from \"./GoldAsset\";\nimport { LtcWallet } from \"./LtcWallet\";\nimport { PalladiumAsset } from \"./PalladiumAsset\";\nimport { PlatinumAsset } from \"./PlatinumAsset\";\nimport { PreciousMetalAssetInputInfo } from \"./PreciousMetalAssetInputInfo\";\nimport { SilverAsset } from \"./SilverAsset\";\nimport { Unknown, Value } from \"./Value\";\nimport { ZecWallet } from \"./ZecWallet\";\n\nconst btcHint =\n    \"The wallets public address, single or xpub (ypub is not supported). \" +\n    \"<span style='color:red'>Will be sent to blockchain.info to query the balance.</span>\";\n\nconst ltcHint =\n    \"The wallets single public address (neither Mtub nor Ltub are supported). \" +\n    \"<span style='color:red'>Will be sent to blockcypher.com to query the balance.</span>\";\n\nconst etcHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<span style='color:red'>Will be sent to gastracker.io to query the balance.</span>\";\n\nconst ethHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<span style='color:red'>Will be sent to ethplorer.io to query ETH and token balances.</span>\";\n\nconst btgHint =\n    \"The wallets single public address (ypub is not supported). \" +\n    \"<span style='color:red'>Will be sent to btgexp.com to query the balance.</span>\";\n\nconst dashHint =\n    \"The wallets single public address (drkp is not supported). \" +\n    \"<span style='color:red'>Will be sent to blockcypher.com to query the balance.</span>\";\n\nconst zecHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<span style='color:red'>Will be sent to chain.so to query the balance.</span>\";\n\nexport class AssetInput {\n    /** Provides information objects for each of the supported asset types. */\n    public static readonly infos: AssetInputInfo[] = [\n        new PreciousMetalAssetInputInfo(SilverAsset.type, SilverAsset),\n        new PreciousMetalAssetInputInfo(PalladiumAsset.type, PalladiumAsset),\n        new PreciousMetalAssetInputInfo(PlatinumAsset.type, PlatinumAsset),\n        new PreciousMetalAssetInputInfo(GoldAsset.type, GoldAsset),\n        new CryptoWalletInputInfo(BtcWallet.type, btcHint, 8, BtcWallet),\n        new CryptoWalletInputInfo(LtcWallet.type, ltcHint, 8, LtcWallet),\n        new CryptoWalletInputInfo(EtcWallet.type, etcHint, 18, EtcWallet),\n        new CryptoWalletInputInfo(EthWallet.type, ethHint, 18, EthWallet),\n        new CryptoWalletInputInfo(BtgWallet.type, btgHint, 8, BtgWallet),\n        new CryptoWalletInputInfo(DashWallet.type, dashHint, 8, DashWallet),\n        new CryptoWalletInputInfo(ZecWallet.type, zecHint, 8, ZecWallet),\n    ];\n\n    /** @internal */\n    public static parseBundle(model: IModel, rawBundle: Unknown | null | undefined) {\n        if (!Value.hasObjectProperty(rawBundle, AssetBundle.primaryAssetName)) {\n            return Value.getPropertyTypeMismatch(AssetBundle.primaryAssetName, rawBundle, {});\n        }\n\n        const asset = this.parseAsset(model, rawBundle[AssetBundle.primaryAssetName]);\n\n        if (!(asset instanceof Asset)) {\n            return asset;\n        }\n\n        return asset.bundle(rawBundle);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static parseAsset(model: IModel, rawAsset: Unknown | null | undefined) {\n        if (!Value.hasStringProperty(rawAsset, Asset.typeName)) {\n            return Value.getPropertyTypeMismatch(Asset.typeName, rawAsset, \"\");\n        }\n\n        const assetInfo = this.infos.find((info) => info.type === rawAsset.type);\n\n        if (!assetInfo) {\n            return Value.getUnknownValue(Asset.typeName, rawAsset.type);\n        }\n\n        const validationResult = assetInfo.validateAll(rawAsset);\n\n        if (!this.hasProperties(validationResult, rawAsset)) {\n            return validationResult;\n        }\n\n        return assetInfo.createAsset(model, rawAsset);\n    }\n\n    private static hasProperties(validationResult: true | string, raw: Unknown): raw is IAssetIntersection {\n        return validationResult === true;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, GroupBy, IModel } from \"./Asset\";\nimport { AssetBundle, ISerializedBundle } from \"./AssetBundle\";\nimport { AssetGroup } from \"./AssetGroup\";\nimport { AssetInput } from \"./AssetInput\";\nimport { CoinMarketCapRequest } from \"./CoinMarketCapRequest\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { Unknown, Value } from \"./Value\";\n\nexport type SortBy =\n    typeof Asset.typeName | typeof Asset.descriptionName | typeof Asset.locationName |\n    typeof Asset.unitValueName | typeof Asset.totalValueName;\n\nexport interface ISort {\n    /** Provides the name of the property by which the asset list is currently sorted. */\n    readonly by: SortBy;\n\n    /** Provides a value indicating whether the sort order is descending. */\n    readonly descending: boolean;\n}\n\ninterface ISerializedModel {\n    version: number;\n    name: string;\n    currency: string;\n    groupBy: GroupBy;\n    sort: ISort;\n    bundles: ISerializedBundle[];\n}\n\n/** Represents the main model of the application. */\nexport class Model implements IModel {\n    public static readonly fileExtension = \".assets.json\";\n\n    /**\n     * Returns a [[Model]] object that is equivalent to the passed JSON string or returns a string that describes why\n     * the parse process failed.\n     * @description This is typically called with a string that was returned by [[toJsonString]].\n     * @param json The string to parse\n     * @param onChanged The handler to pass to the [[Model]] constructor.\n     */\n    public static parse(json: string) {\n        let rawModel: Unknown | null;\n\n        try {\n            rawModel = JSON.parse(json) as Unknown | null;\n        } catch (e) {\n            return (e as Error).message;\n        }\n\n        if (!Value.hasNumberProperty(rawModel, Model.versionName)) {\n            return Value.getPropertyTypeMismatch(Model.versionName, rawModel, 0);\n        }\n\n        const version = rawModel[Model.versionName];\n\n        if (version !== 1) {\n            return Value.getUnknownValue(Model.versionName, version);\n        }\n\n        const model = new Model();\n\n        if (Value.hasStringProperty(rawModel, Model.nameName)) {\n            const name = rawModel[Model.nameName];\n\n            if (name.length > 0) {\n                model.name = name;\n            }\n        }\n\n        if (Value.hasStringProperty(rawModel, Model.currencyName)) {\n            const currency = rawModel[Model.currencyName];\n\n            if (model.currencies.findIndex((c) => c === currency) >= 0) {\n                model.currency = currency;\n            }\n        }\n\n        if (Value.hasStringProperty(rawModel, Model.groupByName)) {\n            const groupBy = rawModel[Model.groupByName];\n\n            if (model.isGroupBy(groupBy)) {\n                model.groupBy = groupBy;\n            }\n        }\n\n        if (Value.hasObjectProperty(rawModel, Model.sortName)) {\n            const sort = rawModel[Model.sortName];\n\n            if (Model.isSort(sort)) {\n                model.sort = sort;\n            }\n        }\n\n        if (!Value.hasArrayProperty(rawModel, Model.bundlesName)) {\n            return Value.getPropertyTypeMismatch(Model.bundlesName, rawModel, []);\n        }\n\n        for (const rawBundle of rawModel.bundles) {\n            const bundle = AssetInput.parseBundle(model, rawBundle);\n\n            if (!(bundle instanceof AssetBundle)) {\n                return bundle;\n            }\n\n            model.bundles.push(bundle);\n        }\n\n        model.update(...model.bundles);\n\n        return model;\n    }\n\n    public static isSortBy(sortBy: string | undefined): sortBy is SortBy {\n        switch (sortBy) {\n            case Asset.typeName:\n            case Asset.descriptionName:\n            case Asset.locationName:\n            case Asset.unitValueName:\n            case Asset.totalValueName:\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    /** Provides the name of the asset collection. */\n    public name = \"New\";\n    public readonly fileExtension = Model.fileExtension;\n\n    public get fileName() {\n        return `${this.name}${this.fileExtension}`;\n    }\n\n    public get title() {\n        return `${this.name} - Asset Manager`;\n    }\n\n    /** Provides the available currencies to value the assets in. */\n    public get currencies() {\n        return Array.from(Model.currencyMap.keys());\n    }\n\n    /** Provides the selected currency. */\n    public get currency() {\n        return this.currencyImpl;\n    }\n\n    /** Provides the selected currency. */\n    public set currency(currency: string) {\n        this.currencyImpl = currency;\n        this.notifyChanged();\n        this.onCurrencyChanged().catch((reason) => console.error(reason));\n    }\n\n    /** Provides the property names by which the asset list can be grouped. */\n    public readonly groupBys: GroupBy[] = [ Asset.typeName, Asset.locationName ];\n\n    /** Provides the labels for the properties by which the asset list can be grouped. */\n    public get groupByLabels() {\n        return this.groupBys.map((g) => Model.capitalize(g));\n    }\n\n    /** Provides the name of the property by which the asset list is currently grouped. */\n    public get groupBy() {\n        return this.groupByImpl;\n    }\n\n    public set groupBy(groupBy: GroupBy) {\n        this.groupByImpl = groupBy;\n        this.groups.length = 0;\n        this.update();\n        this.notifyChanged();\n    }\n\n    /** Provides the label for the property by which the asset list is currently grouped. */\n    public get groupByLabel() {\n        return Model.capitalize(this.groupBy);\n    }\n\n    /** Provides the property names by which the asset list is currently *not* grouped. */\n    public get otherGroupBys() {\n        const result = Array.from(this.groupBys);\n        result.splice(result.indexOf(this.groupBy), 1);\n\n        return result;\n    }\n\n    /** Provides the labels for the properties by which the asset list is currently *not* grouped. */\n    public get otherGroupByLabels() {\n        return this.otherGroupBys.map((g) => Model.capitalize(g));\n    }\n\n    /** Provides information on how to sort the asset list. */\n    public get sort() {\n        return this.sortImpl;\n    }\n\n    public set sort(sort: ISort) {\n        this.sortImpl = sort;\n        this.doSort();\n        this.notifyChanged();\n    }\n\n    /** Provides the asset groups. */\n    public readonly groups = new Array<AssetGroup>();\n\n    /** Provides the assets to value. */\n    public get assets() {\n        const result: Asset[] = [];\n\n        for (const group of this.groups) {\n            result.push(group);\n\n            if (group.isExpanded) {\n                result.push(...group.assets);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Provides the USD exchange rate of the currently selected currency (USDXXX, where XXX is the currently selected\n     * currency).\n     */\n    public exchangeRate: number | undefined = 1;\n\n    /** Provides the sum of all asset total values. */\n    public get grandTotalValue() {\n        return this.groups.reduce<number | undefined>(\n            (s, a) => s === undefined ? undefined : (a.totalValue === undefined ? undefined : s + a.totalValue), 0);\n    }\n\n    /** Provides the method that is called when the model has changed. */\n    public onChanged: (() => void) | undefined = undefined;\n\n    /** Returns a JSON-formatted string representing the model. */\n    public toJsonString() {\n        return JSON.stringify(this, undefined, 2);\n    }\n\n    /** Adds `bundle` to the list of asset bundles. */\n    public addAsset(asset: Asset) {\n        const bundle = asset.bundle();\n        this.bundles.push(bundle);\n        this.update(bundle);\n        this.notifyChanged();\n    }\n\n    /** Deletes `asset`. */\n    public deleteAsset(asset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(asset) >= 0);\n\n        if (index >= 0) {\n            const bundle = this.bundles[index];\n            bundle.deleteAsset(asset);\n\n            if (bundle.assets.length === 0) {\n                this.bundles.splice(index, 1);\n            }\n\n            this.update();\n            this.notifyChanged();\n        }\n    }\n\n    /** Replaces the bundle containing `oldAsset` with `newBundle`. */\n    public replaceAsset(oldAsset: Asset, newAsset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(oldAsset) >= 0);\n\n        if (index >= 0) {\n            const bundle = newAsset.bundle();\n            // Apparently, Vue cannot detect the obvious way of replacing (this.bundles[index] = newBundle):\n            // https://codingexplained.com/coding/front-end/vue-js/array-change-detection\n            this.bundles.splice(index, 1, bundle);\n            this.update(bundle);\n            this.notifyChanged();\n        }\n    }\n\n    /** @internal */\n    public toJSON(): ISerializedModel {\n        return {\n            version: 1,\n            name: this.name,\n            currency: this.currency,\n            groupBy: this.groupBy,\n            sort: this.sort,\n            bundles: this.bundles.map((bundle) => bundle.toJSON()),\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly versionName = Model.getModelName(\"version\");\n    private static readonly nameName = Model.getModelName(\"name\");\n    private static readonly currencyName = Model.getModelName(\"currency\");\n    private static readonly groupByName = Model.getModelName(\"groupBy\");\n    private static readonly sortName = Model.getModelName(\"sort\");\n    private static readonly sortByName = Model.getSortName(\"by\");\n    private static readonly sortDescendingName = Model.getSortName(\"descending\");\n    private static readonly bundlesName = Model.getModelName(\"bundles\");\n\n    private static readonly currencyMap = new Map<string, IWebRequest<number>>([\n        [\"USD\", new QuandlRequest(\"\", false)],\n        [\"AUD\", new QuandlRequest(\"boe/xudladd.json\", false)],\n        [\"CAD\", new QuandlRequest(\"boe/xudlcdd.json\", false)],\n        [\"CNY\", new QuandlRequest(\"boe/xudlbk73.json\", false)],\n        [\"CHF\", new QuandlRequest(\"boe/xudlsfd.json\", false)],\n        [\"CZK\", new QuandlRequest(\"boe/xudlbk27.json\", false)],\n        [\"DKK\", new QuandlRequest(\"boe/xudldkd.json\", false)],\n        [\"GBP\", new QuandlRequest(\"boe/xudlgbd.json\", false)],\n        [\"HKD\", new QuandlRequest(\"boe/xudlhdd.json\", false)],\n        [\"HUF\", new QuandlRequest(\"boe/xudlbk35.json\", false)],\n        [\"INR\", new QuandlRequest(\"boe/xudlbk64.json\", false)],\n        [\"JPY\", new QuandlRequest(\"boe/xudljyd.json\", false)],\n        [\"KRW\", new QuandlRequest(\"boe/xudlbk74.json\", false)],\n        [\"LTL\", new QuandlRequest(\"boe/xudlbk38.json\", false)],\n        [\"MYR\", new QuandlRequest(\"boe/xudlbk66.json\", false)],\n        [\"NIS\", new QuandlRequest(\"boe/xudlbk65.json\", false)],\n        [\"NOK\", new QuandlRequest(\"boe/xudlnkd.json\", false)],\n        [\"NZD\", new QuandlRequest(\"boe/xudlndd.json\", false)],\n        [\"PLN\", new QuandlRequest(\"boe/xudlbk49.json\", false)],\n        [\"RUB\", new QuandlRequest(\"boe/xudlbk69.json\", false)],\n        [\"SAR\", new QuandlRequest(\"boe/xudlsrd.json\", false)],\n        [\"SEK\", new QuandlRequest(\"boe/xudlskd.json\", false)],\n        [\"SGD\", new QuandlRequest(\"boe/xudlsgd.json\", false)],\n        [\"THB\", new QuandlRequest(\"boe/xudlbk72.json\", false)],\n        [\"TRY\", new QuandlRequest(\"boe/xudlbk75.json\", false)],\n        [\"TWD\", new QuandlRequest(\"boe/xudltwd.json\", false)],\n        [\"ZAR\", new QuandlRequest(\"boe/xudlzrd.json\", false)],\n        [\"XAG\", new QuandlRequest(\"lbma/silver.json\", true)],\n        [\"XAU\", new QuandlRequest(\"lbma/gold.json\", true)],\n        [\"BTC\", new CoinMarketCapRequest(\"bitcoin\", true)],\n    ]);\n\n    private static getModelName<T extends keyof ISerializedModel>(name: T) {\n        return name;\n    }\n\n    private static getSortName<T extends keyof ISort>(name: T) {\n        return name;\n    }\n\n    private static isSort(sort: Unknown): sort is ISort {\n        return Value.hasStringProperty(sort, Model.sortByName) && this.isSortBy(sort.by) &&\n            Value.hasBooleanProperty(sort, Model.sortDescendingName);\n    }\n\n    private static capitalize(str: string) {\n        return `${str[0].toUpperCase()}${str.substr(1)}`;\n    }\n\n    private static async queryBundleData(bundle: AssetBundle, id: number) {\n        await bundle.queryData();\n\n        return id;\n    }\n\n    private readonly bundles = new Array<AssetBundle>();\n\n    private currencyImpl = Model.currencyMap.keys().next().value;\n\n    private groupByImpl: GroupBy = Asset.typeName;\n\n    private sortImpl: ISort = { by: Asset.totalValueName, descending: true };\n\n    private isGroupBy(groupBy: string): groupBy is GroupBy {\n        return this.groupBys.findIndex((g) => g === groupBy) >= 0;\n    }\n\n    private update(...newBundles: AssetBundle[]) {\n        this.updateImpl(newBundles).catch((error) => console.error(error));\n    }\n\n    private async updateImpl(newBundles: AssetBundle[]) {\n        this.updateGroups();\n        const promises = new Map<number, Promise<number>>(\n            newBundles.map<[number, Promise<number>]>((b, i) => [ i, Model.queryBundleData(b, i) ]));\n        const delayId = Number.MAX_SAFE_INTEGER;\n\n        while (promises.size > 0) {\n            if (!promises.has(delayId)) {\n                promises.set(delayId, new Promise((resolve) => setTimeout(resolve, 1000, delayId)));\n            }\n\n            const index = await Promise.race(promises.values());\n\n            if (index === delayId) {\n                this.updateGroups();\n            }\n\n            promises.delete(index);\n        }\n    }\n\n    private updateGroups() {\n        const newGroups = this.group();\n\n        // Remove no longer existing groups\n        for (let index = 0; index < this.groups.length;) {\n            if (!newGroups.has(this.groups[index][this.groupBy])) {\n                this.groups.splice(index, 1);\n            } else {\n                ++index;\n            }\n        }\n\n        // Update existing groups with new assets\n        for (const newGroup of newGroups) {\n            const existingGroup = this.groups.find((g) => g[this.groupBy] === newGroup[0]);\n\n            if (existingGroup === undefined) {\n                this.groups.push(new AssetGroup(this, newGroup[1]));\n            } else {\n                existingGroup.assets.splice(0, existingGroup.assets.length, ...newGroup[1]);\n            }\n        }\n\n        this.doSort();\n    }\n\n    private group() {\n        const result = new Map<string, Asset[]>();\n\n        for (const bundle of this.bundles) {\n            for (const asset of bundle.assets) {\n                const groupName = asset[this.groupBy];\n                const groupAssets = result.get(groupName);\n\n                if (groupAssets === undefined) {\n                    result.set(groupName, [ asset ]);\n                } else {\n                    groupAssets.push(asset);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    private doSort() {\n        this.groups.sort((l, r) => this.compare(l, r));\n\n        for (const group of this.groups) {\n            group.assets.sort((l, r) => this.compare(l, r));\n        }\n    }\n\n    private compare(left: Asset, right: Asset) {\n        return (this.sort.descending ? -1 : 1) * this.compareImpl(left, right);\n    }\n\n    private compareImpl(left: Asset, right: Asset) {\n        const leftProperty = left[this.sort.by];\n        const rightProperty = right[this.sort.by];\n\n        if (leftProperty === rightProperty) {\n            return 0;\n        } else if (leftProperty === undefined) {\n            return -1;\n        } else if (rightProperty === undefined) {\n            return 1;\n        } else if (leftProperty < rightProperty) {\n            return -1;\n        } else {\n            return 1;\n        }\n    }\n\n    private async onCurrencyChanged() {\n        this.exchangeRate = undefined;\n        const request = Model.currencyMap.get(this.currency) as IWebRequest<number>;\n        this.exchangeRate = await request.execute();\n    }\n\n    private notifyChanged() {\n        if (this.onChanged) {\n            this.onChanged();\n        }\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"960px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('Select',{attrs:{\"large\":\"\",\"info\":_vm.typeInputInfo},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"description\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"location\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"address\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weight\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('Select',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weightUnit\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"fineness\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"quantity\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextArea',{attrs:{\"info\":_vm.assetInfo,\"property\":\"notes\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onCancelClicked($event)}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.onSaveClicked($event)}}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetUnion } from \"../model/AssetInterfaces\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { PreciousMetalAsset } from \"../model/PreciousMetalAsset\";\nimport { WeightUnits } from \"../model/WeightUnit\";\n\n/** Represents the data being edited in the asset editor. */\nexport class AssetEditorData implements IAuxProperties<string> {\n    public description: string;\n    public location: string;\n    public address: string;\n    public weight: string;\n    public weightUnit: string;\n    public fineness: string;\n    public quantity: string;\n    public notes: string;\n\n    /** @internal */\n    public constructor(asset?: IAssetUnion) {\n        if (asset) {\n            this.description = asset.description;\n            this.location = asset.location || \"\";\n\n            if (asset.superType === PreciousMetalAsset.superType) {\n                this.address = \"\";\n                this.weight = asset.weight.toString();\n                this.weightUnit = WeightUnits.toString(asset.weightUnit);\n                this.fineness = asset.fineness.toString();\n                this.quantity = AssetEditorData.getQuantity(asset);\n            } else {\n                this.address = asset.address || \"\";\n                this.weight = \"\";\n                this.weightUnit = \"\";\n                this.fineness = \"\";\n                this.quantity = this.address ? \"\" : AssetEditorData.getQuantity(asset);\n            }\n\n            this.notes = asset.notes || \"\";\n        } else {\n            this.description = \"\";\n            this.location = \"\";\n            this.address = \"\";\n            this.weight = \"\";\n            this.weightUnit = \"\";\n            this.fineness = \"\";\n            this.quantity  = \"\";\n            this.notes = \"\";\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getQuantity(asset: IAssetUnion) {\n        return asset.quantity !== undefined ? asset.quantity.toString() : \"\";\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetIntersection } from \"../model/AssetInterfaces\";\nimport { WeightUnits } from \"../model/WeightUnit\";\nimport { AssetEditorData } from \"./AssetEditorData\";\n\n/**\n * Converts the data edited in the editor into the format necessary to construct [[Asset]] subclass objects.\n */\nexport class AssetProperties implements IAssetIntersection {\n    public get description() {\n        return this.data.description;\n    }\n\n    public get location() {\n        return this.data.location;\n    }\n\n    public get address() {\n        return this.data.address || undefined;\n    }\n\n    public get weight() {\n        return Number.parseFloat(this.data.weight);\n    }\n\n    public get weightUnit() {\n        return WeightUnits.toWeightUnit(this.data.weightUnit);\n    }\n\n    public get fineness() {\n        return Number.parseFloat(this.data.fineness);\n    }\n\n    public get quantity() {\n        return this.data.quantity ? Number.parseFloat(this.data.quantity) : undefined;\n    }\n\n    public get notes() {\n        return this.data.notes;\n    }\n\n    /** @internal */\n    public constructor(private readonly data: AssetEditorData) {\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop, Vue } from \"vue-property-decorator\";\n\n/** Defines common component functionality. */\n// tslint:disable-next-line:no-unsafe-any\nexport class ComponentBase<T> extends Vue {\n    @Prop()\n    // value should be declared as having the type T but doing so triggers the following issue, if T happens to be\n    // e.g. string: https://github.com/kaorun343/vue-property-decorator/issues/69\n    public value: undefined;\n\n    /**\n     * Provides the value.\n     * @description Provides whatever is set for `value`, but ensures that the value cannot be undefined.\n     */\n    public get checkedValue() {\n        if ((this.value as any) === undefined) {\n            throw new Error(\"No value set.\");\n        }\n\n        return (this.value as any) as T;\n    }\n\n    public set checkedValue(value: T) {\n        // tslint:disable-next-line:no-unsafe-any\n        this.$emit(\"input\", value);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** Gets the control with the supplied ref. */\n    protected getControl(ref: string) {\n        // https://github.com/palantir/tslint/issues/3540\n        // tslint:disable-next-line:no-unsafe-any no-unnecessary-type-assertion\n        return this.$refs[ref] as Vue;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\n\n/**\n * Defines how an asset with no properties needs to be \"input\".\n * @description This is a virtual asset that is only useful to define how the [[AssetEditor]] UI looks like when no\n * asset type has been selected yet.\n */\nexport class NoAssetInputInfo extends AssetInputInfo {\n    public readonly type = \"\";\n    public readonly description = new TextInputInfo();\n    public readonly location = new TextInputInfo();\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo();\n    public readonly fineness = new TextInputInfo();\n    public readonly quantity = new TextInputInfo();\n    public readonly notes = new TextInputInfo();\n\n    /** @internal */\n    public constructor() {\n        super();\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":!_vm.large}},[_c('v-select',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"items\":_vm.items,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop } from \"vue-property-decorator\";\nimport { AssetPropertyName } from \"../model/AssetInterfaces\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { InputUtility } from \"../model/Input\";\nimport { InputInfo } from \"../model/InputInfo\";\nimport { PrimitiveInputInfo } from \"../model/PrimitiveInputInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\n\n/** Defines the base for all controls that simplify common functionality like e.g. validation. */\nexport abstract class ControlBase<T extends PrimitiveInputInfo> extends ComponentBase<IAuxProperties<string> | string> {\n    @Prop()\n    public info?: InputInfo;\n\n    @Prop()\n    // property should be declared as having the type AssetPropertyName but doing so triggers the following issue:\n    // https://github.com/kaorun343/vue-property-decorator/issues/69\n    public property: undefined;\n\n    public get isPresent() {\n        return this.primitiveInputInfo.isPresent;\n    }\n\n    public get isRequired() {\n        return this.primitiveInputInfo.isRequired;\n    }\n\n    public get label() {\n        return this.primitiveInputInfo.label;\n    }\n\n    public get hint() {\n        return this.primitiveInputInfo.hint;\n    }\n\n    public get propertyValue() {\n        return InputUtility.isComposite(this.checkedValue) ?\n            this.checkedValue[this.checkedProperty] : this.checkedValue;\n    }\n\n    public set propertyValue(value: string) {\n        if (InputUtility.isComposite(this.checkedValue)) {\n            this.checkedValue[this.checkedProperty] = value;\n        } else {\n            this.checkedValue = value;\n        }\n    }\n\n    public validate() {\n        return this.checkedInfo.validate(false, this.checkedValue, this.property);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected abstract get primitiveInputInfo(): T;\n\n    protected get checkedInfo() {\n        if (this.info === undefined) {\n            throw new Error(\"No info set!\");\n        }\n\n        return this.info;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get checkedProperty() {\n        if (this.property as any === undefined) {\n            throw new Error(\"No property set!\");\n        }\n\n        return this.property as any as AssetPropertyName;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/** Implements a select control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class Select extends ControlBase<SelectInputInfo> {\n    @Prop()\n    public large?: boolean;\n\n    public get items() {\n        return this.primitiveInputInfo.items;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): SelectInputInfo {\n        return this.checkedInfo.get(SelectInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=2de11041&scoped=true\"\nimport script from \"./Select.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./Select.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./Select.vue?vue&type=style&index=0&id=2de11041&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2de11041\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\"}},[_c('v-textarea',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/** Implements a text area control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextArea extends ControlBase<TextInputInfo> {\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextArea.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextArea.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./TextArea.vue?vue&type=template&id=436b9b9c&scoped=true\"\nimport script from \"./TextArea.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./TextArea.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./TextArea.vue?vue&type=style&index=0&id=436b9b9c&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"436b9b9c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"type\":_vm.type,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/** Implements a text field control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextField extends ControlBase<TextInputInfo> {\n    public get type() {\n        return this.primitiveInputInfo.type;\n    }\n\n    public get min() {\n        return this.primitiveInputInfo.min;\n    }\n\n    public get max() {\n        return this.primitiveInputInfo.max;\n    }\n\n    public get step() {\n        return this.primitiveInputInfo.step;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./TextField.vue?vue&type=template&id=ae68c04a&scoped=true\"\nimport script from \"./TextField.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./TextField.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./TextField.vue?vue&type=style&index=0&id=ae68c04a&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae68c04a\",\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { Asset } from \"../model/Asset\";\nimport { AssetInput } from \"../model/AssetInput\";\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { Model } from \"../model/Model\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { AssetEditorData } from \"./AssetEditorData\";\nimport { AssetProperties } from \"./AssetProperties\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { NoAssetInputInfo } from \"./NoAssetInputInfo\";\nimport Select from \"./Select.vue\";\nimport TextArea from \"./TextArea.vue\";\nimport TextField from \"./TextField.vue\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component({ components: { Select, TextArea, TextField } })\n/** Implements the dialog used to edit assets. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetEditor extends ComponentBase<Model> {\n    /** Provides a value indicating whether the asset editor is currently open. */\n    public isOpen = false;\n\n    /** Provides the title of the asset editor. */\n    public get title() {\n        return this.editedAsset ? \"Edit Asset\" : \"New Asset\";\n    }\n\n    /** Provides the asset type input information. */\n    public get typeInputInfo() {\n        return new SelectInputInfo(\"Type\", \"\", true, true, AssetInput.infos.map((info) => info.type));\n    }\n\n    /** Provides the currently selected asset type. */\n    public get type() {\n        return this.assetInfo.type;\n    }\n\n    public set type(value: string) {\n        this.assetInfo = AssetInput.infos.find((info) => info.type === value) as AssetInputInfo;\n    }\n\n    /** Provides information about the currently selected asset type. */\n    public assetInfo: AssetInputInfo = new NoAssetInputInfo();\n\n    /** Provides the data currently displayed in the asset editor. */\n    public data = new AssetEditorData();\n\n    public onSaveClicked(event: MouseEvent) {\n        if (this.isValid()) {\n            this.save();\n            this.close();\n        }\n    }\n\n    public onCancelClicked(event: MouseEvent) {\n        this.close();\n    }\n\n    /** @internal */\n    public add() {\n        this.isOpen = true;\n    }\n\n    /** @internal */\n    public edit(asset: Asset) {\n        const assetInfo = AssetInput.infos.find((info) => info.type === asset.type);\n\n        if (assetInfo !== undefined) {\n            this.editedAsset = asset;\n            this.assetInfo = assetInfo;\n            this.data = new AssetEditorData(asset.interface);\n            this.isOpen = true;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:no-null-keyword\n    private editedAsset: Asset | null = null;\n\n    private isValid() {\n        this.assetInfo.includeRelations = true;\n\n        try {\n            // tslint:disable-next-line:no-unsafe-any\n            return (this.getControl(\"form\") as any).validate();\n        } finally {\n            this.assetInfo.includeRelations = false;\n        }\n    }\n\n    private save() {\n        const newAsset = this.assetInfo.createAsset(this.checkedValue, new AssetProperties(this.data));\n\n        if (this.editedAsset) {\n            this.checkedValue.replaceAsset(this.editedAsset, newAsset);\n        } else {\n            this.checkedValue.addAsset(newAsset);\n        }\n    }\n\n    private close() {\n        // TODO: Check whether the reset() call is even necessary.\n        // tslint:disable-next-line:no-unsafe-any\n        (this.getControl(\"form\") as any).reset();\n        this.data = new AssetEditorData();\n        this.assetInfo = new NoAssetInputInfo();\n\n        // tslint:disable-next-line:no-null-keyword\n        this.editedAsset = null;\n        this.isOpen = false;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AssetEditor.vue?vue&type=template&id=32feafae&scoped=true\"\nimport script from \"./AssetEditor.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./AssetEditor.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./AssetEditor.vue?vue&type=style&index=0&id=32feafae&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32feafae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{on:{\"click\":_vm.onRowClicked}},[_c('td',{class:_vm.getClass('expand')},[(_vm.checkedValue.isExpandable)?_c('div',[(!_vm.checkedValue.isExpanded)?_c('v-icon',[_vm._v(\"expand_more\")]):_vm._e(),(_vm.checkedValue.isExpanded)?_c('v-icon',[_vm._v(\"expand_less\")]):_vm._e()],1):_vm._e()]),_c('td',{class:_vm.getClass(_vm.groupBy),attrs:{\"title\":_vm.groupByHint}},[_vm._v(_vm._s(_vm.groupByContent))]),_c('td',{class:_vm.getClass(_vm.otherGroupBys[0]),attrs:{\"title\":_vm.otherGroupByHints[0]}},[_vm._v(_vm._s(_vm.otherGroupByContents[0]))]),_c('td',{class:_vm.getClass('description'),attrs:{\"title\":_vm.checkedValue.notes}},[_vm._v(_vm._s(_vm.checkedValue.description))]),_c('td',{class:_vm.getClass('unit')},[_vm._v(_vm._s(_vm.checkedValue.unit))]),_c('td',{class:_vm.getClass('finenessInteger')},[_vm._v(_vm._s(_vm.finenessInteger))]),_c('td',{class:_vm.getClass('finenessFraction')},[_vm._v(_vm._s(_vm.finenessFraction))]),_c('td',{class:_vm.getClass('unitValueInteger')},[_vm._v(_vm._s(_vm.unitValueInteger))]),_c('td',{class:_vm.getClass('unitValueFraction')},[_vm._v(_vm._s(_vm.unitValueFraction))]),_c('td',{class:_vm.getClass('quantityInteger')},[_vm._v(_vm._s(_vm.quantityInteger))]),_c('td',{class:_vm.getClass('quantityFraction')},[_vm._v(_vm._s(_vm.quantityFraction))]),_c('td',{class:_vm.getClass('totalValueInteger')},[_vm._v(_vm._s(_vm.totalValueInteger))]),_c('td',{class:_vm.getClass('totalValueFraction')},[_vm._v(_vm._s(_vm.totalValueFraction))]),_c('td',{class:_vm.getClass('percentInteger')},[_vm._v(_vm._s(_vm.percentInteger))]),_c('td',{class:_vm.getClass('percentFraction')},[_vm._v(_vm._s(_vm.percentFraction))]),_c('td',{class:_vm.getClass('more')},[(_vm.checkedValue.hasActions)?_c('v-menu',[_c('v-btn',{staticClass:\"mx-0\",attrs:{\"slot\":\"activator\",\"icon\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_c('v-list',[_c('v-list-tile',{attrs:{\"disabled\":!_vm.checkedValue.isEditable},on:{\"click\":_vm.onEditClicked}},[_c('v-list-tile-title',[_vm._v(\"Edit\")])],1),_c('v-list-tile',{on:{\"click\":_vm.onDeleteClicked}},[_c('v-list-tile-title',[_vm._v(\"Delete\")])],1)],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class Format {\n    /** @internal */\n    public static integer(num: number | undefined, decimals: number) {\n        if ((num === undefined) || Number.isNaN(num)) {\n            return \"\";\n        } else {\n            const formatted = this.format(num, decimals);\n\n            return formatted.substring(0, this.getDecimalPointPosition(formatted));\n        }\n    }\n\n    /** @internal */\n    public static fraction(num: number | undefined, decimals: number) {\n        if (num === undefined) {\n            return \"\";\n        } else if (Number.isNaN(num)) {\n            return \"Error\";\n        } else {\n            const formatted = this.format(num, decimals);\n\n            return formatted.substring(this.getDecimalPointPosition(formatted));\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static format(num: number, decimals: number) {\n        return num.toLocaleString(\n            undefined, { maximumFractionDigits: decimals, minimumFractionDigits: decimals, useGrouping: true });\n    }\n\n    private static getDecimalPointPosition(formatted: string) {\n        const decimalPointPosition = formatted.lastIndexOf(\".\");\n\n        return decimalPointPosition < 0 ? formatted.length : decimalPointPosition;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Asset, AssetDisplayPropertyName, GroupBy } from \"../model/Asset\";\nimport { PreciousMetalAssetInputInfo } from \"../model/PreciousMetalAssetInputInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\n// tslint:disable-next-line:ban-types\ntype PropertyNames<T> = { [K in keyof T]: T[K] extends string ? K : never }[keyof T];\ntype Diff<T, U> = T extends U ? never : T;\ntype AssetListRowPropertyName = Diff<PropertyNames<AssetListRow>, PropertyNames<ComponentBase<Asset>>>;\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/**\n * Implements the UI for a single row of the asset list.\n * @description Most of the members split asset properties into the integral and fractional parts. This is necessary\n * so that the UI can justify the values on the decimal point.\n */\n// tslint:disable-next-line:no-default-export\nexport default class AssetListRow extends ComponentBase<Asset> {\n    /** Gets the number of required columns. */\n    public static get requiredColumnCount() {\n        return 3;\n    }\n\n    /** Provides the maximum number of optional columns that can be displayed. */\n    public static get maxOptionalColumnCount() {\n        return this.allColumnCounts.length - 1;\n    }\n\n    /** @internal */\n    public static readonly expandName = \"expand\";\n\n    /** @internal */\n    public static readonly moreName = \"more\";\n\n    /** @internal */\n    public static readonly grandTotalLabelName = \"grandTotalLabel\";\n\n    /** @internal */\n    public static getRawColumnCount(optionalColumnCount: number) {\n        return this.rawColumnCounts[optionalColumnCount];\n    }\n\n    /** @internal */\n    public static getClassImpl(\n        columnName: ColumnName, groupBy: GroupBy, otherGroupBys: GroupBy[], optionalColumnCount: number) {\n        const result = new Array<string>();\n\n        // Hiding\n        if (this.isHidden(columnName, groupBy, optionalColumnCount)) {\n            // TODO: Can't this be done with one class?\n            result.push(\"hidden-sm-and-up\", \"hidden-xs-only\");\n        }\n\n        // Alignment\n        switch (columnName) {\n            case Asset.typeName:\n            case Asset.descriptionName:\n            case Asset.locationName:\n            case Asset.unitName:\n            case this.finenessFractionName:\n            case this.unitValueFractionName:\n            case this.quantityFractionName:\n            case this.totalValueFractionName:\n            case this.percentFractionName:\n            case this.grandTotalLabelName:\n                result.push(\"text-xs-left\");\n                break;\n            case this.finenessIntegerName:\n            case this.unitValueIntegerName:\n            case this.quantityIntegerName:\n            case this.totalValueIntegerName:\n            case this.percentIntegerName:\n                result.push(\"text-xs-right\");\n                break;\n            default:\n        }\n\n        const columnPadding = 3;\n        const leftClass = `pl-${columnPadding}`;\n        const rightClass = `pr-${columnPadding}`;\n\n        // Padding\n        switch (columnName) {\n            case this.expandName:\n                result.push(leftClass, \"pr-2\");\n                break;\n            case groupBy:\n                result.push(\"pl-0\", rightClass);\n                break;\n            case otherGroupBys[0]:\n            case Asset.descriptionName:\n            case Asset.unitName:\n            case Asset.finenessName:\n            case Asset.unitValueName:\n            case Asset.quantityName:\n            case Asset.totalValueName:\n            case this.grandTotalLabelName:\n                result.push(leftClass, rightClass);\n                break;\n            case Asset.percentName:\n                result.push(leftClass, \"pr-0\");\n                break;\n            case this.finenessIntegerName:\n            case this.unitValueIntegerName:\n            case this.quantityIntegerName:\n            case this.totalValueIntegerName:\n            case this.percentIntegerName:\n                result.push(leftClass, \"pr-0\");\n                break;\n            case this.finenessFractionName:\n            case this.unitValueFractionName:\n            case this.quantityFractionName:\n            case this.totalValueFractionName:\n                result.push(\"pl-0\", rightClass);\n                break;\n            case this.percentFractionName:\n                result.push(\"pl-0\", \"pr-0\");\n                break;\n            case this.moreName:\n                result.push(\"pl-1\", rightClass);\n                break;\n            default:\n        }\n\n        // Total\n        switch (columnName) {\n            case Asset.totalValueName:\n            case this.totalValueIntegerName:\n            case this.totalValueFractionName:\n            case Asset.percentName:\n            case this.percentIntegerName:\n            case this.percentFractionName:\n            case this.grandTotalLabelName:\n                result.push(\"total\");\n                break;\n            default:\n        }\n\n        if (result.length === 0) {\n            throw new Error(`Unknown column: ${columnName}`);\n        }\n\n        return result;\n    }\n\n    @Prop()\n    public visibleColumnCount?: number;\n\n    public get groupBy() {\n        return this.checkedValue.parent.groupBy;\n    }\n\n    public get groupByContent() {\n        return this.checkedValue[this.groupBy];\n    }\n\n    public get groupByHint() {\n        return this.getHint(this.groupBy);\n    }\n\n    public get otherGroupBys() {\n        return this.checkedValue.parent.otherGroupBys;\n    }\n\n    public get otherGroupByContents() {\n        return this.otherGroupBys.map((g) => this.checkedValue[g]);\n    }\n\n    public get otherGroupByHints() {\n        return this.otherGroupBys.map((g) => this.getHint(g));\n    }\n\n    public get finenessInteger() {\n        return this.checkedValue.fineness === undefined ? \"\" : Math.trunc(this.checkedValue.fineness).toString();\n    }\n\n    public get finenessFraction() {\n        return this.checkedValue.fineness === undefined ?\n            \"\" : this.checkedValue.fineness.toLocaleString(undefined, AssetListRow.finenessFormatOptions).substr(1);\n    }\n\n    public get unitValueInteger() {\n        return Format.integer(this.checkedValue.unitValue, 2);\n    }\n\n    public get unitValueFraction() {\n        return Format.fraction(this.checkedValue.unitValue, 2);\n    }\n\n    public get quantityInteger() {\n        return Format.integer(this.checkedValue.quantity, this.checkedValue.displayDecimals);\n    }\n\n    public get quantityFraction() {\n        return Format.fraction(this.checkedValue.quantity, this.checkedValue.displayDecimals);\n    }\n\n    public get totalValueInteger() {\n        return Format.integer(this.checkedValue.totalValue, 2);\n    }\n\n    public get totalValueFraction() {\n        return Format.fraction(this.checkedValue.totalValue, 2);\n    }\n\n    public get percentInteger() {\n        return Format.integer(this.checkedValue.percent, 1);\n    }\n\n    public get percentFraction() {\n        return Format.fraction(this.checkedValue.percent, 1);\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public getClass(columnName: ColumnName) {\n        return AssetListRow.getClassImpl(\n            columnName, this.checkedValue.parent.groupBy,\n            this.checkedValue.parent.otherGroupBys, this.checkedOptionalColumnCount);\n    }\n\n    /** Instructs the asset group to be expanded/collapsed. */\n    public onRowClicked(event: MouseEvent) {\n        this.checkedValue.expand();\n    }\n\n    /** Instructs the parent UI element to open the asset editor dialog with the given asset. */\n    public onEditClicked(event: MouseEvent) {\n        // tslint:disable-next-line:no-unsafe-any\n        this.$emit(\"edit\", this.checkedValue);\n    }\n\n    /** Instructs the parent UI element to delete the given asset from the list. */\n    public onDeleteClicked(event: MouseEvent) {\n        // tslint:disable-next-line:no-unsafe-any\n        this.$emit(\"delete\", this.checkedValue);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly finenessIntegerName = AssetListRow.getName(\"finenessInteger\");\n    private static readonly finenessFractionName = AssetListRow.getName(\"finenessFraction\");\n    private static readonly unitValueIntegerName = AssetListRow.getName(\"unitValueInteger\");\n    private static readonly unitValueFractionName = AssetListRow.getName(\"unitValueFraction\");\n    private static readonly quantityIntegerName = AssetListRow.getName(\"quantityInteger\");\n    private static readonly quantityFractionName = AssetListRow.getName(\"quantityFraction\");\n    private static readonly totalValueIntegerName = AssetListRow.getName(\"totalValueInteger\");\n    private static readonly totalValueFractionName = AssetListRow.getName(\"totalValueFraction\");\n    private static readonly percentIntegerName = AssetListRow.getName(\"percentInteger\");\n    private static readonly percentFractionName = AssetListRow.getName(\"percentFraction\");\n\n    private static readonly finenessFormatOptions = {\n        maximumFractionDigits: PreciousMetalAssetInputInfo.finenessDigits,\n        minimumFractionDigits: 1,\n        useGrouping: true };\n\n    private static readonly allColumns = new Map<GroupBy, ColumnName[]>([\n        [Asset.typeName, AssetListRow.getColumns(Asset.typeName)],\n        [Asset.locationName, AssetListRow.getColumns(Asset.locationName)],\n    ]);\n\n    /**\n     * From the full list of columns (full, integer and fraction) returned by `getColumns`, contains the number of\n     * currently visible columns with the index being the number of currently visible optional full columns. For\n     * example, if no optional full columns are currently visible (i.e. index = 0), the first 7 columns of whatever\n     * is returned by `getColumns` will be shown. Note that said list contains real table columns\n     * as well as \"virtual\" columns. Examples of real table columns are \"totalValueInteger\" and \"unit\" while\n     * \"totalValue\" and \"fineness\" are virtual columns.\n     */\n    private static readonly allColumnCounts = [ 7, 10, 11, 12, 15, 18, 19, 22 ];\n\n    /**\n     * Contains the number of real table columns shown with the index being the number of currently visible optional\n     * full columns.\n     */\n    private static readonly rawColumnCounts = [ 5, 7, 8, 9, 11, 13, 14, 16 ];\n\n    private static getColumns(groupBy: GroupBy) {\n        const result: ColumnName[] = [\n            AssetListRow.expandName, Asset.typeName,\n            Asset.percentName, AssetListRow.percentIntegerName, AssetListRow.percentFractionName,\n            AssetListRow.moreName, AssetListRow.grandTotalLabelName,\n            Asset.totalValueName, AssetListRow.totalValueIntegerName, AssetListRow.totalValueFractionName,\n            Asset.locationName, Asset.unitName,\n            Asset.quantityName, AssetListRow.quantityIntegerName, AssetListRow.quantityFractionName,\n            Asset.unitValueName, AssetListRow.unitValueIntegerName, AssetListRow.unitValueFractionName,\n            Asset.descriptionName,\n            Asset.finenessName, AssetListRow.finenessIntegerName, AssetListRow.finenessFractionName,\n        ];\n\n        if (groupBy === Asset.locationName) {\n            result[1] = Asset.locationName;\n            result[10] = Asset.typeName;\n        }\n\n        return result;\n    }\n\n    private static isHidden(columnName: ColumnName, groupBy: GroupBy, optionalColumnCount: number) {\n        const allColumns = this.allColumns.get(groupBy);\n\n        if (!allColumns) {\n            throw new Error(\"Unknown groupBy!\");\n        }\n\n        return allColumns.indexOf(columnName) >= this.allColumnCounts[optionalColumnCount];\n    }\n\n    private static getName<T extends keyof AssetListRow>(name: T) {\n        return name;\n    }\n\n    private getHint(groupBy: GroupBy) {\n        switch (groupBy) {\n            case \"type\":\n                return \"\";\n            case \"location\":\n                return this.checkedValue.locationHint;\n            default:\n                throw new Error(\"Unknown groupBy!\");\n        }\n    }\n\n    private get checkedOptionalColumnCount() {\n        if (this.visibleColumnCount === undefined) {\n            throw new Error(\"No optional column count set!\");\n        }\n\n        return this.visibleColumnCount;\n    }\n}\n\nexport type ColumnName = AssetDisplayPropertyName | AssetListRowPropertyName |\n    typeof AssetListRow.expandName | typeof AssetListRow.moreName | typeof AssetListRow.grandTotalLabelName;\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AssetListRow.vue?vue&type=template&id=0abef6cd&scoped=true\"\nimport script from \"./AssetListRow.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./AssetListRow.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./AssetListRow.vue?vue&type=style&index=0&id=0abef6cd&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0abef6cd\",\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { Asset } from \"../model/Asset\";\nimport { Model, SortBy } from \"../model/Model\";\nimport AssetEditor from \"./AssetEditor.vue\";\nimport AssetListRow, { ColumnName } from \"./AssetListRow.vue\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\ninterface IPagination {\n    sortBy: SortBy;\n    descending: boolean;\n    rowsPerPage: -1;\n}\n\n// tslint:disable-next-line:no-unsafe-any\n@Component({ components: { AssetListRow, AssetEditor } })\n/** Implements the asset list UI. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetList extends ComponentBase<Model> {\n    /** Provides the information required for sorting and paginating the table. */\n    public get pagination(): IPagination {\n        return {\n            sortBy: this.checkedValue.sort.by, descending: this.checkedValue.sort.descending, rowsPerPage: -1,\n        };\n    }\n\n    public set pagination(pagination: IPagination) {\n        this.checkedValue.sort = { by: pagination.sortBy, descending: pagination.descending };\n    }\n\n    public get isLoading() {\n        return (this.checkedValue.grandTotalValue === undefined);\n    }\n\n    public get grandTotalValueInteger() {\n        return Format.integer(this.checkedValue.grandTotalValue, 2);\n    }\n\n    public get grandTotalValueFraction() {\n        return Format.fraction(this.checkedValue.grandTotalValue, 2);\n    }\n\n    /** Provides a value indicating how many optional columns are currently visible. */\n    public get optionalColumnCount() {\n        return this.optionalColumnCountImpl;\n    }\n\n    public get grandTotalLabelColumnCount() {\n        // This is the minimal column span for the grand total label.\n        let result = 2;\n\n        if (this.optionalColumnCount >= 1) {\n            // We need to add to the minimum the number of columns that are added *after* the total value column has\n            // appeared.\n            result += (AssetListRow.getRawColumnCount(this.optionalColumnCount) - AssetListRow.getRawColumnCount(1));\n        }\n\n        return result;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public getHeaderClass(columnName: ColumnName) {\n        const result = AssetListRow.getClassImpl(\n            columnName, this.checkedValue.groupBy, this.checkedValue.otherGroupBys, this.optionalColumnCount);\n\n        // Sortable columns\n        if (Model.isSortBy(columnName)) {\n            const sort = this.checkedValue.sort;\n            result.push(\"column\", \"sortable\", sort.descending ? \"desc\" : \"asc\");\n\n            if (sort.by === columnName) {\n                result.push(\"active\");\n            }\n        }\n\n        return result;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public getFooterClass(columnName: ColumnName) {\n        return AssetListRow.getClassImpl(\n            columnName, this.checkedValue.groupBy, this.checkedValue.otherGroupBys, this.optionalColumnCount);\n    }\n\n    /** Changes the sorting for the given property. */\n    public changeSort(sortBy: SortBy) {\n        const currentSort = this.checkedValue.sort;\n        this.checkedValue.sort = (currentSort.by === sortBy) ?\n            { by: currentSort.by, descending: !currentSort.descending } : { by: sortBy, descending: false };\n    }\n\n    public onAdd() {\n        this.assetEditor.add();\n    }\n\n    public onEdit(asset: Asset) {\n        this.assetEditor.edit(asset);\n    }\n\n    public onDelete(asset: Asset) {\n        this.checkedValue.deleteAsset(asset);\n    }\n\n    public mounted() {\n        this.timer = setInterval(() => this.onIntervalElapsed(), 100);\n    }\n\n    public beforeDestroy() {\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private optionalColumnCountImpl = AssetListRow.maxOptionalColumnCount;\n\n    private timer?: NodeJS.Timer;\n    private previousOffset: number = Number.NaN;\n\n    private get assetEditor() {\n        return this.getControl(\"editor\") as AssetEditor;\n    }\n\n    private onIntervalElapsed() {\n        // tslint:disable-next-line:no-unsafe-any\n        if (this.previousOffset === this.$el.offsetLeft) {\n            // tslint:disable-next-line:no-unsafe-any\n            if ((this.optionalColumnCountImpl > 0) && (this.$el.offsetLeft < 0)) {\n                --this.optionalColumnCountImpl;\n            } else if ((this.optionalColumnCountImpl < AssetListRow.maxOptionalColumnCount) &&\n                // tslint:disable-next-line:no-unsafe-any\n                (this.$el.offsetLeft * 2 > this.$el.offsetWidth /\n                    (AssetListRow.requiredColumnCount + this.optionalColumnCountImpl) * 3)) {\n                ++this.optionalColumnCountImpl;\n            }\n        }\n\n        // tslint:disable-next-line:no-unsafe-any\n        this.previousOffset = this.$el.offsetLeft;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AssetList.vue?vue&type=template&id=0e670ad0&scoped=true\"\nimport script from \"./AssetList.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./AssetList.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./AssetList.vue?vue&type=style&index=0&id=0e670ad0&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e670ad0\",\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport AssetList from \"./components/AssetList.vue\";\nimport { Model } from \"./model/Model\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component({ components: { AssetList } })\n// tslint:disable-next-line:no-default-export no-unsafe-any\nexport default class App extends Vue {\n    public isDrawerVisible = false;\n    public areDataProvidersVisible = false;\n    public model: Model;\n\n    public constructor() {\n        super();\n        this.model = this.initModel(App.loadFromLocalStorage() || new Model());\n        window.addEventListener(\"beforeunload\", (ev) => this.onBeforeUnload(ev));\n    }\n\n    public onMenuClicked(event: MouseEvent) {\n        this.isDrawerVisible = !this.isDrawerVisible;\n    }\n\n    public onOpenClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        this.fileInput.click();\n    }\n\n    public async onFileInputChanged(event: Event) {\n        const files = (event.target as any).files as FileList;\n\n        if (files.length === 1) {\n            const file = files[0];\n            const model = App.parse(await App.read(file));\n\n            if (model) {\n                const name = file.name.endsWith(model.fileExtension) ?\n                    file.name.substring(0, file.name.length - model.fileExtension.length) : file.name;\n\n                if (name.length > 0) {\n                    model.name = name;\n                }\n\n                this.model = this.initModel(model);\n            }\n        }\n\n        this.fileInput.value = \"\";\n    }\n\n    public onSaveClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        const blob = new Blob([ this.model.toJsonString() ], { type : \"application/json\" });\n        App.write(this.model.fileName, blob);\n    }\n\n    public get assetList() {\n        // tslint:disable-next-line:no-unsafe-any\n        return this.$refs.assetList as AssetList;\n    }\n\n    public get groupBys() {\n        return this.model.groupByLabels;\n    }\n\n    public get groupBy() {\n        return this.model.groupByLabel;\n    }\n\n    public set groupBy(groupBy: string) {\n        const rawGroupBy = this.model.groupBys.find((g) => g === groupBy.toLowerCase());\n\n        if (rawGroupBy !== undefined) {\n            this.model.groupBy = rawGroupBy;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly sessionStorageKey = \"localStorageKey\";\n    private static readonly emptyModelLocalStorageKey = \"0\";\n\n    private static loadFromLocalStorage() {\n        // Apparently, there's no reliable way to prevent the user from closing a browser window that contains unsaved\n        // changes. Both Chromium and Firefox currently refuse to show a confirmation dialog that is opened in a\n        // \"beforeunload\" handler and the documentation for the event warns that this could be the case. Therefore, the\n        // only way to prevent the loss of unsaved data is to save our data either continuously or in the \"beforeunload\"\n        // handler. We could either save through window.localStorage or download to the users hard drive (via the same\n        // mechanism as when the user invokes the \"Save...\" menu entry). However, the latter is bound to surprise at\n        // least some users and doesn't seem to work on some browsers anyway (e.g. Firefox). Our only remaining option\n        // is to therefore save to local storage.\n        // Obviously, just saving to local storage under one key (e.g. \"assets\") only works reliably if the user\n        // confines herself to not ever work with Asset Manager in more than one browser window. Since we seem to have\n        // no way of preventing or detecting use in multiple browser windows, the storage mechanism must ideally satisfy\n        // the following requirements:\n        // 1. No committed but as of yet unsaved change in any browser window is ever lost if the user closes a tab,\n        //    closes the whole browser or reloads the page at any time.\n        // 2. It must be trivial to regain access to unsaved changes.\n        // It appears that both requirements can be satisfied with the following mechanism:\n        // - Data is always saved to local storage in a \"beforeunload\" handler under a monotonously increasing key,\n        //   which is then also stored through window.sessionStorage.\n        // - When the Asset Manager page loads, session storage is first checked for a saved key. If one exists, data\n        //   under said key is then loaded from local storage. This ensures that the same data is always displayed\n        //   before and after a page reload. If session storage does not contain a key, data under the largest key is\n        //   loaded from local storage.\n        // - Successfully loaded data is always *deleted* from local storage immediately. This ensures that navigating\n        //   to Asset Manager in additional browser windows will never load the same data in more than one browser\n        //   window.\n        // The above should ensure that Asset Manager can be used much like a normal desktop application. Even if the\n        // application is used in multiple tabs when the browser is closed, data in said tabs will be reloaded next\n        // time the user navigates to the Asset Manager in the same number of tabs/windows. This is nicely complemented\n        // by the fact that many browsers have an option to automatically reload all previously open tabs when the\n        // browser is started.\n        const localStorageKey = App.getLocalStorageKey();\n\n        if (localStorageKey) {\n            if (localStorageKey === this.emptyModelLocalStorageKey) {\n                window.sessionStorage.removeItem(this.sessionStorageKey);\n            } else {\n                const model = App.parse(window.localStorage.getItem(localStorageKey));\n\n                if (model) {\n                    window.sessionStorage.removeItem(this.sessionStorageKey);\n                    window.localStorage.removeItem(localStorageKey);\n\n                    return model;\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    private static read(blob: Blob) {\n        return new Promise<string>((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (ev) => resolve(reader.result as string);\n            reader.onerror = (ev) => reject(\"Unable to read file.\");\n            reader.readAsText(blob);\n        });\n    }\n\n    private static parse(json: string | null) {\n        const model = json ? Model.parse(json) : undefined;\n\n        if (model instanceof Model) {\n            return model;\n        } else if (model) {\n            alert(model);\n        }\n\n        return undefined;\n    }\n\n    private static write(filename: string, blob: Blob) {\n        if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveBlob(blob, filename);\n        } else {\n            const elem = window.document.createElement(\"a\");\n\n            // We should call window.URL.revokeObjectURL as soon as the user has either successfully downloaded the\n            // file or cancelled the download, but there seems to be no reliable way to detect these events. According\n            // to the docs the objects will be garbage collected anyway when the user closes the tab or navigates away.\n            // Given the currently small size of these downloads, not calling revokeObjectURL is probably good enough.\n            elem.href = window.URL.createObjectURL(blob);\n            elem.download = filename;\n            document.body.appendChild(elem);\n            elem.click();\n            document.body.removeChild(elem);\n        }\n    }\n\n    private static getLocalStorageKey() {\n        const key = window.sessionStorage.getItem(this.sessionStorageKey);\n\n        if (key) {\n            return key;\n        }\n\n        const keys = new Array<number>();\n\n        for (let index = 0; index < window.localStorage.length; ++index) {\n            const localStorageKey = window.localStorage.key(index);\n\n            if (localStorageKey) {\n                const localStorageKeyNumber = Number.parseInt(localStorageKey);\n\n                if (localStorageKeyNumber) {\n                    keys.push(localStorageKeyNumber);\n                }\n            }\n        }\n\n        if (keys.length === 0) {\n            return undefined;\n        }\n\n        return keys.reduce((m, c) => (c > m) ? c : m, Number.NEGATIVE_INFINITY).toString();\n    }\n\n    private static saveToLocalStorage(model: Model) {\n        let key: string | undefined = this.emptyModelLocalStorageKey;\n\n        if (model.groups.length > 0) {\n            const json = model.toJsonString();\n\n            // tslint:disable-next-line:no-empty\n            while (!(key = this.trySaveToLocalStorage(json))) {\n            }\n        }\n\n        window.sessionStorage.setItem(this.sessionStorageKey, key);\n    }\n\n    private static trySaveToLocalStorage(json: string) {\n        // We need a key that is unique and monotonously increasing. When a browser is closed with the application\n        // running in multiple tabs, it is likely that two tabs will get the same value from Date.now(). The random\n        // component should reduce the likelihood of a collision.\n        const uniqueNumber = Math.trunc((Date.now() + Math.random()) * Math.pow(2, 10));\n\n        if (!Number.isSafeInteger(uniqueNumber)) {\n            // Make sure all digits are significant. Since Date.now() currently returns a value with 41 binary digits,\n            // adding another 10 binary digits should keep us well below the 53 binary digits commonly supported for\n            // safe integers.\n            throw new Error(\"Can't create unique key.\");\n        }\n\n        const uniqueKey = uniqueNumber.toString();\n\n        if (window.localStorage.getItem(uniqueKey)) {\n            return undefined;\n        }\n\n        window.localStorage.setItem(uniqueKey, json);\n\n        // There's still a low probability that two browser tabs arrive at the same key at the same time and an\n        // overwrite happens. Verifying the written should reduce this further.\n        return window.localStorage.getItem(uniqueKey) === json ? uniqueKey : undefined;\n    }\n\n    private get fileInput() {\n        // tslint:disable-next-line:no-unsafe-any\n        return this.$refs.fileInput as HTMLInputElement;\n    }\n\n    private initModel(model: Model) {\n        model.onChanged = () => this.onModelChanged();\n        document.title = model.title;\n\n        return model;\n    }\n\n    private onBeforeUnload(ev: BeforeUnloadEvent) {\n        App.saveToLocalStorage(this.model);\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    private onModelChanged() {\n        // App.saveToLocalStorage(this.model.toJsonString());\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=ca03edfe\"\nimport script from \"./App.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./App.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line:no-import-side-effect no-implicit-dependencies no-submodule-imports\nimport \"material-design-icons-iconfont/dist/material-design-icons.css\";\nimport Vue from \"vue\";\nimport Vuetify from \"vuetify\";\n// tslint:disable-next-line:no-import-side-effect no-implicit-dependencies no-submodule-imports\nimport \"vuetify/dist/vuetify.min.css\";\nimport App from \"./App.vue\";\n\n// tslint:disable:no-unsafe-any\nVue.config.productionTip = false;\nVue.use(Vuetify);\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}