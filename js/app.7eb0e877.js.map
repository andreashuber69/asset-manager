{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0675","webpack:///./src/model/Application.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/App.vue?0fa8","webpack:///./src/components/AboutDialog.vue?8e49","webpack:///./src/components/AboutDialog.vue.ts","webpack:///./src/components/AboutDialog.vue.ts?67a1","webpack:///./src/components/AboutDialog.vue","webpack:///./src/components/AssetList.vue?9e9b","webpack:///./src/model/WeightUnit.ts","webpack:///./src/model/QueryError.ts","webpack:///./src/model/Query.ts","webpack:///./src/model/Asset.ts","webpack:///./src/model/Ordering.ts","webpack:///./src/components/AssetEditor.vue?d17a","webpack:///./src/model/AssetBundle.ts","webpack:///./src/model/GenericAssetBundle.ts","webpack:///./src/model/QueryCache.ts","webpack:///./src/model/Value.ts","webpack:///./src/model/CoinMarketCapRequest.ts","webpack:///./src/model/ICryptoWallet.ts","webpack:///./src/model/SingleAsset.ts","webpack:///./src/model/CryptoWallet.ts","webpack:///./src/model/RealCryptoWallet.ts","webpack:///./src/model/BtcWallet.ts","webpack:///./src/model/BtgWallet.ts","webpack:///./src/model/Input.ts","webpack:///./src/model/InputInfo.ts","webpack:///./src/model/ParseErrorMessage.ts","webpack:///./src/model/PrimitiveInputInfo.ts","webpack:///./src/model/TextInputInfo.ts","webpack:///./src/model/AssetInputInfo.ts","webpack:///./src/model/EnumInfo.ts","webpack:///./src/model/SelectInputInfo.ts","webpack:///./src/model/CryptoWalletInputInfo.ts","webpack:///./src/model/BlockcypherRequest.ts","webpack:///./src/model/BlockcypherWallet.ts","webpack:///./src/model/DashWallet.ts","webpack:///./src/model/Erc20TokenWallet.ts","webpack:///./src/model/Erc20TokensWallet.ts","webpack:///./src/model/EtcWallet.ts","webpack:///./src/model/EthWallet.ts","webpack:///./src/model/IPreciousMetalAsset.ts","webpack:///./src/model/Currency.ts","webpack:///./src/model/PreciousMetalAssetInputInfo.ts","webpack:///./src/model/QuandlRequest.ts","webpack:///./src/model/PreciousMetalAsset.ts","webpack:///./src/model/GoldAsset.ts","webpack:///./src/model/LtcWallet.ts","webpack:///./src/model/ExchangeRate.ts","webpack:///./src/model/AssetTypes.ts","webpack:///./src/model/IMiscAsset.ts","webpack:///./src/model/MiscAssetInputInfo.ts","webpack:///./src/model/MiscAsset.ts","webpack:///./src/model/PalladiumAsset.ts","webpack:///./src/model/PlatinumAsset.ts","webpack:///./src/model/SilverAsset.ts","webpack:///./src/model/ZecWallet.ts","webpack:///./src/model/AssetInput.ts","webpack:///./src/components/AssetEditorData.ts","webpack:///./src/components/AssetProperties.ts","webpack:///./src/components/NoAssetInputInfo.ts","webpack:///./src/components/Select.vue?76d9","webpack:///./src/components/ComponentBase.ts","webpack:///./src/components/ControlBase.ts","webpack:///./src/components/Select.vue.ts","webpack:///./src/components/Select.vue.ts?1e42","webpack:///./src/components/Select.vue","webpack:///./src/components/TextArea.vue?76d6","webpack:///./src/components/TextArea.vue.ts","webpack:///./src/components/TextArea.vue.ts?9a5c","webpack:///./src/components/TextArea.vue","webpack:///./src/components/TextField.vue?dae7","webpack:///./src/components/TextField.vue.ts","webpack:///./src/components/TextField.vue.ts?9cfe","webpack:///./src/components/TextField.vue","webpack:///./src/components/AssetEditor.vue.ts","webpack:///./src/components/AssetEditor.vue.ts?425b","webpack:///./src/components/AssetEditor.vue","webpack:///./src/components/AssetListRow.vue?7406","webpack:///./src/components/ColumnInfo.ts","webpack:///./src/components/Format.ts","webpack:///./src/components/AssetListRow.vue.ts","webpack:///./src/components/AssetListRow.vue.ts?6479","webpack:///./src/components/AssetListRow.vue","webpack:///./src/components/AssetList.vue.ts","webpack:///./src/components/AssetList.vue.ts?7e4b","webpack:///./src/components/AssetList.vue","webpack:///./src/components/BrowserDialog.vue?6e06","webpack:///./src/components/BrowserDialog.vue.ts","webpack:///./src/components/BrowserDialog.vue.ts?fcfe","webpack:///./src/components/BrowserDialog.vue","webpack:///./src/components/SaveAsDialog.vue?f4ab","webpack:///./src/components/SaveAsDialog.vue.ts","webpack:///./src/components/SaveAsDialog.vue.ts?5c59","webpack:///./src/components/SaveAsDialog.vue","webpack:///./src/model/AssetCollectionUtility.ts","webpack:///./src/model/AssetGroup.ts","webpack:///./src/model/AssetCollection.ts","webpack:///./src/model/Model.ts","webpack:///./src/model/ModelParser.ts","webpack:///./src/Parser.ts","webpack:///./src/LocalStorage.ts","webpack:///./src/App.vue.ts","webpack:///./src/App.vue.ts?1b82","webpack:///./src/App.vue","webpack:///./src/app-main.ts","webpack:///./src/assets/gastracker.png","webpack:///./src/assets/background.png","webpack:///./src/assets/blockcypher.svg","webpack:///./src/assets/blockchain.svg","webpack:///./src/components/AssetList.vue?32b1","webpack:///./src/assets/btgexp.png","webpack:///./src/assets/coinmarketcap.svg","webpack:///./src/assets/ethplorer.png","webpack:///./src/components/AssetListRow.vue?341e","webpack:///./src/Browser.ts","webpack:///./src/main.ts","webpack:///./src/assets/sochain.png","webpack:///./src/assets/quandl.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","__webpack_exports__","Application","packageJson","this","packageName","split","map","toUpperCase","substr","join","version","vue_runtime_esm","use","lib","iconfont","render","_vm","_h","$createElement","_c","_self","attrs","id","dark","temporary","model","callback","$$v","isDrawerVisible","expression","dense","on","click","onNewClicked","_v","onOpenClicked","ref","staticStyle","display","type","accept","fileExtension","change","onFileInputChanged","onSaveClicked","onSaveAsClicked","onAboutClicked","color","$event","stopPropagation","onMenuClicked","staticClass","_s","title","icon","$refs","assetList","onAdd","onRefreshClicked","max-height","slot","groupBy","_l","newGroupBy","domProps","textContent","currency","newCurrency","width","style","background-image","background-repeat","justify-center","staticRenderFns","AboutDialogvue_type_template_id_205eb43e_scoped_true_render","isOpen","grid-list-md","text-xs-center","row","wrap","xs12","flat","sm4","href","target","block","sm6","md4","src","height","userAgent","AboutDialogvue_type_template_id_205eb43e_scoped_true_staticRenderFns","AboutDialog_vuevue_type_script_lang_ts_AboutDialog","_super","AboutDialog","_this","arguments","__extends","desktopVersion","includes","navigator","showDialog","prefix","start","indexOf","substring","__decorate","vue_property_decorator","AboutDialog_vuevue_type_script_lang_ts_","components_AboutDialog_vuevue_type_script_lang_ts_","component","componentNormalizer","options","__file","components_AboutDialog","installComponents_default","VBtn","VCard","VCardActions","components_VCard","VCardText","VCardTitle","VContainer","VDialog","VFlex","VLayout","VSpacer","VGrid","WeightUnit","AssetListvue_type_template_id_420ce7a4_scoped_true_render","items","checkedValue","assets","grouped","item-key","pagination","loading","isLoading","headers-length","total-items","hide-actions","update:pagination","scopedSlots","_u","fn","props","class","getHeaderClass","ordering","changeSort","groupByLabel","small","otherGroupBys","otherGroupByLabels","colspan","item","visibleColumnCount","optionalColumnCount","edit","onEdit","delete","onDelete","indeterminate","getFooterClass","grandTotalLabelColumnCount","grandTotalValueInteger","grandTotalValueFraction","AssetListvue_type_template_id_420ce7a4_scoped_true_staticRenderFns","QueryError","message","setPrototypeOf","QueryError_extends","Error","Query_Query","Query","execute","query","_a","_b","sent","status","e_1","Number","NaN","Asset_Asset","Asset","parent","nextKey","unitValueUsd","undefined","unitValueHintImpl","multiply","exchangeRate","quantity","unitValue","totalValue","grandTotalValue","queryData","Promise","queryUnitValueUsd","bundle","expand","resolve","getPropertyName","getCalculatedPropertyName","factor1","factor2","typeName","descriptionName","locationName","addressName","unitName","weightName","weightUnitName","finenessName","valueName","valueCurrencyName","unitValueName","quantityName","notesName","totalValueName","percentName","Ordering_Ordering","Ordering","params","groupBys","onGroupChanged","onSortChanged","groupByImpl","sortImpl","sort","by","descending","isSortBy","sortBy","g","capitalize","Array","from","str","AssetEditorvue_type_template_id_2cc25028_scoped_true_render","persistent","max-width","large","info","typeInputInfo","assetInfo","nativeOn","onCancelClicked","AssetEditorvue_type_template_id_2cc25028_scoped_true_staticRenderFns","AssetBundle","primaryAssetName","GenericAssetBundle","asset","GenericAssetBundle_extends","deleteAsset","index","toJSON","primaryAsset","QueryCache_QueryCache","QueryCache","fetch","cache","fetchImpl","set","clear","text","responseText","JSON","parse","e","Map","Value","isBoolean","isNumber","isString","isObject","isArray","hasBooleanProperty","propertyName","hasProperty","hasNumberProperty","hasStringProperty","hasObjectProperty","hasArrayProperty","CoinMarketCapRequest_CoinMarketCapRequest","CoinMarketCapRequest","coin","invert","getPrice","price","response","parseFloat","price_usd","cryptoWalletSuperType","SingleAsset","quantityHint","SingleAsset_extends","CryptoWallet_CryptoWallet","CryptoWallet","currencySymbol","displayDecimals","superType","CryptoWallet_extends","address","RealCryptoWallet_RealCryptoWallet","RealCryptoWallet","description","location","notes","slug","RealCryptoWallet_extends","queryQuantity","getProperties","cs","BtcWallet_BtcWallet","BtcWallet","BtcWallet_extends","QuantityRequest","BlockchainRequest","NestedBlockchainRequest","addresses","getFinalBalance","finalBalance","transactionCount","addBalance","isNaN","balance","n_tx","final_balance","NestedQuantityRequest","add","delay","fromBase58","addChain","derive","milliseconds","setTimeout","getBatch","node","offset","batchLength","Date","now","getAddress","unusedAddressesToCheck","minUnusedAddressesToCheck","batch","BtgWallet_BtgWallet","BtgWallet","BtgWallet_extends","BtgexpRequest","NestedBtgexpRequest","getBalance","InputUtility","isComposite","input","InputInfo_InputInfo","InputInfo","validate","strict","validateComposite","validatePrimitive","ParseErrorMessage_ParseErrorMessage","ParseErrorMessage","getPropertyTypeMismatch","actual","expected","_i","addPropertyName","getTypeMismatch","__spread","actualType","getTypeName","expectedTypes","reduce","getUnknownPropertyValue","getUnknownValue","rest","PrimitiveInputInfo_PrimitiveInputInfo","PrimitiveInputInfo","label","hint","isPresent","isRequired","PrimitiveInputInfo_extends","ctor","validateContent","TextInputInfo_TextInputInfo","TextInputInfo","min","max","step","TextInputInfo_extends","valueResult","validateValue","format","epsilonFactor","toLocaleString","maximumFractionDigits","Math","floor","log10","getMaxError","abs","EPSILON","numericValue","validateStep","bottom","lower","upper","maxError","lowerText","upperText","AssetInputInfo_AssetInputInfo","AssetInputInfo","includeRelations","AssetInputInfo_extends","createAsset","validateAll","results","weight","weightUnit","fineness","valueCurrency","singleResult","validateRelations","EnumInfo","getMemberNames","enumType","SelectInputInfoBase","SelectInputInfo_extends","SelectInputInfo_SelectInputInfo","SelectInputInfo","acceptStringsOnly","CryptoWalletInputInfo_CryptoWalletInputInfo","CryptoWalletInputInfo","addressHint","quantityDecimals","getQuantityInputInfo","CryptoWalletInputInfo_extends","isUndefined","pow","BlockcypherRequest_BlockcypherRequest","BlockcypherRequest","BlockcypherWallet_BlockcypherWallet","BlockcypherWallet","BlockcypherWallet_extends","unit","toLowerCase","DashWallet_DashWallet","DashWallet","DashWallet_extends","Erc20TokenWallet","editable","Erc20TokenWallet_extends","Erc20TokensWallet_Erc20TokensWallet","Erc20TokensWallet","Erc20TokensWallet_extends","Bundle","NestedBundle","erc20Wallet","deletedAssets","deletedAssetsName","filter","_e","balances","__values","tokens","_d","next","done","token","addTokenWallet","e_2","console","warn","getName","rate","tokenInfo","symbol","decimals","toString","EtcWallet_EtcWallet","EtcWallet","EtcWallet_extends","GastrackerRequest","NestedGastrackerRequest","ether","EthWallet_EthWallet","EthWallet","EthWallet_extends","getQuantity","ETH","preciousMetalSuperType","Currency","PreciousMetalAssetInputInfo_PreciousMetalAssetInputInfo","PreciousMetalAssetInputInfo","weightStep","finenessStep","PreciousMetalAssetInputInfo_extends","weightDigits","finenessDigits","QuandlRequest_QuandlRequest","QuandlRequest","path","dataset","array","PreciousMetalAsset_PreciousMetalAsset","PreciousMetalAsset","quandlPath","pureGramsPerUnit","PreciousMetalAsset_extends","getUnit","unitFormatOptions","minimumFractionDigits","useGrouping","GoldAsset","GoldAsset_extends","LtcWallet_LtcWallet","LtcWallet","LtcWallet_extends","AssetType","ExchangeRate_ExchangeRate","ExchangeRate","request","currencyMap","USD","AUD","CAD","CNY","CHF","CZK","DKK","GBP","HKD","HUF","INR","JPY","KRW","LTL","MYR","NIS","NOK","NZD","PLN","RUB","SAR","SEK","SGD","THB","TRY","TWD","ZAR","XAG","XAU","BTC","miscSuperType","MiscAssetInputInfo_MiscAssetInputInfo","MiscAssetInputInfo","valueStep","MiscAssetInputInfo_extends","valueDigits","MiscAsset_MiscAsset","MiscAsset","MiscAsset_extends","PalladiumAsset","PalladiumAsset_extends","PlatinumAsset","PlatinumAsset_extends","SilverAsset","SilverAsset_extends","ZecWallet_ZecWallet","ZecWallet","ZecWallet_extends","SoChainRequest","NestedSoChainRequest","confirmed_balance","btcHint","ltcHint","etcHint","ethHint","erc20Hint","btgHint","dashHint","zecHint","AssetInput_AssetInput","AssetInput","parseBundle","rawBundle","rawAsset","infos","find","validationResult","hasProperties","raw","AssetEditorData_AssetEditorData","AssetEditorData","getDescription","getLocation","getWeight","getWeightUnit","getFineness","getValue","getValueCurrency","getNotes","isCryptoWallet","isPreciousMetalAsset","isMiscAsset","isType","AssetProperties_AssetProperties","AssetProperties","NoAssetInputInfo_NoAssetInputInfo","NoAssetInputInfo","NoAssetInputInfo_extends","Selectvue_type_template_id_1c155300_scoped_true_render","sm12","md6","required","rules","propertyValue","Selectvue_type_template_id_1c155300_scoped_true_staticRenderFns","ComponentBase_ComponentBase","ComponentBase","ComponentBase_extends","$emit","getControl","ComponentBase_decorate","ControlBase_ControlBase","ControlBase","ControlBase_extends","primitiveInputInfo","checkedProperty","checkedInfo","ControlBase_decorate","Select_vuevue_type_script_lang_ts_Select","Select","Select_vuevue_type_script_lang_ts_extends","Select_vuevue_type_script_lang_ts_decorate","Select_vuevue_type_script_lang_ts_","components_Select_vuevue_type_script_lang_ts_","Select_component","components_Select","VSelect","TextAreavue_type_template_id_17323bf9_scoped_true_render","TextAreavue_type_template_id_17323bf9_scoped_true_staticRenderFns","TextArea_vuevue_type_script_lang_ts_TextArea","TextArea","TextArea_vuevue_type_script_lang_ts_extends","TextArea_vuevue_type_script_lang_ts_decorate","TextArea_vuevue_type_script_lang_ts_","components_TextArea_vuevue_type_script_lang_ts_","TextArea_component","components_TextArea","VTextarea","TextFieldvue_type_template_id_02bdd4b9_scoped_true_render","TextFieldvue_type_template_id_02bdd4b9_scoped_true_staticRenderFns","TextField_vuevue_type_script_lang_ts_TextField","TextField","TextField_vuevue_type_script_lang_ts_extends","TextField_vuevue_type_script_lang_ts_decorate","TextField_vuevue_type_script_lang_ts_","components_TextField_vuevue_type_script_lang_ts_","TextField_component","components_TextField","VTextField","AssetEditor_vuevue_type_script_lang_ts_AssetEditor","AssetEditor","isExistingAsset","AssetEditor_vuevue_type_script_lang_ts_extends","event","isValid","close","AssetEditor_1","getAssetInfo","editableAsset","interface","form","reset","AssetEditor_vuevue_type_script_lang_ts_decorate","components","AssetEditor_vuevue_type_script_lang_ts_","components_AssetEditor_vuevue_type_script_lang_ts_","AssetEditor_component","components_AssetEditor","VForm","AssetListRowvue_type_template_id_9e2807a4_scoped_true_render","onRowClicked","getClass","isExpanded","groupByHint","groupByContent","otherGroupByHints","otherGroupByContents","finenessInteger","finenessFraction","unitValueInteger","unitValueHint","unitValueFraction","quantityInteger","quantityFraction","totalValueInteger","totalValueFraction","percentInteger","percentFraction","onEditClicked","onDeleteClicked","AssetListRowvue_type_template_id_9e2807a4_scoped_true_staticRenderFns","ColumnInfo_ColumnInfo","ColumnInfo","allColumnCounts","getRawCount","rawColumnCounts","columnName","ColumnInfo_spread","getHidden","getAlignment","getPadding","getTotal","getColumns","expandName","percentIntegerName","percentFractionName","moreName","grandTotalLabelName","totalValueIntegerName","totalValueFractionName","quantityIntegerName","quantityFractionName","unitValueIntegerName","unitValueFractionName","finenessIntegerName","finenessFractionName","allColumns","columnPadding","leftClass","rightClass","Format","integer","num","formatted","getDecimalPointPosition","fraction","decimalPointPosition","lastIndexOf","AssetListRow_vuevue_type_script_lang_ts_AssetListRow","AssetListRow","AssetListRow_vuevue_type_script_lang_ts_extends","getHint","trunc","AssetListRow_1","finenessFormatOptions","percent","checkedOptionalColumnCount","locationHint","AssetListRow_vuevue_type_script_lang_ts_decorate","AssetListRow_vuevue_type_script_lang_ts_","components_AssetListRow_vuevue_type_script_lang_ts_","AssetListRow_component","components_AssetListRow","VIcon","VList","VListTile","VListTileTitle","components_VList","VMenu","AssetList_vuevue_type_script_lang_ts_AssetList","AssetList","optionalColumnCountImpl","maxOptionalCount","previousOffset","AssetList_vuevue_type_script_lang_ts_extends","paginationImpl","rowsPerPage","currentSort","assetEditor","newAsset","changedAsset","replace","mounted","timer","setInterval","onIntervalElapsed","beforeDestroy","clearInterval","$el","offsetLeft","offsetWidth","requiredColumnCount","AssetList_vuevue_type_script_lang_ts_decorate","AssetList_vuevue_type_script_lang_ts_","components_AssetList_vuevue_type_script_lang_ts_","AssetList_component","components_AssetList","VDataTable","VProgressLinear","BrowserDialogvue_type_template_id_0c988852_scoped_true_render","applicationTitle","dontShowDialog","BrowserDialogvue_type_template_id_0c988852_scoped_true_staticRenderFns","BrowserDialog_vuevue_type_script_lang_ts_BrowserDialog","BrowserDialog","BrowserDialog_vuevue_type_script_lang_ts_extends","BrowserDialog_1","isUntestedBrowser","localStorage","getItem","dontShowBrowserDialogName","setItem","testedBrowsers","testedBrowsers_1","BrowserDialog_vuevue_type_script_lang_ts_values","testedBrowsers_1_1","browser","BrowserDialog_vuevue_type_script_lang_ts_decorate","BrowserDialog_vuevue_type_script_lang_ts_","components_BrowserDialog_vuevue_type_script_lang_ts_","BrowserDialog_component","components_BrowserDialog","VCheckbox","SaveAsDialogvue_type_template_id_04a597f2_scoped_true_render","submit","preventDefault","nameInfo","SaveAsDialogvue_type_template_id_04a597f2_scoped_true_staticRenderFns","SaveAsDialog_vuevue_type_script_lang_ts_SaveAsDialog","SaveAsDialog","SaveAsDialog_vuevue_type_script_lang_ts_extends","SaveAsDialog_vuevue_type_script_lang_ts_decorate","SaveAsDialog_vuevue_type_script_lang_ts_","components_SaveAsDialog_vuevue_type_script_lang_ts_","SaveAsDialog_component","components_SaveAsDialog","AssetCollectionUtility","groups","compare","groups_1","AssetCollectionUtility_values","groups_1_1","group","left","right","compareImpl","leftProperty","rightProperty","AssetGroup","AssetGroup_extends","coalesce","a","addend1","addend2","getProperty","previous","AssetCollection_AssetCollection","AssetCollection","bundles","update","AssetCollection_spread","AssetCollection_values","notifyChanged","findIndex","b","oldAsset","queryBundleData","newBundles","updateImpl","catch","error","updateGroups","promises","size","waitForResponses","delayId","MAX_SAFE_INTEGER","has","race","values","newGroups","getGroups","newGroup","existingGroup","this_1","newGroups_1","newGroups_1_1","addGroups","assets_1","assets_1_1","groupName","groupAssets","Model_Model","Model","onChanged","wasSavedToFile","hasUnsavedChangesImpl","hasUnsavedChanges","currencyImpl","currencies","onCurrencyChanged","createBundles","toJsonString","stringify","onCurrencyChangedImpl","reason","ModelParser_ModelParser","ModelParser","json","rawModel","versionName","parseBundles","getModelName","getSortName","bundlesName","__assign","parseOptionalProperties","parseOptionalViewProperties","ModelParser_values","createBundle","Function","nameName","wasSavedToFileName","hasUnsavedChangesName","currencyName","groupByName","isGroupBy","sortName","isSort","sortByName","sortDescendingName","Parser_Parser","Parser","alert","LocalStorage_LocalStorage","LocalStorage","load","localStorageKey","sessionStorage","sessionLocalStorageKey","loadExistingSession","loadNewSession","save","saveImpl","openNewWindow","url","URL","pathname","origin","searchParams","append","emptyModelLocalStorageKey","sessionForceLoadFromLocalStorageKey","open","performance","navigation","TYPE_RELOAD","loadModel","oldKeys","getOldKeys","oldKeys_1","LocalStorage_values","oldKeys_1_1","oldKey","isEmpty","trySaveToLocalStorage","removeItem","uniqueNumber","random","isSafeInteger","uniqueKey","oldKeyNumber","parseInt","App_vuevue_type_script_lang_ts_App","App","App_1","initModel","addEventListener","ev","onBeforeUnload","App_vuevue_type_script_lang_ts_extends","fileInput","onFileInputChangedImpl","files","write","saveAsDialog","newName","aboutDialog","groupByLabels","rawGroupBy","read","blob","reject","reader","FileReader","onload","onerror","readAsText","document","file","endsWith","Blob","msSaveOrOpenBlob","msSaveBlob","fileName","elem","createElement","createObjectURL","download","body","appendChild","removeChild","App_vuevue_type_script_lang_ts_decorate","App_vuevue_type_script_lang_ts_","src_App_vuevue_type_script_lang_ts_","App_component","src_App","VApp","VContent","VListTileAction","VListTileContent","VNavigationDrawer","VToolbar","VToolbarSideIcon","VToolbarTitle","components_VToolbar","runtime","config","productionTip","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetList_vue_vue_type_style_index_0_id_420ce7a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetList_vue_vue_type_style_index_0_id_420ce7a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetListRow_vue_vue_type_style_index_0_id_9e2807a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetListRow_vue_vue_type_style_index_0_id_9e2807a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Browser","isFirefox","getVersion","isSafari","isIE","isBlink","versionPrefix","versionIndex","isOpera","opr","addons","opera","InstallTrigger","test","HTMLElement","safari","pushNotification","documentMode","isEdge","StyleMedia","isChrome","chrome","webstore","CSS","isCompatible","search","URLSearchParams","forEach","appElement","getElementById","innerHTML"],"mappings":"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","file":"js/app.7eb0e877.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/net-worth/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line:no-require-imports no-var-requires\nconst packageJson = require(\"../../package.json\") as { name: string; version: string };\n\nexport class Application {\n    public static get packageName() {\n        return packageJson.name;\n    }\n\n    public static get title() {\n        return this.packageName.split(\"-\").map((c) => `${c[0].toUpperCase()}${c.substr(1)}`).join(\" \");\n    }\n\n    public static get version() {\n        return packageJson.version;\n    }\n}\n","// tslint:disable:file-name-casing\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport Vue from \"vue\";\n// tslint:disable-next-line:no-submodule-imports\nimport Vuetify from \"vuetify/lib\";\n// cSpell: ignore styl\n// tslint:disable-next-line:no-import-side-effect no-submodule-imports\nimport \"vuetify/src/stylus/app.styl\";\n\nVue.use(Vuetify, {\n  iconfont: \"md\",\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"dark\":\"\",\"temporary\":\"\"},model:{value:(_vm.isDrawerVisible),callback:function ($$v) {_vm.isDrawerVisible=$$v},expression:\"isDrawerVisible\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-tile',{on:{\"click\":_vm.onNewClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"note_add\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"New\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onOpenClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"open_in_browser\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Open...\")]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":_vm.model.fileExtension},on:{\"change\":_vm.onFileInputChanged}})],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onSaveClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Save\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onSaveAsClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Save As...\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onAboutClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"help\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"About\")])],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"app\":\"\",\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onMenuClicked($event)}}}),_c('v-toolbar-title',{staticClass:\"hidden-xs-only\"},[_c('v-icon',[_vm._v(\"account_balance_wallet\")]),_vm._v(\"  \"+_vm._s(_vm.model.title))],1),_c('v-spacer'),_c('v-btn',{staticClass:\"ml-1 mr-0\",attrs:{\"icon\":\"\",\"title\":\"Add new asset\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.assetList.onAdd($event)}}},[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-btn',{staticClass:\"ml-1 mr-0\",attrs:{\"icon\":\"\",\"title\":\"Refresh\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onRefreshClicked($event)}}},[_c('v-icon',[_vm._v(\"refresh\")])],1),_c('v-menu',{attrs:{\"title\":\"Change grouping\",\"max-height\":\"300px\"}},[_c('v-toolbar-title',{staticClass:\"ml-2 mr-0\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',[_vm._v(_vm._s(_vm.groupBy))]),_c('v-icon',[_vm._v(\"arrow_drop_down\")])],1),_c('v-list',_vm._l((_vm.groupBys),function(newGroupBy){return _c('v-list-tile',{key:newGroupBy,on:{\"click\":function($event){_vm.groupBy = newGroupBy}}},[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(newGroupBy)}})],1)}),1)],1),_c('v-menu',{attrs:{\"title\":\"Change valuation currency\",\"max-height\":\"300px\"}},[_c('v-toolbar-title',{staticClass:\"ml-2 mr-3\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',[_vm._v(_vm._s(_vm.model.currency))]),_c('v-icon',[_vm._v(\"arrow_drop_down\")])],1),_c('v-list',_vm._l((_vm.model.currencies),function(newCurrency){return _c('v-list-tile',{key:newCurrency,on:{\"click\":function($event){_vm.model.currency = newCurrency}}},[_c('v-list-tile-title',{staticStyle:{\"width\":\"50px\"},domProps:{\"textContent\":_vm._s(newCurrency)}})],1)}),1)],1)],1),_c('v-content',{style:({\n      'background-image': (\"url(\" + (require('./assets/background.png')) + \")\"),\n      'background-repeat': 'repeat'\n    })},[_c('v-container',[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('BrowserDialog'),_c('AssetList',{ref:\"assetList\",attrs:{\"value\":_vm.model}}),_c('SaveAsDialog',{ref:\"saveAsDialog\"}),_c('AboutDialog',{ref:\"aboutDialog\"})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"960px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))]),_c('v-container',{attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"subheading px-0\"},[_vm._v(\"Copyright © 2018-2019 Andreas Huber Dönni\")])],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":(\"https://github.com/andreashuber69/\" + _vm.packageName + \"/blob/master/README.md#--\"),\"target\":\"_blank\",\"color\":\"primary\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            Documentation\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":(\"https://github.com/andreashuber69/\" + _vm.packageName + \"/issues\"),\"target\":\"_blank\",\"color\":\"primary\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            Issues\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":(\"https://raw.githubusercontent.com/andreashuber69/\" + _vm.packageName + \"/master/LICENSE\"),\"target\":\"_blank\",\"color\":\"primary\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            License\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"subheading px-0\"},[_vm._v(\"\\n              This application would not work without the help of the following data providers, who generously offer\\n              their services free of charge:\\n            \")])],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://coinmarketcap.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/coinmarketcap.svg\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://blockchain.info\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/blockchain.svg\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://blockcypher.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/blockcypher.svg\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://gastracker.io\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/gastracker.png\"),\"height\":\"36\"}}),_vm._v(\" Gastracker.io\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://ethplorer.io\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/ethplorer.png\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://btgexp.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/btgexp.png\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://chain.so\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/sochain.png\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://quandl.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":require(\"../assets/quandl.svg\"),\"height\":\"36\"}})])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"caption px-0\"},[_vm._v(_vm._s(_vm.userAgent))])],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.isOpen = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Application } from \"../model/Application\";\n\n@Component\n/** Implements the About dialog. */\n// tslint:disable-next-line:no-default-export\nexport default class AboutDialog extends Vue {\n    /** Provides a value indicating whether the dialog is currently open. */\n    public isOpen = false;\n\n    public get title() {\n        return `${Application.title} v${Application.version}${this.desktopVersion}`;\n    }\n\n    public get packageName() {\n        return Application.packageName + (this.userAgent.includes(\"Electron\") ? \"-desktop\" : \"\");\n    }\n\n    public get userAgent() {\n        return window.navigator.userAgent;\n    }\n\n    public showDialog() {\n        this.isOpen = true;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get desktopVersion() {\n        const userAgent = window.navigator.userAgent;\n        const prefix = `${Application.packageName}/`;\n        const start = userAgent.indexOf(prefix) + prefix.length;\n\n        return start >= prefix.length ? ` (Desktop v${userAgent.substring(start, userAgent.indexOf(\" \", start))})` : \"\";\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AboutDialog.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AboutDialog.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AboutDialog.vue?vue&type=template&id=205eb43e&scoped=true&\"\nimport script from \"./AboutDialog.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AboutDialog.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"205eb43e\",\n  null\n  \n)\n\ncomponent.options.__file = \"AboutDialog.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VCard,\n  VCardActions,\n  VCardText,\n  VCardTitle,\n  VContainer,\n  VDialog,\n  VFlex,\n  VLayout,\n  VSpacer,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('AssetEditor',{ref:\"editor\"})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"items\":_vm.checkedValue.assets.grouped,\"item-key\":\"key\",\"pagination\":_vm.pagination,\"loading\":_vm.isLoading,\"headers-length\":16,\"total-items\":_vm.checkedValue.assets.grouped.length,\"hide-actions\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [_c('th',{class:_vm.getHeaderClass('expand')}),_c('th',{class:_vm.getHeaderClass(_vm.checkedValue.assets.ordering.groupBy),on:{\"click\":function($event){_vm.changeSort(_vm.checkedValue.assets.ordering.groupBy)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkedValue.assets.ordering.groupByLabel)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass(_vm.checkedValue.assets.ordering.otherGroupBys[0]),on:{\"click\":function($event){_vm.changeSort(_vm.checkedValue.assets.ordering.otherGroupBys[0])}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkedValue.assets.ordering.otherGroupByLabels[0])+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass('description'),on:{\"click\":function($event){_vm.changeSort('description')}}},[_vm._v(\"\\n        Description \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass('unit')},[_vm._v(\"Unit\")]),_c('th',{class:_vm.getHeaderClass('fineness'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"Fineness\")]),_c('th',{class:_vm.getHeaderClass('unitValue'),attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){_vm.changeSort('unitValue')}}},[_vm._v(\"\\n        Unit Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.currency)+\")\\n      \")],1),_c('th',{class:_vm.getHeaderClass('quantity'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"Quantity\")]),_c('th',{class:_vm.getHeaderClass('totalValue'),attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){_vm.changeSort('totalValue')}}},[_vm._v(\"\\n        Total Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.currency)+\")\\n      \")],1),_c('th',{class:_vm.getHeaderClass('percent'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"%\")]),_c('th',{class:_vm.getHeaderClass('more')})]}},{key:\"items\",fn:function(props){return [_c('AssetListRow',{attrs:{\"value\":props.item,\"visibleColumnCount\":_vm.optionalColumnCount},on:{\"edit\":_vm.onEdit,\"delete\":_vm.onDelete}})]}}])},[_c('v-progress-linear',{attrs:{\"slot\":\"progress\",\"indeterminate\":\"\"},slot:\"progress\"}),_c('div',{staticClass:\"text-xs-center\",attrs:{\"slot\":\"no-data\"},slot:\"no-data\"},[_vm._v(\"\\n      No assets, yet. Add new ones with the \"),_c('strong',[_vm._v(\"+\")]),_vm._v(\" button (top right) or load existing assets with\\n      \"),_c('strong',[_vm._v(\"Open...\")]),_vm._v(\" in the menu (top left).\\n    \")]),_c('template',{slot:\"footer\"},[_c('td',{class:_vm.getFooterClass('grandTotalLabel'),attrs:{\"colspan\":_vm.grandTotalLabelColumnCount}},[_vm._v(\"Grand Total\")]),_c('td',{class:_vm.getFooterClass('totalValueInteger')},[_vm._v(_vm._s(_vm.grandTotalValueInteger))]),_c('td',{class:_vm.getFooterClass('totalValueFraction')},[_vm._v(_vm._s(_vm.grandTotalValueFraction))]),_c('td',{class:_vm.getFooterClass('percentInteger')},[_vm._v(\"100\")]),_c('td',{class:_vm.getFooterClass('percentFraction')},[_vm._v(\".0\")]),_c('td',{class:_vm.getFooterClass('more')})])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the weight units supported by the application. */\nexport enum WeightUnit {\n    \"g\" = 1,\n    \"kg\" = 1000,\n    \"gr\" = 0.06479891, // https://en.wikipedia.org/wiki/Grain_(unit)\n    \"t oz\" = gr * 480, // https://en.wikipedia.org/wiki/Ounce\n    \"oz\" = gr * 437.5, // https://en.wikipedia.org/wiki/Ounce\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Thrown when a query fails. */\nexport class QueryError extends Error {\n    public constructor(message?: string) {\n        super(message || \"Unexpected Response\");\n\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, QueryError.prototype);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { QueryError } from \"./QueryError\";\n\nexport class Query {\n    public static async execute(query: () => Promise<number | undefined>) {\n        try {\n            return {\n                result: await query(),\n                status: \"\",\n            };\n        } catch (e) {\n            if (e instanceof QueryError) {\n                return {\n                    result: Number.NaN,\n                    status: e.message,\n                };\n            } else {\n                throw e;\n            }\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundle } from \"./AssetBundle\";\nimport {\n    IAssetIntersection, IAssetUnion, ISerializedAsset, ISerializedObject, SerializedAssetPropertyName,\n} from \"./AssetInterfaces\";\n\nimport { AssetType } from \"./AssetTypes\";\nimport { IOrdering } from \"./Ordering\";\nimport { Query } from \"./Query\";\nimport { Unknown } from \"./Unknown\";\n\n/** @internal */\nexport interface IModel {\n    readonly assets: {\n        readonly ordering: IOrdering;\n        readonly grandTotalValue?: number;\n    };\n\n    readonly exchangeRate?: number;\n}\n\n/** Defines the base of all classes that represent an asset. */\nexport abstract class Asset {\n    public static readonly typeName = Asset.getPropertyName(\"type\");\n    public static readonly descriptionName = Asset.getPropertyName(\"description\");\n    public static readonly locationName = Asset.getPropertyName(\"location\");\n    public static readonly addressName = Asset.getPropertyName(\"address\");\n    public static readonly unitName = Asset.getCalculatedPropertyName(\"unit\");\n    public static readonly weightName = Asset.getPropertyName(\"weight\");\n    public static readonly weightUnitName = Asset.getPropertyName(\"weightUnit\");\n    public static readonly finenessName = Asset.getPropertyName(\"fineness\");\n    public static readonly valueName = Asset.getPropertyName(\"value\");\n    public static readonly valueCurrencyName = Asset.getPropertyName(\"valueCurrency\");\n    public static readonly unitValueName = Asset.getCalculatedPropertyName(\"unitValue\");\n    public static readonly quantityName = Asset.getPropertyName(\"quantity\");\n    public static readonly notesName = Asset.getPropertyName(\"notes\");\n    public static readonly totalValueName = Asset.getCalculatedPropertyName(\"totalValue\");\n    public static readonly percentName = Asset.getCalculatedPropertyName(\"percent\");\n\n    /** Provides the unique key of the asset. */\n    public readonly key = Asset.nextKey++;\n\n    /** Provides the parent model to which this asset belongs. */\n    public readonly parent: IModel;\n\n    public get isExpandable() {\n        return false;\n    }\n\n    /** Provides the type of asset, e.g. 'Silver, 'Gold', 'Bitcoin', 'Litecoin'. */\n    public abstract get type(): keyof typeof AssetType | \"\";\n\n    /** Provides the asset description, e.g. 'Bars', 'Coins', 'Spending', 'Savings'. */\n    public abstract get description(): string;\n\n    /** Provides the location of the asset, e.g. 'Safe', 'Safety Deposit Box', 'Mobile Phone', 'Hardware Wallet'. */\n    public abstract get location(): string;\n\n    /** Provides further information on the location. */\n    public get locationHint() {\n        return \"\";\n    }\n\n    /** Provides the unit of the quantity, e.g. '1 t oz', '10 g', 'BTC'. */\n    public abstract get unit(): string;\n\n    /** Provides the fineness, e.g. 0.999. For anything other than precious metals this is always undefined. */\n    public abstract get fineness(): number | undefined;\n\n    /** Provides the asset quantity. */\n    public abstract get quantity(): number | undefined;\n\n    /** Provides the quantity query error message, if applicable. */\n    public abstract get quantityHint(): string;\n\n    /** Provides the number of decimals to format the quantity to. */\n    public abstract get displayDecimals(): number;\n\n    /** Provides the asset notes. */\n    public abstract get notes(): string;\n\n    /** @internal */\n    public get unitValue() {\n        return Asset.multiply(this.unitValueUsd, this.parent.exchangeRate);\n    }\n\n    /** Provides the unit value query error message, if applicable. */\n    public get unitValueHint() {\n        return this.unitValueHintImpl;\n    }\n\n    /** @internal */\n    public get totalValue() {\n        return Asset.multiply(this.quantity, this.unitValue);\n    }\n\n    /** @internal */\n    public get percent() {\n        return (this.totalValue === undefined) || (this.parent.assets.grandTotalValue === undefined) ?\n            undefined : this.totalValue / this.parent.assets.grandTotalValue * 100;\n    }\n\n    /** Provides a value indicating whether the asset has any associated actions. */\n    public get hasActions() {\n        return true;\n    }\n\n    /** Provides the associated asset that can be edited. */\n    public get editableAsset(): Asset {\n        return this;\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        const { result, status } = await Query.execute(() => this.queryUnitValueUsd());\n        this.unitValueUsd = result;\n        this.unitValueHintImpl = status;\n    }\n\n    /** @internal */\n    public abstract get interface(): IAssetUnion;\n\n    /** @internal */\n    public abstract toJSON(): ISerializedAsset;\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    public bundle(bundle?: Unknown): AssetBundle {\n        throw new Error(\"Asset cannot be bundled.\");\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:no-empty prefer-function-over-method\n    public expand() {\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected unitValueUsd: number | undefined = undefined;\n\n    /**\n     * Creates a new [[Asset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     */\n    protected constructor(parent: IModel) {\n        this.parent = parent;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected queryUnitValueUsd(): Promise<number | undefined> {\n        return Promise.resolve(undefined);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static nextKey = 0;\n\n    private static getPropertyName<T extends keyof (ISerializedObject & IAssetIntersection)>(name: T) {\n        return name;\n    }\n\n    private static getCalculatedPropertyName<T extends keyof Asset>(name: T) {\n        return name;\n    }\n\n    private static multiply(factor1: number | undefined, factor2: number | undefined) {\n        return (factor1 === undefined) || (factor2 === undefined) ? undefined : factor1 * factor2;\n    }\n\n    private unitValueHintImpl = \"\";\n}\n\nexport type SortBy =\n    typeof Asset.typeName | typeof Asset.descriptionName | typeof Asset.locationName |\n    typeof Asset.unitValueName | typeof Asset.totalValueName;\n\nexport type GroupBy = typeof Asset.typeName | typeof Asset.locationName;\n\nexport type AssetDisplayPropertyName = SerializedAssetPropertyName |\n    typeof Asset.unitName | typeof Asset.unitValueName | typeof Asset.totalValueName | typeof Asset.percentName;\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, GroupBy, SortBy } from \"./Asset\";\n\nexport interface ISort {\n    /** Provides the name of the property by which the asset list is currently sorted. */\n    readonly by: SortBy;\n\n    /** Provides a value indicating whether the sort order is descending. */\n    readonly descending: boolean;\n}\n\ninterface IOrderingParameters {\n    // tslint:disable-next-line:prefer-method-signature\n    readonly onGroupChanged: () => void;\n    // tslint:disable-next-line:prefer-method-signature\n    readonly onSortChanged: () => void;\n    readonly groupBy?: GroupBy;\n    readonly sort?: ISort;\n}\n\nexport interface IOrdering {\n    readonly groupBy: GroupBy;\n    readonly otherGroupBys: GroupBy[];\n}\n\n/** Provides information how assets are ordered (grouped and sorted) in the main model of the application. */\nexport class Ordering implements IOrdering {\n    /** Provides the property names by which the asset list can be grouped. */\n    public static readonly groupBys: GroupBy[] = [ Asset.typeName, Asset.locationName ];\n\n    public static isSortBy(sortBy: string | undefined): sortBy is SortBy {\n        switch (sortBy) {\n            case Asset.typeName:\n            case Asset.descriptionName:\n            case Asset.locationName:\n            case Asset.unitValueName:\n            case Asset.totalValueName:\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    /** Provides the property names by which the asset list can be grouped. */\n    public readonly groupBys = Ordering.groupBys;\n\n    /** Provides the labels for the properties by which the asset list can be grouped. */\n    public get groupByLabels() {\n        return this.groupBys.map((g) => Ordering.capitalize(g));\n    }\n\n    /** Provides the name of the property by which the asset list is currently grouped. */\n    public get groupBy() {\n        return this.groupByImpl;\n    }\n\n    public set groupBy(groupBy: GroupBy) {\n        this.groupByImpl = groupBy;\n        this.onGroupChanged();\n    }\n\n    /** Provides the label for the property by which the asset list is currently grouped. */\n    public get groupByLabel() {\n        return Ordering.capitalize(this.groupBy);\n    }\n\n    /** Provides the property names by which the asset list is currently *not* grouped. */\n    public get otherGroupBys() {\n        const result = Array.from(this.groupBys);\n        result.splice(result.indexOf(this.groupBy), 1);\n\n        return result;\n    }\n\n    /** Provides the labels for the properties by which the asset list is currently *not* grouped. */\n    public get otherGroupByLabels() {\n        return this.otherGroupBys.map((g) => Ordering.capitalize(g));\n    }\n\n    /** Provides information on how to sort the asset list. */\n    public get sort() {\n        return this.sortImpl;\n    }\n\n    public set sort(sort: ISort) {\n        this.sortImpl = sort;\n        this.onSortChanged();\n    }\n\n    public constructor(params: IOrderingParameters) {\n        this.onGroupChanged = params.onGroupChanged;\n        this.onSortChanged = params.onSortChanged;\n        this.groupByImpl = params.groupBy || Asset.typeName;\n        this.sortImpl = params.sort || { by: Asset.totalValueName, descending: true };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static capitalize(str: string) {\n        return `${str[0].toUpperCase()}${str.substr(1)}`;\n    }\n\n    // tslint:disable-next-line:prefer-method-signature\n    private readonly onGroupChanged: () => void;\n    // tslint:disable-next-line:prefer-method-signature\n    private readonly onSortChanged: () => void;\n    private groupByImpl: GroupBy;\n    private sortImpl: ISort;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"960px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('Select',{attrs:{\"large\":\"true\",\"info\":_vm.typeInputInfo},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"description\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"location\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"address\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weight\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('Select',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weightUnit\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"fineness\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"value\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('Select',{attrs:{\"info\":_vm.assetInfo,\"property\":\"valueCurrency\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"quantity\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextArea',{attrs:{\"info\":_vm.assetInfo,\"property\":\"notes\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onCancelClicked($event)}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.onSaveClicked($event)}}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { ISerializedAsset } from \"./AssetInterfaces\";\n\nexport interface ISerializedBundle {\n    readonly primaryAsset: ISerializedAsset;\n}\n\n/**\n * Defines the base of all classes that represent a bundle of assets.\n * @description Asset bundles are primarily useful in conjunction with crypto currencies, where one address can hold a\n * balance of multiple currencies. For example, an ETH address can hold balances of hundreds of ERC20 tokens. A bundle\n * of assets is always defined by a primary asset, the details of which are then used to retrieve information about\n * secondary assets. For example, in the case of ERC20 tokens, a [[Erc20TokensWallet]] object is the primary asset\n * and the nested `TokenWallet` objects are the secondary assets. When the former is instantiated with an address and\n * then put into a bundle by calling [[Erc20TokensWallet.bundle]], `TokenWallet` objects are automatically added to\n * [[assets]] for each of the ERC20 tokens.\n * Since every asset must reside in a bundle, there is also the class [[GenericAssetBundle]], which never holds\n * secondary assets besides the primary one. This is used for all [[PreciousMetalAsset]] subclasses and other\n * [[CryptoWallet]] subclasses.\n */\nexport abstract class AssetBundle {\n    public static readonly primaryAssetName = \"primaryAsset\";\n\n    /** Provides the bundled assets (primary and secondary). */\n    public abstract get assets(): Asset[];\n\n    /** Deletes `asset` from [[assets]]. If `asset` is the primary asset, all secondary assets are deleted as well. */\n    public abstract deleteAsset(asset: Asset): void;\n\n    /** @internal */\n    public abstract queryData(): Promise<void>;\n\n    /** @internal */\n    public abstract toJSON(): ISerializedBundle;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundle, ISerializedBundle } from \"./AssetBundle\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { MiscAsset } from \"./MiscAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Defines a bundle containing a single asset. */\nexport class GenericAssetBundle extends AssetBundle {\n    public readonly assets: Array<CryptoWallet | PreciousMetalAsset | MiscAsset>;\n\n    /** @internal */\n    public constructor(asset: CryptoWallet | PreciousMetalAsset | MiscAsset) {\n        super();\n        this.assets = [ asset ];\n    }\n\n    public deleteAsset(asset: CryptoWallet | PreciousMetalAsset | MiscAsset) {\n        const index = this.assets.indexOf(asset);\n\n        if (index >= 0) {\n            this.assets.splice(index, 1);\n        }\n    }\n\n    public queryData() {\n        return this.assets[0].queryData();\n    }\n\n    public toJSON(): ISerializedBundle {\n        return {\n            primaryAsset: this.assets[0],\n        };\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { QueryError } from \"./QueryError\";\nimport { Unknown } from \"./Unknown\";\n\n/** @internal */\nexport class QueryCache {\n    /** @internal */\n    public static fetch(query: string) {\n        let result = this.cache.get(query);\n\n        if (!result) {\n            result = this.fetchImpl(query);\n            this.cache.set(query, result);\n        }\n\n        return result;\n    }\n\n    /** @internal */\n    public static clear() {\n        this.cache.clear();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly cache = new Map<string, Promise<Unknown | null>>();\n\n    private static async fetchImpl(query: string) {\n        let responseText: string;\n\n        try {\n            responseText = await (await window.fetch(query)).text();\n        } catch (e) {\n            throw new QueryError(`Network Error: ${e}`);\n        }\n\n        try {\n            return JSON.parse(responseText) as Unknown | null;\n        } catch (e) {\n            throw new QueryError(`Invalid JSON: ${e}`);\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Unknown } from \"./Unknown\";\n\n/**\n * Provides methods aimed at the type-safe analysis of values of unknown origin.\n * @description This is primarily useful for picking apart values coming from `JSON.parse`.\n */\nexport class Value {\n    /**\n     * Returns whether the type of `value` is `boolean`.\n     * @description This method is typically used as follows: `array.filter(Value.isBoolean)`.\n     */\n    public static isBoolean(value: Unknown | null | undefined): value is boolean {\n        return typeof value === \"boolean\";\n    }\n\n    /**\n     * Returns whether the type of `value` is `number`.\n     * @description This method is typically used as follows: `array.filter(Value.isNumber)`.\n     */\n    public static isNumber(value: Unknown | null | undefined): value is number {\n        return typeof value === \"number\";\n    }\n\n    /**\n     * Returns whether the type of `value` is `string`.\n     * @description This method is typically used as follows: `array.filter(Value.isString)`.\n     */\n    public static isString(value: Unknown | null | undefined): value is string {\n        return typeof value === \"string\";\n    }\n\n    /**\n     * Returns whether the type of `value` is `Object`.\n     * @description This is only useful if calling code needs to iterate over the properties of `value`. Code that needs\n     * to establish whether `value` has a property with a given name and type should rather call [[hasNumberProperty]],\n     * [[hasStringProperty]], [[hasObjectProperty]] or [[hasArrayProperty]].\n     */\n    public static isObject(value: Unknown | null | undefined): value is { [key: string]: Unknown | null | undefined } {\n        return value instanceof Object;\n    }\n\n    /** Returns whether the type of `value` is `Array`. */\n    public static isArray(value: Unknown | null | undefined): value is Array<Unknown | null | undefined> {\n        return Array.isArray(value);\n    }\n\n    /** Returns whether `value` has an own property of type `boolean` with the name `propertyName`. */\n    public static hasBooleanProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: boolean } {\n        return this.hasProperty(value, propertyName) && this.isBoolean(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `number` with the name `propertyName`. */\n    public static hasNumberProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: number } {\n        return this.hasProperty(value, propertyName) && this.isNumber(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `string` with the name `propertyName`. */\n    public static hasStringProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: string } {\n        return this.hasProperty(value, propertyName) && this.isString(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `Object` with the name `propertyName`. */\n    public static hasObjectProperty<T extends string>(value: Unknown | null | undefined, propertyName: T):\n        value is { [K in T]: { [key: string]: Unknown | null | undefined } } {\n        return this.hasProperty(value, propertyName) && this.isObject(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `Array` with the name `propertyName`. */\n    public static hasArrayProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Array<Unknown | null | undefined> } {\n        return this.hasProperty(value, propertyName) && this.isArray(value[propertyName]);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static hasProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Unknown | null | undefined } {\n        return this.isObject(value) && value.hasOwnProperty(propertyName);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents a single coinmarketcap.com request. */\nexport class CoinMarketCapRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[CoinMarketCapRequest]] instance.\n     * @param coin The coin to query the current price for.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly coin: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        const price = CoinMarketCapRequest.getPrice(\n            await QueryCache.fetch(`https://api.coinmarketcap.com/v1/ticker/${this.coin}/`));\n\n        return this.invert ? 1 / price : price;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPrice(response: Unknown | null) {\n        if (Value.isArray(response) && (response.length === 1)) {\n            const value = response[0];\n\n            if (Value.hasStringProperty(value, \"price_usd\")) {\n                return Number.parseFloat(value.price_usd);\n            }\n        }\n\n        throw new QueryError();\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetProperties } from \"./IAssetProperties\";\n\n/** Contains the defining properties common to all crypto currency wallets. */\nexport interface ICryptoWalletProperties extends IAssetProperties {\n    /** Provides the public address. */\n    readonly address?: string;\n}\n\nexport const cryptoWalletSuperType = \"Crypto Currency\";\n\n/** @internal */\nexport interface ICryptoWallet extends ICryptoWalletProperties {\n    /** @internal */\n    readonly superType: typeof cryptoWalletSuperType;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\n\n/** Defines the base of all classes that represent a single asset (as opposed to an [[AssetGroup]]). */\nexport abstract class SingleAsset extends Asset  {\n    public quantity: number | undefined;\n\n    public quantityHint = \"\";\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[SingleAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     */\n    protected constructor(parent: IModel) {\n        super(parent);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetType } from \"./AssetTypes\";\nimport { cryptoWalletSuperType, ICryptoWallet } from \"./ICryptoWallet\";\nimport { SingleAsset } from \"./SingleAsset\";\n\n/** Defines the base of all classes that represent a crypto currency wallet. */\nexport abstract class CryptoWallet extends SingleAsset implements ICryptoWallet {\n    /** @internal */\n    public static readonly superType = cryptoWalletSuperType;\n\n    public abstract get type(): keyof typeof AssetType;\n\n    public get locationHint() {\n        return this.address;\n    }\n\n    public abstract get address(): string;\n\n    public get unit() {\n        return this.currencySymbol;\n    }\n\n    public get fineness() {\n        return undefined;\n    }\n\n    public readonly displayDecimals = 6;\n\n    /** @internal */\n    public readonly superType = CryptoWallet.superType;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[CryptoWallet]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param currencySymbol The crypto currency symbol, e.g. 'BTC', 'LTC'.\n     */\n    protected constructor(parent: IModel, private readonly currencySymbol: string) {\n        super(parent);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { CoinMarketCapRequest } from \"./CoinMarketCapRequest\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { Query } from \"./Query\";\n\nexport interface IRealCryptoWalletParameters extends ICryptoWalletProperties {\n    /** The crypto currency symbol, e.g. 'BTC', 'LTC'. */\n    readonly currencySymbol: string;\n\n    /** The coinmarketcap.com identifier (aka \"website_slug\") of the currency. */\n    readonly slug?: string;\n}\n\n/** Defines the base of all classes that represent a real crypto currency wallet. */\nexport abstract class RealCryptoWallet extends CryptoWallet {\n    public readonly description: string;\n\n    public readonly address: string;\n\n    public readonly location: string;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            const { result, status } = await Query.execute(() => this.queryQuantity());\n\n            if (result !== undefined) {\n                this.quantity = (this.quantity === undefined ? 0 : this.quantity) + result;\n            }\n\n            this.quantityHint = status;\n        }\n    }\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            address: this.address || undefined,\n            quantity: this.address ? undefined : this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // TODO: This is a hack to work around the fact that the spread operator does not call property getters:\n    // https://github.com/Microsoft/TypeScript/issues/26547\n    protected static getProperties(\n        props: ICryptoWalletProperties, currencySymbol: string, slug?: string): IRealCryptoWalletParameters {\n        const cs = currencySymbol;\n        const s = slug;\n\n        return {\n            description: props.description,\n            location: props.location,\n            address: props.address,\n            quantity: props.quantity,\n            notes: props.notes,\n            currencySymbol: cs,\n            slug: s,\n        };\n    }\n\n    /** Creates a new [[RealCryptoWallet]] instance.\n     * @description If a non-empty string is passed for [[IRealCryptoWalletParameters.address]], then an attempt is made\n     * to retrieve the wallet balance, which is then added to whatever is passed for\n     * [[IRealCryptoWalletParameters.quantity]]. It therefore usually only makes sense to specify either address or\n     * quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param params The crypto wallet parameters.\n     */\n    protected constructor(parent: IModel, params: IRealCryptoWalletParameters) {\n        super(parent, params.currencySymbol);\n        this.description = params.description;\n        this.location = params.location || \"\";\n        this.address = params.address || \"\";\n        this.quantity = params.quantity;\n        this.notes = params.notes || \"\";\n        this.slug = params.slug;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected queryQuantity(): Promise<number | undefined> {\n        return Promise.resolve(undefined);\n    }\n\n    protected queryUnitValueUsd() {\n        return this.slug ? new CoinMarketCapRequest(this.slug, false).execute() : Promise.resolve(undefined);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly slug?: string;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { HDNode } from \"bitcoinjs-lib\";\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** @internal */\ninterface IBalance {\n    readonly finalBalance: number;\n    readonly transactionCount: number;\n}\n\n/** Represents a BTC wallet. */\nexport class BtcWallet extends RealCryptoWallet {\n    public readonly type = \"Bitcoin\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"BTC\", \"bitcoin\"));\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected queryQuantity() {\n        return new BtcWallet.QuantityRequest(this.address).queryQuantity();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:variable-name max-classes-per-file\n    private static readonly BlockchainRequest = class NestedBlockchainRequest implements IWebRequest<IBalance> {\n        public constructor(addresses: string[]) {\n            this.addresses = addresses.join(\"|\");\n        }\n\n        public async execute() {\n            return NestedBlockchainRequest.getFinalBalance(\n                await QueryCache.fetch(`https://blockchain.info/balance?active=${this.addresses}&cors=true`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getFinalBalance(response: Unknown | null) {\n            const result = { finalBalance: Number.NaN, transactionCount: 0 };\n\n            if (!Value.isObject(response)) {\n                return result;\n            }\n\n            for (const address in response) {\n                if (response.hasOwnProperty(address)) {\n                    this.addBalance(response[address], result);\n                }\n            }\n\n            if (Number.isNaN(result.finalBalance)) {\n                throw new QueryError();\n            }\n\n            return result;\n        }\n\n        private static addBalance(\n            balance: Unknown | null | undefined, result: { finalBalance: number; transactionCount: number }) {\n            if (Value.hasNumberProperty(balance, \"final_balance\") &&\n                Value.hasNumberProperty(balance, \"n_tx\")) {\n                result.transactionCount += balance.n_tx;\n                result.finalBalance = (Number.isNaN(result.finalBalance) ? 0 : result.finalBalance) +\n                    balance.final_balance / 1E8;\n            }\n        }\n\n        private readonly addresses: string;\n    };\n\n    // tslint:disable-next-line:variable-name max-classes-per-file\n    private static readonly QuantityRequest = class NestedQuantityRequest {\n        public constructor(private readonly address: string) {\n        }\n\n        public async queryQuantity() {\n            // cSpell: ignore xpub\n            // TODO: This is a crude test to distinguish between xpub and a normal address\n            if (this.address.length <= 100) {\n                await this.add([ this.address ]);\n            } else {\n                await NestedQuantityRequest.delay(1000);\n                const parent = HDNode.fromBase58(this.address);\n\n                // The following calls use a lot of CPU. By delaying first, we ensure that other queries can be\n                // sent, their respective responses received and even rendered in the UI before the CPU is blocked.\n                await this.addChain(parent.derive(0));\n                await this.addChain(parent.derive(1));\n            }\n\n            return this.quantity;\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static readonly minUnusedAddressesToCheck = 20;\n        private static batchLength = 2;\n\n        private static delay(milliseconds: number) {\n            return new Promise<void>((resolve) => setTimeout(resolve, milliseconds));\n        }\n\n        private static getBatch(node: HDNode, offset: number) {\n            const result = new Array<string>(this.batchLength);\n            const start = Date.now();\n\n            for (let index = 0; index < result.length; ++index) {\n                result[index] = node.derive(offset + index).getAddress();\n            }\n\n            if ((Date.now() - start < 500) && (this.batchLength < 16)) {\n                // This is an attempt at making address derivation more bearable on browsers with lousy script execution\n                // speed, e.g. Edge. Of course, this doesn't make the overall process faster, but it avoids blocking the\n                // thread for longer than a second.\n                this.batchLength *= 2;\n            }\n\n            return result;\n        }\n\n        private quantity = 0;\n\n        private async add(addresses: string[]) {\n            const result = await new BtcWallet.BlockchainRequest(addresses).execute();\n            this.quantity += result.finalBalance;\n\n            return result;\n        }\n\n        private async addChain(node: HDNode) {\n            let batch: string[] | undefined;\n            let unusedAddressesToCheck = NestedQuantityRequest.minUnusedAddressesToCheck;\n\n            for (let index = 0; unusedAddressesToCheck > 0; index += batch.length) {\n                batch = NestedQuantityRequest.getBatch(node, index);\n\n                if ((await this.add(batch)).transactionCount === 0) {\n                    unusedAddressesToCheck -= batch.length;\n                } else {\n                    unusedAddressesToCheck = NestedQuantityRequest.minUnusedAddressesToCheck;\n                }\n            }\n        }\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents a BTG wallet. */\nexport class BtgWallet extends RealCryptoWallet {\n    public readonly type = \"Bitcoin Gold\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"BTG\", \"bitcoin-gold\"));\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected queryQuantity() {\n        return new BtgWallet.BtgexpRequest(this.address).execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly BtgexpRequest = class NestedBtgexpRequest implements IWebRequest<number> {\n        public constructor(private readonly address: string) {\n        }\n\n        public async execute() {\n            return NestedBtgexpRequest.getBalance(\n                await QueryCache.fetch(`https://btgexp.com/ext/getbalance/${this.address}`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getBalance(response: Unknown | null) {\n            if (Value.isNumber(response)) {\n                return response;\n            }\n\n            throw new QueryError();\n        }\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { Unknown } from \"./Unknown\";\n\nexport type CompositeInput = { [K in AssetPropertyName]?: Unknown | null };\nexport type Input = CompositeInput | Unknown | null | undefined;\n\nexport class InputUtility {\n    public static isComposite(input: Input): input is CompositeInput {\n        return input instanceof Object;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { CompositeInput, Input, InputUtility } from \"./Input\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown } from \"./Unknown\";\n\n/**\n * Defines the base for all classes that provide input information for a primitive or composite value.\n * @description Input information refers to data displayed in the UI (prompts, hints, whether a value is required, etc.)\n * as well as the means to validate input.\n */\nexport abstract class InputInfo {\n    /**\n     * Validates `value` or a property of `value`.\n     * @description As the type indicates, `value` can be of primitive or composite type. In the former case, `value`\n     * itself is validated. In the latter case, the value of the property with the passed name is validated. Either\n     * way, this method only ever validates a single primitive value.\n     * @returns `true` if the property value is valid; otherwise a string describing why the value is invalid.\n     */\n    public validate(strict: boolean, input: Input, propertyName?: AssetPropertyName) {\n        if (InputUtility.isComposite(input)) {\n            return this.validateComposite(strict, input, propertyName);\n        } else {\n            return this.validatePrimitive(strict, input, propertyName);\n        }\n    }\n\n    /**\n     * Gets the [[PrimitiveInputInfo]] subclass object for a property.\n     * @description When implemented by [[PrimitiveInputInfo]], this method simply returns `this`.\n     * @throws `Error` if `T` does not match the type implied by `propertyName`.\n     */\n    public abstract get<T extends PrimitiveInputInfo>(ctor: new() => T, propertyName?: AssetPropertyName): T;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validatePrimitive(\n        strict: boolean, input: Unknown | undefined | null, propertyName?: AssetPropertyName): true | string {\n        return \"A primitive value was provided when a composite one was expected.\";\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateComposite(\n        strict: boolean, input: CompositeInput, propertyName?: AssetPropertyName): true | string {\n        return \"A composite value was provided when a primitive one was expected.\";\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Provides error messages for parse failures. */\nexport class ParseErrorMessage {\n    /** @internal */\n    public static getPropertyTypeMismatch(\n        propertyName: string, actual: Unknown | null | undefined, ...expected: Array<Unknown | null | undefined>) {\n        if (Value.isObject(actual)) {\n            return this.addPropertyName(propertyName, this.getTypeMismatch(actual[propertyName], ...expected));\n        } else {\n            return this.getTypeMismatch(actual, {});\n        }\n    }\n\n    /** @internal */\n    public static getTypeMismatch(\n        actual: Unknown | null | undefined, ...expected: Array<Unknown | null | undefined>) {\n        const actualType = this.getTypeName(actual);\n        const expectedTypes = expected.reduce<string>(\n            (p, c) => p === \"\" ? this.getTypeName(c) : `${p} or ${this.getTypeName(c)}`, \"\");\n\n        return `The type of the value (${actualType}) does not match the expected type(s) ${expectedTypes}.`;\n    }\n\n    /** @internal */\n    public static getUnknownPropertyValue(propertyName: string, value: Unknown | null | undefined) {\n        return this.addPropertyName(propertyName, this.getUnknownValue(value));\n    }\n\n    /** @internal */\n    public static getUnknownValue(value: Unknown | null | undefined) {\n        return `The value '${typeof value === \"symbol\" ? \"symbol\" : value}' does not match any of the possible values.`;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static addPropertyName(propertyName: string, rest: string) {\n        return `'${propertyName}': ${rest}`;\n    }\n\n    private static getTypeName(value: any) {\n        if (value === null) {\n            return \"null\";\n        }\n\n        const type = typeof value;\n\n        return type === \"object\" ? (Array.isArray(value) ? \"Array\" : \"Object\") : type;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { InputInfo } from \"./InputInfo\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\nexport interface IPrimitiveInputInfoProperties {\n    readonly label: string;\n    readonly hint: string;\n    readonly isPresent: boolean;\n    readonly isRequired: boolean;\n}\n\n/** Defines the base for all classes that provide input information for a primitive value. */\nexport abstract class PrimitiveInputInfo extends InputInfo implements IPrimitiveInputInfoProperties {\n    public readonly label: string;\n    public readonly hint: string;\n    public readonly isPresent: boolean;\n    public readonly isRequired: boolean;\n\n    public get<T extends PrimitiveInputInfo>(ctor: new() => T, propertyName?: AssetPropertyName): T {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive input.\");\n        }\n\n        if (!(this instanceof ctor)) {\n            throw new Error(`The requested type ${ctor.name} does not match the actual type.`);\n        }\n\n        return this;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(props: IPrimitiveInputInfoProperties) {\n        super();\n        ({ label: this.label, hint: this.hint, isPresent: this.isPresent, isRequired: this.isRequired } = props);\n    }\n\n    /** @internal */\n    protected validatePrimitive(strict: boolean, input: Unknown | undefined | null, propertyName?: AssetPropertyName) {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive value.\");\n        }\n\n        if (!this.isPresent) {\n            return true;\n        }\n\n        if ((input === undefined) || (input === null) || (Value.isString(input) && (input.length === 0))) {\n            return this.isRequired ? \"A value is required.\" : true;\n        }\n\n        return this.validateContent(strict, input);\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateContent(strict: boolean, input: Unknown): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { ParseErrorMessage } from \"./ParseErrorMessage\";\nimport { IPrimitiveInputInfoProperties, PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\ninterface ITextInputInfoProperties extends IPrimitiveInputInfoProperties {\n    readonly min?: number;\n    readonly max?: number;\n    readonly step?: number;\n}\n\n/**\n * Provides input information for a property where a valid value either needs to be a number with certain constraints\n * (minimum, maximum, step) or text.\n */\nexport class TextInputInfo extends PrimitiveInputInfo implements ITextInputInfoProperties {\n    public readonly min?: number;\n    public readonly max?: number;\n    public readonly step?: number;\n\n    /** @internal */\n    public constructor(props: ITextInputInfoProperties = { label: \"\", hint: \"\", isPresent: false, isRequired: false }) {\n        super(props);\n        ({ min: this.min, max: this.max, step: this.step } = props);\n    }\n\n    public get type() {\n        return this.isNumber ? \"number\" : \"text\";\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * @internal\n     * @description This duplicates the validation a HTML input control (or a v-text-field) does out of the box. The\n     * duplication is necessary for the following reasons:\n     * - Some browsers localize the validation message. Since this application is in English only, users with a\n     *   non-English locale would get mixed languages in the UI.\n     * - We want to use exactly the same rules to validate file content.\n     */\n    // Breaking this one up is harder than it might look, because the validateValue call depends on the type\n    // discrimination above it.\n    // codebeat:disable[ABC,BLOCK_NESTING]\n    protected validateContent(strict: boolean, input: Unknown) {\n        if (strict) {\n            if (this.isNumber) {\n                if (!Value.isNumber(input)) {\n                    return ParseErrorMessage.getTypeMismatch(input, 0);\n                }\n            } else {\n                if (!Value.isString(input)) {\n                    return ParseErrorMessage.getTypeMismatch(input, \"\");\n                }\n            }\n        } else {\n            if (!Value.isNumber(input) && !Value.isString(input)) {\n                return ParseErrorMessage.getTypeMismatch(input, 0, \"\");\n            }\n        }\n\n        const valueResult = this.validateValue(input);\n\n        if (valueResult !== true) {\n            return valueResult;\n        }\n\n        return super.validateContent(strict, input);\n    }\n    // codebeat:enable[ABC,BLOCK_NESTING]\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static format(value: number, epsilonFactor: number = 1) {\n        return value.toLocaleString(\n            undefined, { maximumFractionDigits: Math.floor(-Math.log10(this.getMaxError(value, epsilonFactor))) });\n    }\n\n    private static getMaxError(value: number, epsilonFactor: number = 1) {\n        return Math.max(Math.abs(value) * epsilonFactor, 1) * Number.EPSILON;\n    }\n\n    private get isNumber() {\n        return (this.min !== undefined) || (this.max !== undefined) || (this.step !== undefined);\n    }\n\n    private validateValue(input: string | number) {\n        if (!this.isNumber) {\n            return true;\n        }\n\n        const numericValue = Value.isNumber(input) ? input : Number.parseFloat(input);\n\n        if ((this.min !== undefined) && (this.min - numericValue > Number.EPSILON)) {\n            return `The value must be greater than or equal to ${TextInputInfo.format(this.min)}.`;\n        }\n\n        if ((this.max !== undefined) && (numericValue - this.max > Number.EPSILON)) {\n            return `The value must be less than or equal to ${TextInputInfo.format(this.max)}.`;\n        }\n\n        return this.validateStep(numericValue);\n    }\n\n    private validateStep(numericValue: number) {\n        const bottom = this.min !== undefined ? this.min : 0;\n        const step = this.step !== undefined ? this.step : 1;\n        const lower = Math.floor((numericValue - bottom) / step) * step + bottom;\n        const upper = lower + step;\n        // The calculations for the conditions below each involve at most 6 operations, each of which might produce\n        // a result that could be wrong by at most Number.EPSILON.\n        const maxError = TextInputInfo.getMaxError(upper, 6);\n\n        if ((numericValue - lower > maxError) && (upper - numericValue > maxError)) {\n            const lowerText = TextInputInfo.format(lower, 4);\n            const upperText = TextInputInfo.format(upper, 5);\n\n            return `The value is invalid. The two nearest valid values are ${lowerText} and ${upperText}.`;\n        }\n\n        return true;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetPropertyName, IAssetIntersection } from \"./AssetInterfaces\";\nimport { AssetType } from \"./AssetTypes\";\nimport { Currency } from \"./Currency\";\nimport { IAuxProperties } from \"./IAuxProperties\";\nimport { CompositeInput, InputUtility } from \"./Input\";\nimport { InputInfo } from \"./InputInfo\";\nimport { ParseErrorMessage } from \"./ParseErrorMessage\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Unknown } from \"./Unknown\";\nimport { WeightUnit } from \"./WeightUnit\";\n\ninterface IValidationResults extends IAuxProperties<true | string> {\n    [key: string]: true | string;\n}\n\nexport type IAssetConstructor = new (m: IModel, p: IAssetIntersection) => Asset;\n\n/**\n * Defines how the properties of a given asset type need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport abstract class AssetInputInfo extends InputInfo implements IAuxProperties<PrimitiveInputInfo> {\n    public abstract get type(): keyof typeof AssetType | \"\";\n\n    public abstract get description(): TextInputInfo;\n    public abstract get location(): TextInputInfo;\n    public abstract get address(): TextInputInfo;\n    public abstract get value(): TextInputInfo;\n    public abstract get valueCurrency(): SelectInputInfo<typeof Currency>;\n    public abstract get weight(): TextInputInfo;\n    public abstract get weightUnit(): SelectInputInfo<typeof WeightUnit>;\n    public abstract get fineness(): TextInputInfo;\n    public abstract get quantity(): TextInputInfo;\n    public readonly notes = new TextInputInfo({\n        label: \"Notes\", hint: \"Additional asset information.\", isPresent: true, isRequired: false,\n    });\n\n    /**\n     * @internal\n     * @description This is a property rather than a parameter of [[validate]], because [[validate]] is often\n     * (indirectly) called from a context where it is not known whether relations should be validated. For example,\n     * validation for Vuetify controls is specified by supplying a function to each control. Said function is then\n     * called while the bound value is modified in the control. However, the same function is also called when the\n     * whole form is validated. Obviously, relations should not be validated in the former case but they must be in the\n     * latter one.\n     */\n    public includeRelations = false;\n\n    /** @internal */\n    public createAsset(parent: IModel, props: IAssetIntersection) {\n        if (!this.ctor) {\n            throw new Error(\"No ctor was specified.\");\n        }\n\n        return new this.ctor(parent, props);\n    }\n\n    public get<T extends PrimitiveInputInfo>(ctor: new() => T, propertyName?: AssetPropertyName): T {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite input.\");\n        }\n\n        const result = this[propertyName];\n\n        if (!(result instanceof ctor)) {\n            throw new Error(\n                `The requested type ${ctor.name} does not match the actual type of the property ${propertyName}.`);\n        }\n\n        return result;\n    }\n\n    public validateAll(input: Unknown) {\n        if (!InputUtility.isComposite(input)) {\n            return ParseErrorMessage.getTypeMismatch(input, {});\n        }\n\n        this.includeRelations = true;\n\n        try {\n            const results: IValidationResults = {\n                description: this.validateComposite(true, input, Asset.descriptionName),\n                location: this.validateComposite(true, input, Asset.locationName),\n                address: this.validateComposite(true, input, Asset.addressName),\n                weight: this.validateComposite(true, input, Asset.weightName),\n                weightUnit: this.validateComposite(true, input, Asset.weightUnitName),\n                fineness: this.validateComposite(true, input, Asset.finenessName),\n                value: this.validateComposite(true, input, Asset.valueName),\n                valueCurrency: this.validateComposite(true, input, Asset.valueCurrencyName),\n                quantity: this.validateComposite(true, input, Asset.quantityName),\n                notes: this.validateComposite(true, input, Asset.notesName),\n            };\n\n            let message = \"\";\n\n            for (const key in results) {\n                if (results.hasOwnProperty(key)) {\n                    const result = results[key];\n\n                    if (result !== true) {\n                        message += `${key}: ${result}\n`;\n                    }\n                }\n            }\n\n            return message ? message : true;\n        } finally {\n            this.includeRelations = false;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(private readonly ctor?: IAssetConstructor) {\n        super();\n    }\n\n    /** @internal */\n    protected validateComposite(strict: boolean, input: CompositeInput, propertyName?: AssetPropertyName) {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite value.\");\n        }\n\n        const singleResult = this[propertyName].validate(strict, input[propertyName], undefined);\n\n        return (singleResult === true) && this.includeRelations ?\n            this.validateRelations(input, propertyName) : singleResult;\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateRelations(input: CompositeInput, propertyName: AssetPropertyName): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport type Enum<E> = Record<keyof E, number> & { [key: number]: string };\n\nexport class EnumInfo {\n    public static getMemberNames<T extends Enum<T>>(enumType: T) {\n        const result = new Array<keyof T>();\n\n        for (const value in enumType) {\n            if (Number.isNaN(Number.parseFloat(value))) {\n                result.push(value);\n            }\n        }\n\n        return result;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Enum, EnumInfo } from \"./EnumInfo\";\nimport { ParseErrorMessage } from \"./ParseErrorMessage\";\nimport { IPrimitiveInputInfoProperties, PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown } from \"./Unknown\";\n\nexport abstract class SelectInputInfoBase extends PrimitiveInputInfo {\n    public abstract get items(): string[];\n\n    /** @internal */\n    protected constructor(props: IPrimitiveInputInfoProperties) {\n        super(props);\n    }\n}\n\ninterface ISelectInputInfoParameters<T extends Enum<T>> extends IPrimitiveInputInfoProperties {\n    readonly enumType?: T;\n    readonly acceptStringsOnly: boolean;\n}\n\n/** Provides input information for a property where a valid value needs to be equal to one of a given list of values. */\n// tslint:disable-next-line:max-classes-per-file\nexport class SelectInputInfo<T extends Enum<T>> extends SelectInputInfoBase {\n    /** @internal */\n    public constructor(params: ISelectInputInfoParameters<T> =\n        { label: \"\", hint: \"\", isPresent: false, isRequired: false, acceptStringsOnly: false }) {\n        super(params);\n        ({ enumType: this.enumType, acceptStringsOnly: this.acceptStringsOnly } = params);\n    }\n\n    public get items() {\n        return this.enumType ? EnumInfo.getMemberNames(this.enumType) as string[] : [];\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected validateContent(strict: boolean, input: Unknown) {\n        if (this.enumType) {\n            if (!(input in this.enumType) || (this.acceptStringsOnly && (typeof input !== \"string\"))) {\n                return ParseErrorMessage.getUnknownValue(input);\n            }\n        }\n\n        return super.validateContent(strict, input);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly enumType?: T;\n    private readonly acceptStringsOnly: boolean;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { AssetInputInfo, IAssetConstructor } from \"./AssetInputInfo\";\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { CryptoWalletType } from \"./AssetTypes\";\nimport { Currency } from \"./Currency\";\nimport { CompositeInput } from \"./Input\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Unknown } from \"./Unknown\";\nimport { WeightUnit } from \"./WeightUnit\";\n\ninterface ICryptoWalletInputInfoParameters {\n    readonly type: CryptoWalletType;\n    readonly ctor: IAssetConstructor;\n    readonly addressHint: string;\n    readonly quantityDecimals?: number;\n}\n\n/**\n * Defines how the properties of a crypto currency wallet need to be input and validated and provides a method to create\n * a representation of the wallet.\n */\nexport class CryptoWalletInputInfo extends AssetInputInfo {\n    public readonly type: CryptoWalletType;\n    public readonly description = new TextInputInfo({\n        label: \"Description\", hint: \"Describes the wallet, e.g. 'Mycelium', 'Hardware Wallet', 'Paper Wallet'.\",\n        isPresent: true, isRequired: true,\n    });\n    public readonly location = new TextInputInfo({\n        label: \"Location\", hint: \"The location of the wallet, e.g. 'My Mobile', 'Home', 'Safety Deposit Box'.\",\n        isPresent: true, isRequired: false,\n    });\n    public readonly address: TextInputInfo;\n\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo<typeof WeightUnit>();\n    public readonly fineness = new TextInputInfo();\n    public readonly value = new TextInputInfo();\n    public readonly valueCurrency = new SelectInputInfo<typeof Currency>();\n    public readonly quantity: TextInputInfo;\n\n    /** @internal */\n    public constructor(params: ICryptoWalletInputInfoParameters) {\n        super(params.ctor);\n        this.type = params.type;\n\n        this.address = new TextInputInfo({\n            label: \"Address\", hint: params.addressHint, isPresent: true, isRequired: !params.quantityDecimals,\n        });\n\n        this.quantity = CryptoWalletInputInfo.getQuantityInputInfo(params.quantityDecimals);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected validateRelations(input: CompositeInput, propertyName: AssetPropertyName) {\n        if (!this.address.isRequired &&\n            ((propertyName === Asset.addressName) || (propertyName === Asset.quantityName)) &&\n            (CryptoWalletInputInfo.isUndefined(input.address) === CryptoWalletInputInfo.isUndefined(input.quantity))) {\n            return `A value is required for either the ${this.address.label} or the ${this.quantity.label} (not both).`;\n        }\n\n        return super.validateRelations(input, propertyName);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getQuantityInputInfo(quantityDecimals: number | undefined) {\n        if (quantityDecimals) {\n            return new TextInputInfo({\n                label: \"Quantity\", hint: \"The amount in the wallet.\", isPresent: true, isRequired: false,\n                min: 0, max: undefined, step: Math.pow(10, -quantityDecimals),\n            });\n        } else {\n            return new TextInputInfo();\n        }\n    }\n\n    private static isUndefined(value: Unknown | null | undefined) {\n        return (value === undefined) || (value === null) || (value === \"\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents a single blockcypher.com request. */\nexport class BlockcypherRequest implements IWebRequest<number> {\n    public constructor(private readonly coin: string, private readonly address: string) {\n    }\n\n    public async execute() {\n        return BlockcypherRequest.getBalance(\n            await QueryCache.fetch(`https://api.blockcypher.com/v1/${this.coin}/main/addrs/${this.address}/balance`));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getBalance(response: Unknown | null) {\n        if (Value.hasNumberProperty(response, \"balance\")) {\n            return response.balance / 1E8;\n        }\n\n        throw new QueryError();\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { BlockcypherRequest } from \"./BlockcypherRequest\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { IRealCryptoWalletParameters, RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\n\n/** Represents a wallet the balance of which is requested from blockcypher.com. */\nexport abstract class BlockcypherWallet extends RealCryptoWallet {\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected constructor(parent: IModel, params: IRealCryptoWalletParameters) {\n        super(parent, params);\n    }\n\n    protected queryQuantity() {\n        return new BlockcypherRequest(this.unit.toLowerCase(), this.address).execute();\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { BlockcypherWallet } from \"./BlockcypherWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\n\n/** Represents a DASH wallet. */\nexport class DashWallet extends BlockcypherWallet {\n    public readonly type = \"Dash\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"DASH\", \"dash\"));\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetUnion, ISerializedAsset } from \"./AssetInterfaces\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { Erc20TokensWallet } from \"./Erc20TokensWallet\";\n\ninterface ITokenWalletParameters {\n    readonly editable: Erc20TokensWallet;\n    readonly currencySymbol: string;\n    readonly quantity: number;\n    readonly unitValueUsd?: number;\n}\n\nexport class Erc20TokenWallet extends CryptoWallet {\n    public get type() {\n        return this.editable.type;\n    }\n\n    public get description() {\n        return this.editable.description;\n    }\n\n    public get location() {\n        return this.editable.location;\n    }\n\n    public get address() {\n        return this.editable.address;\n    }\n\n    public get notes() {\n        return this.editable.notes;\n    }\n\n    public get editableAsset() {\n        return this.editable;\n    }\n\n    public get interface(): IAssetUnion {\n        throw new Error(`${Erc20TokenWallet.name} cannot be edited.`);\n    }\n\n    /** @internal */\n    public constructor(params: ITokenWalletParameters) {\n        super(params.editable.parent, params.currencySymbol);\n        this.editable = params.editable;\n        this.quantity = params.quantity;\n        this.unitValueUsd = params.unitValueUsd;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public toJSON(): ISerializedAsset {\n        throw new Error(`${Erc20TokenWallet.name} cannot be serialized.`);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly editable: Erc20TokensWallet;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetBundle, ISerializedBundle } from \"./AssetBundle\";\nimport { AssetType } from \"./AssetTypes\";\nimport { Erc20TokenWallet } from \"./Erc20TokenWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\ninterface ISerializedErc20TokensBundle extends ISerializedBundle {\n    deletedAssets: string[];\n}\n\n/** Represents a wallet for ERC20 tokens. */\nexport class Erc20TokensWallet extends RealCryptoWallet {\n    public readonly type: keyof typeof AssetType = \"ERC20 Tokens\";\n\n    /**\n     * Creates a new [[Erc20TokensWallet]] instance.\n     * @description This wallet requires an [[ICryptoWalletProperties.address]] and ignores\n     * [[ICryptoWalletProperties.quantity]].\n     * @param parent The parent model to which this asset belongs.\n     * @param props The crypto wallet properties.\n     */\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"\"));\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new Erc20TokensWallet.Bundle(this, bundle);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly Bundle = class NestedBundle extends AssetBundle {\n        public readonly assets: Asset[] = [];\n\n        public constructor(private readonly erc20Wallet: Erc20TokensWallet, bundle?: Unknown) {\n            super();\n\n            if (Value.hasArrayProperty(bundle, NestedBundle.deletedAssetsName)) {\n                // tslint:disable-next-line:no-unbound-method\n                this.deletedAssets = bundle[NestedBundle.deletedAssetsName].filter(Value.isString);\n            }\n        }\n\n        public deleteAsset(asset: Asset) {\n            const index = this.assets.indexOf(asset);\n\n            if (index >= 0) {\n                this.deletedAssets.push(this.assets[index].unit);\n                this.assets.splice(index, 1);\n            }\n        }\n\n        public async queryData() {\n            await this.erc20Wallet.queryData();\n\n            if (!this.erc20Wallet.address) {\n                return;\n            }\n\n            try {\n                // There's no good place where we can visualize an ERC20 query error in the UI, which is why we just log\n                // it in the console.\n                const balances = await QueryCache.fetch(\n                    `https://api.ethplorer.io/getAddressInfo/${this.erc20Wallet.address}?apiKey=dvoio1769GSrYx63`);\n\n                if (!Value.hasArrayProperty(balances, \"tokens\")) {\n                    throw new QueryError();\n                }\n\n                for (const token of balances.tokens) {\n                    this.addTokenWallet(token);\n                }\n            } catch (e) {\n                if (e instanceof QueryError) {\n                    console.warn(e);\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        public toJSON(): ISerializedErc20TokensBundle {\n            return {\n                primaryAsset: this.erc20Wallet.toJSON(),\n                deletedAssets: this.deletedAssets,\n            };\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static readonly deletedAssetsName = NestedBundle.getName(\"deletedAssets\");\n\n        private static getName<T extends keyof ISerializedErc20TokensBundle>(name: T) {\n            return name;\n        }\n\n        private static getPrice(info: Unknown) {\n            if (!Value.hasObjectProperty(info, \"price\") || !Value.hasStringProperty(info.price, \"rate\") ||\n                !Value.hasStringProperty(info.price, \"currency\") || (info.price.currency !== \"USD\")) {\n                return 0;\n            } else {\n                return Number.parseFloat(info.price.rate);\n            }\n        }\n\n        private readonly deletedAssets: string[] = [];\n\n        // The high abc is probably a result of the many conditions paired with short-circuit logic in the second if\n        // statement. Breaking this up would not improve readability.\n        // codebeat:disable[ABC]\n        private addTokenWallet(token: Unknown | null | undefined) {\n            if (!Value.hasObjectProperty(token, \"tokenInfo\")) {\n                throw new QueryError();\n            }\n\n            const info = token.tokenInfo;\n\n            if (Value.hasStringProperty(info, \"symbol\") && Value.hasNumberProperty(token, \"balance\") &&\n                (Value.hasNumberProperty(info, \"decimals\") || Value.hasStringProperty(info, \"decimals\")) &&\n                (this.deletedAssets.indexOf(info.symbol) < 0) && (token.balance > 0)) {\n                this.assets.push(new Erc20TokenWallet({\n                    editable: this.erc20Wallet,\n                    currencySymbol: info.symbol,\n                    quantity: token.balance / Math.pow(10, Number.parseFloat(info.decimals.toString())),\n                    unitValueUsd: NestedBundle.getPrice(info),\n                }));\n            }\n        }\n        // codebeat:enable[ABC]\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents an ETC wallet. */\nexport class EtcWallet extends RealCryptoWallet {\n    public readonly type = \"Ethereum Classic\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"ETC\", \"ethereum-classic\"));\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected queryQuantity() {\n        return new EtcWallet.GastrackerRequest(this.address).execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly GastrackerRequest = class NestedGastrackerRequest implements IWebRequest<number> {\n        public constructor(private readonly address: string) {\n        }\n\n        public async execute() {\n            return NestedGastrackerRequest.getBalance(\n                await QueryCache.fetch(`https://api.gastracker.io/addr/${this.address}`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getBalance(response: Unknown | null) {\n            if (Value.hasObjectProperty(response, \"balance\") &&\n                Value.hasNumberProperty(response.balance, \"ether\")) {\n                return response.balance.ether;\n            }\n\n            throw new QueryError();\n        }\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents an ETH wallet. */\nexport class EthWallet extends RealCryptoWallet {\n    public readonly type = \"Ethereum\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"ETH\", \"ethereum\"));\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryQuantity() {\n        const response =\n            await QueryCache.fetch(`https://api.ethplorer.io/getAddressInfo/${this.address}?apiKey=dvoio1769GSrYx63`);\n\n        return EthWallet.getQuantity(response);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getQuantity(response: Unknown | null) {\n        if (!Value.hasObjectProperty(response, \"ETH\") || !Value.hasNumberProperty(response.ETH, \"balance\")) {\n            throw new QueryError();\n        }\n\n        return response.ETH.balance;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetProperties } from \"./IAssetProperties\";\nimport { WeightUnit } from \"./WeightUnit\";\n\n/** Contains the defining properties common to all precious metal assets. */\nexport interface IPreciousMetalAssetProperties extends IAssetProperties {\n    /** Provides the weight of a single item, expressed in `weightUnit`. */\n    readonly weight: number;\n    /** Provides the unit used for `weight`, e.g. [[kg]]. */\n    readonly weightUnit: WeightUnit;\n    /** Provides the fineness, e.g. 0.999. */\n    readonly fineness: number;\n}\n\n/** @internal */\nexport const preciousMetalSuperType = \"Precious Metal\";\n\n/** @internal */\nexport interface IPreciousMetalAsset extends IPreciousMetalAssetProperties {\n    /** @internal */\n    readonly superType: typeof preciousMetalSuperType;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the supported currencies. */\nexport enum Currency {\n    USD,\n    AUD,\n    CAD,\n    CNY,\n    CHF,\n    CZK,\n    DKK,\n    GBP,\n    HKD,\n    HUF,\n    INR,\n    JPY,\n    KRW,\n    LTL,\n    MYR,\n    NIS,\n    NOK,\n    NZD,\n    PLN,\n    RUB,\n    SAR,\n    SEK,\n    SGD,\n    THB,\n    TRY,\n    TWD,\n    ZAR,\n    XAG,\n    XAU,\n    BTC,\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo, IAssetConstructor } from \"./AssetInputInfo\";\nimport { PreciousMetalAssetType } from \"./AssetTypes\";\nimport { Currency } from \"./Currency\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { WeightUnit } from \"./WeightUnit\";\n\n/**\n * Defines how the properties of a precious metal asset need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport class PreciousMetalAssetInputInfo extends AssetInputInfo {\n    public static readonly weightDigits = 3;\n    public static readonly finenessDigits = 6;\n\n    public readonly description = new TextInputInfo({\n        label: \"Description\", hint: \"Describes the items, e.g. 'Coins', 'Bars'.\", isPresent: true, isRequired: true,\n    });\n    public readonly location = new TextInputInfo({\n        label: \"Location\", hint: \"The location, e.g. 'Safe', 'Safety Deposit Box'.\", isPresent: true, isRequired: false,\n    });\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo({\n        label: \"Weight\", hint: \"The weight of a single item, expressed in Unit.\", isPresent: true, isRequired: true,\n        min: PreciousMetalAssetInputInfo.weightStep, max: undefined, step: PreciousMetalAssetInputInfo.weightStep,\n    });\n    public readonly weightUnit = new SelectInputInfo({\n        label: \"Unit\", hint: \"The unit Weight is expressed in.\", isPresent: true, isRequired: true,\n        enumType: WeightUnit, acceptStringsOnly: false,\n    });\n    public readonly fineness = new TextInputInfo({\n        label: \"Fineness\", hint: \"The precious metal fineness.\", isPresent: true, isRequired: true,\n        min: 0.5, max: 1 - PreciousMetalAssetInputInfo.finenessStep, step: PreciousMetalAssetInputInfo.finenessStep,\n    });\n    public readonly value = new TextInputInfo();\n    public readonly valueCurrency = new SelectInputInfo<typeof Currency>();\n    public readonly quantity = new TextInputInfo({\n        label: \"Quantity\", hint: \"The number of items.\", isPresent: true, isRequired: true, min: 0,\n    });\n\n    /** @internal */\n    public constructor(public readonly type: PreciousMetalAssetType, ctor: IAssetConstructor) {\n        super(ctor);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly weightStep = Math.pow(10, -PreciousMetalAssetInputInfo.weightDigits);\n    private static readonly finenessStep = Math.pow(10, -PreciousMetalAssetInputInfo.finenessDigits);\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents a single quandl.com request. */\nexport class QuandlRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[QuandlRequest]] instance.\n     * @param path The path to query.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly path: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        if (this.path.length > 0) {\n            const response = await QueryCache.fetch(\n                `https://www.quandl.com/api/v3/datasets/${this.path}?api_key=ALxMkuJx2XTUqsnsn6qK&rows=1`);\n            const price = QuandlRequest.getPrice(response);\n\n            return this.invert ? 1 / price : price;\n        } else {\n            return 1;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPrice(response: Unknown | null) {\n        if (!Value.hasObjectProperty(response, \"dataset\") ||\n            !Value.hasArrayProperty(response.dataset, \"data\") || response.dataset.data.length < 1) {\n            throw new QueryError();\n        }\n\n        const array = response.dataset.data[0];\n\n        if (Value.isArray(array) && (array.length >= 2)) {\n            const result = array[1];\n\n            if (Value.isNumber(result)) {\n                return result;\n            }\n        }\n\n        throw new QueryError();\n    }\n}\n","\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetType } from \"./AssetTypes\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { IPreciousMetalAsset, IPreciousMetalAssetProperties, preciousMetalSuperType } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAssetInputInfo } from \"./PreciousMetalAssetInputInfo\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { SingleAsset } from \"./SingleAsset\";\nimport { Unknown } from \"./Unknown\";\nimport { WeightUnit } from \"./WeightUnit\";\n\n/** Defines the base of all classes that represent a precious metal asset. */\nexport abstract class PreciousMetalAsset extends SingleAsset implements IPreciousMetalAsset {\n    /** @internal */\n    public static readonly superType = preciousMetalSuperType;\n\n    public abstract get type(): keyof typeof AssetType;\n\n    public readonly description: string;\n\n    public readonly location: string;\n\n    public readonly weight: number;\n\n    public readonly weightUnit: WeightUnit;\n\n    public get unit() {\n        return PreciousMetalAsset.getUnit(this.weight, this.weightUnit);\n    }\n\n    public readonly fineness: number;\n\n    public readonly displayDecimals = 0;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public readonly superType = PreciousMetalAsset.superType;\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            weight: this.weight,\n            weightUnit: this.weightUnit,\n            fineness: this.fineness,\n            quantity: this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[PreciousMetalAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param props The precious metal asset properties.\n     * @param quandlPath The quandl asset path.\n     */\n    protected constructor(parent: IModel, props: IPreciousMetalAssetProperties, private readonly quandlPath: string) {\n        super(parent);\n        this.description = props.description;\n        this.location = props.location || \"\";\n        this.weight = props.weight;\n        this.weightUnit = props.weightUnit;\n        this.fineness = props.fineness;\n        this.quantity = props.quantity !== undefined ? props.quantity : Number.NaN;\n        this.notes = props.notes || \"\";\n        this.pureGramsPerUnit = this.weight * this.weightUnit * this.fineness;\n    }\n\n    protected async queryUnitValueUsd() {\n        return this.pureGramsPerUnit / WeightUnit[\"t oz\"] * await new QuandlRequest(this.quandlPath, false).execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly unitFormatOptions = {\n        maximumFractionDigits: PreciousMetalAssetInputInfo.weightDigits, minimumFractionDigits: 0, useGrouping: true };\n\n    private static getUnit(weight: number, unit: WeightUnit) {\n        return `${weight.toLocaleString(undefined, this.unitFormatOptions)} ${WeightUnit[unit]}`;\n    }\n\n    private readonly pureGramsPerUnit: number;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of gold. */\nexport class GoldAsset extends PreciousMetalAsset {\n    public readonly type = \"Gold\";\n\n    public constructor(parent: IModel, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lbma/gold.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { BlockcypherWallet } from \"./BlockcypherWallet\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\n\n/** Represents an LTC wallet. */\nexport class LtcWallet extends BlockcypherWallet {\n    public readonly type = \"Litecoin\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"LTC\", \"litecoin\"));\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { CoinMarketCapRequest } from \"./CoinMarketCapRequest\";\nimport { Currency } from \"./Currency\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QuandlRequest } from \"./QuandlRequest\";\n\nexport class ExchangeRate {\n    public static get(currency: Currency) {\n        const request = this.currencyMap.get(currency);\n\n        if (!request) {\n            throw new Error(\"Unknown currency!\");\n        }\n\n        return request.execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly currencyMap = new Map<Currency, IWebRequest<number>>([\n        // cSpell:ignore xudladd, xudlcdd, xudlbk, xudlsfd, xudldkd, xudlgbd, xudlhdd, xudljyd, xudlnkd, xudlndd\n        // cSpell:ignore xudlsrd, xudlskd, xudlsgd, xudltwd, xudlzrd\n        [Currency.USD, new QuandlRequest(\"\", false)],\n        [Currency.AUD, new QuandlRequest(\"boe/xudladd.json\", false)],\n        [Currency.CAD, new QuandlRequest(\"boe/xudlcdd.json\", false)],\n        [Currency.CNY, new QuandlRequest(\"boe/xudlbk73.json\", false)],\n        [Currency.CHF, new QuandlRequest(\"boe/xudlsfd.json\", false)],\n        [Currency.CZK, new QuandlRequest(\"boe/xudlbk27.json\", false)],\n        [Currency.DKK, new QuandlRequest(\"boe/xudldkd.json\", false)],\n        [Currency.GBP, new QuandlRequest(\"boe/xudlgbd.json\", false)],\n        [Currency.HKD, new QuandlRequest(\"boe/xudlhdd.json\", false)],\n        [Currency.HUF, new QuandlRequest(\"boe/xudlbk35.json\", false)],\n        [Currency.INR, new QuandlRequest(\"boe/xudlbk64.json\", false)],\n        [Currency.JPY, new QuandlRequest(\"boe/xudljyd.json\", false)],\n        [Currency.KRW, new QuandlRequest(\"boe/xudlbk74.json\", false)],\n        [Currency.LTL, new QuandlRequest(\"boe/xudlbk38.json\", false)],\n        [Currency.MYR, new QuandlRequest(\"boe/xudlbk66.json\", false)],\n        [Currency.NIS, new QuandlRequest(\"boe/xudlbk65.json\", false)],\n        [Currency.NOK, new QuandlRequest(\"boe/xudlnkd.json\", false)],\n        [Currency.NZD, new QuandlRequest(\"boe/xudlndd.json\", false)],\n        [Currency.PLN, new QuandlRequest(\"boe/xudlbk49.json\", false)],\n        [Currency.RUB, new QuandlRequest(\"boe/xudlbk69.json\", false)],\n        [Currency.SAR, new QuandlRequest(\"boe/xudlsrd.json\", false)],\n        [Currency.SEK, new QuandlRequest(\"boe/xudlskd.json\", false)],\n        [Currency.SGD, new QuandlRequest(\"boe/xudlsgd.json\", false)],\n        [Currency.THB, new QuandlRequest(\"boe/xudlbk72.json\", false)],\n        [Currency.TRY, new QuandlRequest(\"boe/xudlbk75.json\", false)],\n        [Currency.TWD, new QuandlRequest(\"boe/xudltwd.json\", false)],\n        [Currency.ZAR, new QuandlRequest(\"boe/xudlzrd.json\", false)],\n        [Currency.XAG, new QuandlRequest(\"lbma/silver.json\", true)],\n        [Currency.XAU, new QuandlRequest(\"lbma/gold.json\", true)],\n        [Currency.BTC, new CoinMarketCapRequest(\"bitcoin\", true)],\n    ]);\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the possible asset types. */\nexport enum AssetType {\n    \"Silver\",\n    \"Palladium\",\n    \"Platinum\",\n    \"Gold\",\n    \"Bitcoin\",\n    \"Litecoin\",\n    \"Ethereum Classic\",\n    \"Ethereum\",\n    \"ERC20 Tokens\",\n    \"Bitcoin Gold\",\n    \"Dash\",\n    \"Zcash\",\n    \"Misc\",\n}\n\nexport type PreciousMetalAssetType = \"Silver\" | \"Palladium\" | \"Platinum\" | \"Gold\";\n\nexport type CryptoWalletType =\n    \"Bitcoin\" | \"Litecoin\" | \"Ethereum Classic\" | \"Ethereum\" | \"ERC20 Tokens\" | \"Bitcoin Gold\" | \"Dash\" | \"Zcash\";\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Currency } from \"./Currency\";\nimport { IAssetProperties } from \"./IAssetProperties\";\n\n/** Contains the defining properties of a miscellaneous asset. */\nexport interface IMiscAssetProperties extends IAssetProperties {\n    /** Provides the value of a single item, expressed in `valueCurrency`. */\n    readonly value: number;\n    /** Provides the currency used for `value`, e.g. [[Currency.USD]]. */\n    readonly valueCurrency: keyof typeof Currency;\n}\n\n/** @internal */\nexport const miscSuperType = \"Miscellaneous Asset\";\n\n/** @internal */\nexport interface IMiscAsset extends IMiscAssetProperties {\n    /** @internal */\n    readonly superType: typeof miscSuperType;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo, IAssetConstructor } from \"./AssetInputInfo\";\nimport { Currency } from \"./Currency\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { WeightUnit } from \"./WeightUnit\";\n\n/**\n * Defines how the properties of a miscellaneous asset need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport class MiscAssetInputInfo extends AssetInputInfo {\n    public static readonly valueDigits = 2;\n    public readonly type = \"Misc\";\n    public readonly description = new TextInputInfo({\n        label: \"Description\", hint: \"The nature of the items, e.g. 'Cash', 'Vacation House'.\",\n        isPresent: true, isRequired: true,\n    });\n    public readonly location = new TextInputInfo({\n        label: \"Location\", hint: \"The location, e.g. 'Safe', 'Redford'.\", isPresent: true, isRequired: false,\n    });\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo<typeof WeightUnit>();\n    public readonly fineness = new TextInputInfo();\n    public readonly value = new TextInputInfo({\n        label: \"Value\",\n        hint: \"The value of a single item, expressed in Currency. A liability can be expressed with a negative number\",\n        isPresent: true, isRequired: true, min: undefined, max: undefined, step: MiscAssetInputInfo.valueStep,\n    });\n    public readonly valueCurrency = new SelectInputInfo({\n        label: \"Currency\", hint: \"The currency Value is expressed in.\", isPresent: true, isRequired: true,\n        enumType: Currency, acceptStringsOnly: true,\n    });\n    public readonly quantity = new TextInputInfo({\n        label: \"Quantity\", hint: \"The number of items.\", isPresent: true, isRequired: true, min: 0,\n    });\n\n    /** @internal */\n    public constructor(ctor: IAssetConstructor) {\n        super(ctor);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly valueStep = Math.pow(10, -MiscAssetInputInfo.valueDigits);\n}\n","\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetType } from \"./AssetTypes\";\nimport { Currency } from \"./Currency\";\nimport { ExchangeRate } from \"./ExchangeRate\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { IMiscAsset, IMiscAssetProperties, miscSuperType } from \"./IMiscAsset\";\nimport { MiscAssetInputInfo } from \"./MiscAssetInputInfo\";\nimport { SingleAsset } from \"./SingleAsset\";\nimport { Unknown } from \"./Unknown\";\n\n/** Represents a miscellaneous asset. */\nexport class MiscAsset extends SingleAsset implements IMiscAsset {\n    /** @internal */\n    public static readonly superType = miscSuperType;\n\n    public readonly type: keyof typeof AssetType = \"Misc\";\n\n    public readonly description: string;\n\n    public readonly location: string;\n\n    public get unit() {\n        return MiscAsset.getUnit(this.value, Currency[this.valueCurrency]);\n    }\n\n    public get fineness() {\n        return undefined;\n    }\n\n    public readonly value: number;\n\n    public readonly valueCurrency: keyof typeof Currency;\n\n    public readonly displayDecimals = 0;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public readonly superType = MiscAsset.superType;\n\n    public constructor(parent: IModel, props: IMiscAssetProperties) {\n        super(parent);\n        this.description = props.description;\n        this.location = props.location || \"\";\n        this.value = props.value;\n        this.valueCurrency = props.valueCurrency;\n        this.quantity = props.quantity !== undefined ? props.quantity : Number.NaN;\n        this.notes = props.notes || \"\";\n    }\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            value: this.value,\n            valueCurrency: this.valueCurrency,\n            quantity: this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryUnitValueUsd() {\n        return this.value / await ExchangeRate.get(Currency[this.valueCurrency]);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly unitFormatOptions = {\n        maximumFractionDigits: MiscAssetInputInfo.valueDigits,\n        minimumFractionDigits: MiscAssetInputInfo.valueDigits,\n        useGrouping: true };\n\n    private static getUnit(value: number, valueCurrency: Currency) {\n        return `${value.toLocaleString(undefined, this.unitFormatOptions)} ${Currency[valueCurrency]}`;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of palladium. */\nexport class PalladiumAsset extends PreciousMetalAsset {\n    public readonly type = \"Palladium\";\n\n    public constructor(parent: IModel, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lppm/pall.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of platinum. */\nexport class PlatinumAsset extends PreciousMetalAsset {\n    public readonly type = \"Platinum\";\n\n    public constructor(parent: IModel, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lppm/plat.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAsset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of silver. */\nexport class SilverAsset extends PreciousMetalAsset {\n    public readonly type = \"Silver\";\n\n    public constructor(parent: IModel, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lbma/silver.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { ICryptoWalletProperties } from \"./ICryptoWallet\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\n/** Represents a ZEC wallet. */\nexport class ZecWallet extends RealCryptoWallet {\n    public readonly type = \"Zcash\";\n\n    public constructor(parent: IModel, props: ICryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"ZEC\", \"zcash\"));\n    }\n\n    public bundle(bundle?: Unknown): AssetBundle {\n        return new GenericAssetBundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected queryQuantity() {\n        return new ZecWallet.SoChainRequest(this.address).execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:max-classes-per-file variable-name\n    private static readonly SoChainRequest = class NestedSoChainRequest implements IWebRequest<number> {\n        public constructor(private readonly address: string) {\n        }\n\n        public async execute() {\n            return NestedSoChainRequest.getBalance(\n                await QueryCache.fetch(`https://chain.so/api/v2/get_address_balance/ZEC/${this.address}`));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getBalance(response: Unknown | null) {\n            if (Value.hasStringProperty(response, \"status\") && (response.status === \"success\") &&\n                Value.hasObjectProperty(response, \"data\") &&\n                Value.hasStringProperty(response.data, \"confirmed_balance\")) {\n                return Number.parseFloat(response.data.confirmed_balance);\n            }\n\n            throw new QueryError();\n        }\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { IAssetIntersection } from \"./AssetInterfaces\";\nimport { BtcWallet } from \"./BtcWallet\";\nimport { BtgWallet } from \"./BtgWallet\";\nimport { CryptoWalletInputInfo } from \"./CryptoWalletInputInfo\";\nimport { DashWallet } from \"./DashWallet\";\nimport { Erc20TokensWallet } from \"./Erc20TokensWallet\";\nimport { EtcWallet } from \"./EtcWallet\";\nimport { EthWallet } from \"./EthWallet\";\nimport { GoldAsset } from \"./GoldAsset\";\nimport { LtcWallet } from \"./LtcWallet\";\nimport { MiscAsset } from \"./MiscAsset\";\nimport { MiscAssetInputInfo } from \"./MiscAssetInputInfo\";\nimport { PalladiumAsset } from \"./PalladiumAsset\";\nimport { ParseErrorMessage } from \"./ParseErrorMessage\";\nimport { PlatinumAsset } from \"./PlatinumAsset\";\nimport { PreciousMetalAssetInputInfo } from \"./PreciousMetalAssetInputInfo\";\nimport { SilverAsset } from \"./SilverAsset\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\nimport { ZecWallet } from \"./ZecWallet\";\n\n// cSpell:ignore xpub, ypub, Mtub, Ltub, drkp\nconst btcHint =\n    \"The wallets public address, single or xpub (ypub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to blockchain.info to query the balance.</strong>\";\n\nconst ltcHint =\n    \"The wallets single public address (neither Mtub nor Ltub are supported). \" +\n    \"<strong style='color:red'>Will be sent to blockcypher.com to query the balance.</strong>\";\n\nconst etcHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to gastracker.io to query the balance.</strong>\";\n\nconst ethHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to ethplorer.io to query the ETH balance.</strong>\";\n\nconst erc20Hint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to ethplorer.io to query ERC20 token balances.</strong>\";\n\nconst btgHint =\n    \"The wallets single public address (ypub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to btgexp.com to query the balance.</strong>\";\n\nconst dashHint =\n    \"The wallets single public address (drkp is not supported). \" +\n    \"<strong style='color:red'>Will be sent to blockcypher.com to query the balance.</strong>\";\n\nconst zecHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to chain.so to query the balance.</strong>\";\n\nexport class AssetInput {\n    /** Provides information objects for each of the supported asset types. */\n    public static readonly infos: AssetInputInfo[] = [\n        new PreciousMetalAssetInputInfo(\"Silver\", SilverAsset),\n        new PreciousMetalAssetInputInfo(\"Palladium\", PalladiumAsset),\n        new PreciousMetalAssetInputInfo(\"Platinum\", PlatinumAsset),\n        new PreciousMetalAssetInputInfo(\"Gold\", GoldAsset),\n        new CryptoWalletInputInfo({ type: \"Bitcoin\", ctor: BtcWallet, addressHint: btcHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo({ type: \"Litecoin\", ctor: LtcWallet, addressHint: ltcHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo(\n            { type: \"Ethereum Classic\", ctor: EtcWallet, addressHint: etcHint, quantityDecimals: 18 }),\n        new CryptoWalletInputInfo({ type: \"ERC20 Tokens\", ctor: Erc20TokensWallet, addressHint: erc20Hint }),\n        new CryptoWalletInputInfo({ type: \"Ethereum\", ctor: EthWallet, addressHint: ethHint, quantityDecimals: 18 }),\n        new CryptoWalletInputInfo({ type: \"Bitcoin Gold\", ctor: BtgWallet, addressHint: btgHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo({ type: \"Dash\", ctor: DashWallet, addressHint: dashHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo({ type: \"Zcash\", ctor: ZecWallet, addressHint: zecHint, quantityDecimals: 8 }),\n        new MiscAssetInputInfo(MiscAsset),\n    ];\n\n    /** @internal */\n    public static parseBundle(rawBundle: Unknown | null | undefined) {\n        if (!Value.hasObjectProperty(rawBundle, AssetBundle.primaryAssetName)) {\n            return ParseErrorMessage.getPropertyTypeMismatch(AssetBundle.primaryAssetName, rawBundle, {});\n        }\n\n        const rawAsset = rawBundle[AssetBundle.primaryAssetName];\n\n        if (!Value.hasStringProperty(rawAsset, Asset.typeName)) {\n            return ParseErrorMessage.getPropertyTypeMismatch(Asset.typeName, rawAsset, \"\");\n        }\n\n        const assetInfo = this.infos.find((info) => info.type === rawAsset.type);\n\n        if (!assetInfo) {\n            return ParseErrorMessage.getUnknownPropertyValue(Asset.typeName, rawAsset.type);\n        }\n\n        const validationResult = assetInfo.validateAll(rawAsset);\n\n        if (!this.hasProperties(validationResult, rawAsset)) {\n            return validationResult;\n        }\n\n        return (model: IModel) => assetInfo.createAsset(model, rawAsset).bundle(rawBundle);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static hasProperties(validationResult: true | string, raw: Unknown): raw is IAssetIntersection {\n        return validationResult === true;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetUnion } from \"../model/AssetInterfaces\";\nimport { CryptoWallet } from \"../model/CryptoWallet\";\nimport { Currency } from \"../model/Currency\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { MiscAsset } from \"../model/MiscAsset\";\nimport { PreciousMetalAsset } from \"../model/PreciousMetalAsset\";\nimport { WeightUnit } from \"../model/WeightUnit\";\n\n/** Represents the data being edited in the asset editor. */\nexport class AssetEditorData implements Partial<IAuxProperties<string>> {\n    public description?: string;\n    public location?: string;\n    public address?: string;\n    public weight?: string;\n    public weightUnit?: keyof typeof WeightUnit;\n    public fineness?: string;\n    public value?: string;\n    public valueCurrency?: keyof typeof Currency;\n    public quantity?: string;\n    public notes?: string;\n\n    /** @internal */\n    // The high ABC is due to the number of properties that need to be assigned. Breaking this up would not improve\n    // readability.\n    // codebeat:disable[ABC]\n    public constructor(asset?: IAssetUnion) {\n        this.description = AssetEditorData.getDescription(asset);\n        this.location = AssetEditorData.getLocation(asset);\n        this.address = AssetEditorData.getAddress(asset);\n        this.weight = AssetEditorData.getWeight(asset);\n        this.weightUnit = AssetEditorData.getWeightUnit(asset);\n        this.fineness = AssetEditorData.getFineness(asset);\n        this.value = AssetEditorData.getValue(asset);\n        this.valueCurrency = AssetEditorData.getValueCurrency(asset);\n        this.quantity = AssetEditorData.getQuantity(asset);\n        this.notes = AssetEditorData.getNotes(asset);\n    }\n    // codebeat:enable[ABC]\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getDescription(asset?: IAssetUnion) {\n        return asset && asset.description;\n    }\n\n    private static getLocation(asset?: IAssetUnion) {\n        return asset && asset.location;\n    }\n\n    private static getAddress(asset?: IAssetUnion) {\n        return this.isCryptoWallet(asset) && asset.address || undefined;\n    }\n\n    private static getWeight(asset?: IAssetUnion) {\n        return this.isPreciousMetalAsset(asset) ? asset.weight.toString() : undefined;\n    }\n\n    private static getWeightUnit(asset?: IAssetUnion) {\n        return this.isPreciousMetalAsset(asset) ? WeightUnit[asset.weightUnit] as keyof typeof WeightUnit : undefined;\n    }\n\n    private static getFineness(asset?: IAssetUnion) {\n        return this.isPreciousMetalAsset(asset) ? asset.fineness.toString() : undefined;\n    }\n\n    private static getValue(asset?: IAssetUnion) {\n        return this.isMiscAsset(asset) ? asset.value.toString() : undefined;\n    }\n\n    private static getValueCurrency(asset?: IAssetUnion) {\n        return this.isMiscAsset(asset) ? asset.valueCurrency : undefined;\n    }\n\n    private static getQuantity(asset?: IAssetUnion) {\n        return asset && (!this.isCryptoWallet(asset) || !asset.address) &&\n            (asset.quantity !== undefined) && asset.quantity.toString() || undefined;\n    }\n\n    private static getNotes(asset?: IAssetUnion) {\n        return asset && asset.notes;\n    }\n\n    private static isCryptoWallet(asset?: IAssetUnion): asset is CryptoWallet {\n        return this.isType(CryptoWallet.superType, asset);\n    }\n\n    private static isPreciousMetalAsset(asset?: IAssetUnion): asset is PreciousMetalAsset {\n        return this.isType(PreciousMetalAsset.superType, asset);\n    }\n\n    private static isMiscAsset(asset?: IAssetUnion): asset is MiscAsset {\n        return this.isType(MiscAsset.superType, asset);\n    }\n\n    private static isType(superType: string, asset?: IAssetUnion) {\n        return (asset && (asset.superType === superType)) || false;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetIntersection } from \"../model/AssetInterfaces\";\nimport { WeightUnit } from \"../model/WeightUnit\";\nimport { AssetEditorData } from \"./AssetEditorData\";\n\n/**\n * Converts the data edited in the editor into the format necessary to construct [[Asset]] subclass objects.\n */\nexport class AssetProperties implements IAssetIntersection {\n    public get description() {\n        return AssetProperties.validate(\"description\", this.data.description);\n    }\n\n    public get location() {\n        return this.data.location;\n    }\n\n    public get address() {\n        return this.data.address;\n    }\n\n    public get weight() {\n        return Number.parseFloat(AssetProperties.validate(\"weight\", this.data.weight));\n    }\n\n    public get weightUnit() {\n        return WeightUnit[AssetProperties.validate(\"weightUnit\", this.data.weightUnit)];\n    }\n\n    public get fineness() {\n        return Number.parseFloat(AssetProperties.validate(\"fineness\", this.data.fineness));\n    }\n\n    public get value() {\n        return Number.parseFloat(AssetProperties.validate(\"value\", this.data.value));\n    }\n\n    public get valueCurrency() {\n        return AssetProperties.validate(\"valueCurrency\", this.data.valueCurrency);\n    }\n\n    public get quantity() {\n        return this.data.quantity ? Number.parseFloat(this.data.quantity) : undefined;\n    }\n\n    public get notes() {\n        return this.data.notes;\n    }\n\n    /** @internal */\n    public constructor(private readonly data: AssetEditorData) {\n    }\n\n    private static validate<T extends string | undefined>(name: string, value: T): Exclude<T, undefined> {\n        if (!value) {\n            throw new Error(`Unexpected ${name}.`);\n        }\n\n        return value as Exclude<T, undefined>;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { Currency } from \"../model/Currency\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { WeightUnit } from \"../model/WeightUnit\";\n\n/**\n * Defines how an asset with no properties needs to be \"input\".\n * @description This is a virtual asset that is only useful to define how the [[AssetEditor]] UI looks like when no\n * asset type has been selected yet.\n */\nexport class NoAssetInputInfo extends AssetInputInfo {\n    public readonly type = \"\";\n    public readonly description = new TextInputInfo();\n    public readonly location = new TextInputInfo();\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo<typeof WeightUnit>();\n    public readonly fineness = new TextInputInfo();\n    public readonly value = new TextInputInfo();\n    public readonly valueCurrency = new SelectInputInfo<typeof Currency>();\n    public readonly quantity = new TextInputInfo();\n    public readonly notes = new TextInputInfo();\n\n    /** @internal */\n    public constructor() {\n        super();\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":!_vm.large}},[_c('v-select',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"items\":_vm.items,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop, Vue } from \"vue-property-decorator\";\n\n/** Defines common component functionality. */\nexport class ComponentBase<T> extends Vue {\n    @Prop()\n    // value should be declared as having the type T but doing so triggers the following issue, if T happens to be\n    // e.g. string: https://github.com/kaorun343/vue-property-decorator/issues/69\n    public value: undefined;\n\n    /**\n     * Provides the value.\n     * @description Provides whatever is set for `value`, but ensures that the value cannot be undefined.\n     */\n    public get checkedValue() {\n        if ((this.value as any) === undefined) {\n            throw new Error(\"No value set.\");\n        }\n\n        return (this.value as any) as T;\n    }\n\n    public set checkedValue(value: T) {\n        this.$emit(\"input\", value);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** Gets the control with the supplied ref. */\n    protected getControl(ref: string) {\n        return this.$refs[ref] as Vue;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop } from \"vue-property-decorator\";\nimport { AssetPropertyName } from \"../model/AssetInterfaces\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { InputUtility } from \"../model/Input\";\nimport { InputInfo } from \"../model/InputInfo\";\nimport { PrimitiveInputInfo } from \"../model/PrimitiveInputInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\n\n/** Defines the base for all controls that simplify common functionality like e.g. validation. */\nexport abstract class ControlBase<T extends PrimitiveInputInfo> extends ComponentBase<IAuxProperties<string> | string> {\n    @Prop()\n    public info?: InputInfo;\n\n    @Prop()\n    // property should be declared as having the type AssetPropertyName but doing so triggers the following issue:\n    // https://github.com/kaorun343/vue-property-decorator/issues/69\n    public property: undefined;\n\n    public get isPresent() {\n        return this.primitiveInputInfo.isPresent;\n    }\n\n    public get isRequired() {\n        return this.primitiveInputInfo.isRequired;\n    }\n\n    public get label() {\n        return this.primitiveInputInfo.label;\n    }\n\n    public get hint() {\n        return this.primitiveInputInfo.hint;\n    }\n\n    public get propertyValue() {\n        return InputUtility.isComposite(this.checkedValue) ?\n            this.checkedValue[this.checkedProperty] : this.checkedValue;\n    }\n\n    public set propertyValue(value: string) {\n        if (InputUtility.isComposite(this.checkedValue)) {\n            this.checkedValue[this.checkedProperty] = value;\n        } else {\n            this.checkedValue = value;\n        }\n    }\n\n    public validate() {\n        return this.checkedInfo.validate(false, this.checkedValue, this.property);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected abstract get primitiveInputInfo(): T;\n\n    protected get checkedInfo() {\n        if (this.info === undefined) {\n            throw new Error(\"No info set!\");\n        }\n\n        return this.info;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get checkedProperty() {\n        if (this.property as any === undefined) {\n            throw new Error(\"No property set!\");\n        }\n\n        return this.property as any as AssetPropertyName;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { SelectInputInfo, SelectInputInfoBase } from \"../model/SelectInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n@Component\n/** Implements a select control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class Select extends ControlBase<SelectInputInfoBase> {\n    @Prop()\n    public large?: boolean;\n\n    public get items() {\n        return this.primitiveInputInfo.items;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): SelectInputInfoBase {\n        return this.checkedInfo.get(SelectInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=1c155300&scoped=true&\"\nimport script from \"./Select.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./Select.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c155300\",\n  null\n  \n)\n\ncomponent.options.__file = \"Select.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib'\nimport { VSelect } from 'vuetify/lib'\ninstallComponents(component, {\n  VFlex,\n  VSelect,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\"}},[_c('v-textarea',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n@Component\n/** Implements a text area control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextArea extends ControlBase<TextInputInfo> {\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextArea.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextArea.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextArea.vue?vue&type=template&id=17323bf9&scoped=true&\"\nimport script from \"./TextArea.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./TextArea.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17323bf9\",\n  null\n  \n)\n\ncomponent.options.__file = \"TextArea.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib'\nimport { VTextarea } from 'vuetify/lib'\ninstallComponents(component, {\n  VFlex,\n  VTextarea,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":!_vm.large}},[_c('v-text-field',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"type\":_vm.type,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n@Component\n/** Implements a text field control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextField extends ControlBase<TextInputInfo> {\n    @Prop()\n    public large?: boolean;\n\n    public get type() {\n        return this.primitiveInputInfo.type;\n    }\n\n    public get min() {\n        return this.primitiveInputInfo.min;\n    }\n\n    public get max() {\n        return this.primitiveInputInfo.max;\n    }\n\n    public get step() {\n        return this.primitiveInputInfo.step;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextField.vue?vue&type=template&id=02bdd4b9&scoped=true&\"\nimport script from \"./TextField.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./TextField.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02bdd4b9\",\n  null\n  \n)\n\ncomponent.options.__file = \"TextField.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {\n  VFlex,\n  VTextField,\n})\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Asset, IModel } from \"../model/Asset\";\nimport { AssetInput } from \"../model/AssetInput\";\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { AssetType } from \"../model/AssetTypes\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { AssetEditorData } from \"./AssetEditorData\";\nimport { AssetProperties } from \"./AssetProperties\";\nimport { NoAssetInputInfo } from \"./NoAssetInputInfo\";\n// tslint:disable-next-line:no-default-import\nimport Select from \"./Select.vue\";\n// tslint:disable-next-line:no-default-import\nimport TextArea from \"./TextArea.vue\";\n// tslint:disable-next-line:no-default-import\nimport TextField from \"./TextField.vue\";\n\n@Component({ components: { Select, TextArea, TextField } })\n/** Implements the dialog used to edit assets. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetEditor extends Vue {\n    /** Provides a value indicating whether the asset editor is currently open. */\n    public isOpen = false;\n\n    /** Provides the title of the asset editor. */\n    public get title() {\n        return this.isExistingAsset ? \"Edit Asset\" : \"New Asset\";\n    }\n\n    /** Provides the asset type input information. */\n    public get typeInputInfo() {\n        return new SelectInputInfo({\n            label: \"Type\", hint: \"\", isPresent: true, isRequired: true, enumType: AssetType, acceptStringsOnly: false,\n        });\n    }\n\n    /** Provides the currently selected asset type. */\n    public get type() {\n        return this.assetInfo.type;\n    }\n\n    public set type(value: string | undefined) {\n        this.assetInfo = AssetInput.infos.find((info) => info.type === value) || new NoAssetInputInfo();\n    }\n\n    /** Provides information about the currently selected asset type. */\n    public assetInfo: AssetInputInfo = new NoAssetInputInfo();\n\n    /** Provides the data currently displayed in the asset editor. */\n    public data = new AssetEditorData();\n\n    public onSaveClicked(event: MouseEvent) {\n        if (!this.parent) {\n            throw new Error(\"No parent set!\");\n        }\n\n        if (this.isValid()) {\n            this.close(this.assetInfo.createAsset(this.parent, new AssetProperties(this.data)));\n        }\n    }\n\n    public onCancelClicked(event: MouseEvent) {\n        this.close();\n    }\n\n    /** @internal */\n    public showDialog(parent: IModel, asset?: Asset) {\n        this.parent = parent;\n        this.isExistingAsset = !!asset;\n        this.assetInfo = AssetEditor.getAssetInfo(asset) || new NoAssetInputInfo();\n        this.data = new AssetEditorData(asset ? asset.editableAsset.interface : undefined);\n        this.isOpen = true;\n\n        return new Promise<Asset | undefined>((resolve) => this.resolve = resolve);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getAssetInfo(asset: Asset | undefined) {\n        return asset ? AssetInput.infos.find((info) => info.type === asset.editableAsset.type) : undefined;\n    }\n\n    private parent?: IModel;\n    private isExistingAsset = false;\n    private resolve?: (value: Asset | undefined) => void;\n\n    private isValid() {\n        this.assetInfo.includeRelations = true;\n\n        try {\n            // tslint:disable-next-line:no-unsafe-any\n            return (this.$refs.form as any).validate();\n        } finally {\n            this.assetInfo.includeRelations = false;\n        }\n    }\n\n    private close(asset?: Asset) {\n        // This is necessary so that the Type field does not initially show an error next time we add a new asset.\n        // tslint:disable-next-line:no-unsafe-any\n        (this.$refs.form as any).reset();\n        // The following line ensures that the property is changed even if we happen to edit the same asset\n        // again. Said change is necessary so that the vue.js change detection is triggered after clearing all fields\n        // with the reset call above.\n        this.assetInfo = new NoAssetInputInfo();\n        this.isOpen = false;\n\n        if (!this.resolve) {\n            throw new Error(\"No resolve callback set!\");\n        }\n\n        this.resolve(asset);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssetEditor.vue?vue&type=template&id=2cc25028&scoped=true&\"\nimport script from \"./AssetEditor.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AssetEditor.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cc25028\",\n  null\n  \n)\n\ncomponent.options.__file = \"AssetEditor.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VCard,\n  VCardActions,\n  VCardText,\n  VCardTitle,\n  VContainer,\n  VDialog,\n  VForm,\n  VLayout,\n  VSpacer,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{on:{\"click\":_vm.onRowClicked}},[_c('td',{class:_vm.getClass('expand')},[(_vm.checkedValue.isExpandable)?_c('div',[(!_vm.checkedValue.isExpanded)?_c('v-icon',[_vm._v(\"expand_more\")]):_vm._e(),(_vm.checkedValue.isExpanded)?_c('v-icon',[_vm._v(\"expand_less\")]):_vm._e()],1):_vm._e()]),_c('td',{class:_vm.getClass(_vm.groupBy),attrs:{\"title\":_vm.groupByHint}},[_vm._v(_vm._s(_vm.groupByContent))]),_c('td',{class:_vm.getClass(_vm.otherGroupBys[0]),attrs:{\"title\":_vm.otherGroupByHints[0]}},[_vm._v(_vm._s(_vm.otherGroupByContents[0]))]),_c('td',{class:_vm.getClass('description'),attrs:{\"title\":_vm.checkedValue.notes}},[_vm._v(_vm._s(_vm.checkedValue.description))]),_c('td',{class:_vm.getClass('unit')},[_vm._v(_vm._s(_vm.checkedValue.unit))]),_c('td',{class:_vm.getClass('finenessInteger')},[_vm._v(_vm._s(_vm.finenessInteger))]),_c('td',{class:_vm.getClass('finenessFraction')},[_vm._v(_vm._s(_vm.finenessFraction))]),_c('td',{class:_vm.getClass('unitValueInteger')},[_vm._v(_vm._s(_vm.unitValueInteger))]),_c('td',{class:_vm.getClass('unitValueFraction'),attrs:{\"title\":_vm.checkedValue.unitValueHint}},[_vm._v(_vm._s(_vm.unitValueFraction))]),_c('td',{class:_vm.getClass('quantityInteger')},[_vm._v(_vm._s(_vm.quantityInteger))]),_c('td',{class:_vm.getClass('quantityFraction'),attrs:{\"title\":_vm.checkedValue.quantityHint}},[_vm._v(_vm._s(_vm.quantityFraction))]),_c('td',{class:_vm.getClass('totalValueInteger')},[_vm._v(_vm._s(_vm.totalValueInteger))]),_c('td',{class:_vm.getClass('totalValueFraction')},[_vm._v(_vm._s(_vm.totalValueFraction))]),_c('td',{class:_vm.getClass('percentInteger')},[_vm._v(_vm._s(_vm.percentInteger))]),_c('td',{class:_vm.getClass('percentFraction')},[_vm._v(_vm._s(_vm.percentFraction))]),_c('td',{class:_vm.getClass('more')},[(_vm.checkedValue.hasActions)?_c('v-menu',[_c('v-btn',{staticClass:\"mx-0\",attrs:{\"slot\":\"activator\",\"icon\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_c('v-list',[_c('v-list-tile',{on:{\"click\":_vm.onEditClicked}},[_c('v-list-tile-title',[_vm._v(\"Edit\")])],1),_c('v-list-tile',{on:{\"click\":_vm.onDeleteClicked}},[_c('v-list-tile-title',[_vm._v(\"Delete\")])],1)],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, GroupBy } from \"../model/Asset\";\nimport { IOrdering } from \"../model/Ordering\";\nimport { AssetListRowPropertyName, ColumnName } from \"./AssetListRow.vue\";\n\nexport class ColumnInfo {\n    /** Provides the maximum number of optional columns that can be displayed. */\n    public static get maxOptionalCount() {\n        return this.allColumnCounts.length - 1;\n    }\n\n    /** @internal */\n    public static readonly expandName = \"expand\";\n\n    /** @internal */\n    public static readonly moreName = \"more\";\n\n    /** @internal */\n    public static readonly grandTotalLabelName = \"grandTotalLabel\";\n\n    /** @internal */\n    public static getRawCount(optionalColumnCount: number) {\n        return this.rawColumnCounts[optionalColumnCount];\n    }\n\n    /** @internal */\n    public static getClass(columnName: ColumnName, ordering: IOrdering, optionalColumnCount: number) {\n        const result = new Array<string>(\n            ...this.getHidden(columnName, ordering.groupBy, optionalColumnCount),\n            ...this.getAlignment(columnName),\n            ...this.getPadding(columnName, ordering.groupBy, ordering.otherGroupBys),\n            ...this.getTotal(columnName),\n        );\n\n        if (result.length === 0) {\n            throw new Error(`Unknown column: ${columnName}`);\n        }\n\n        return result;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly finenessIntegerName = ColumnInfo.getName(\"finenessInteger\");\n    private static readonly finenessFractionName = ColumnInfo.getName(\"finenessFraction\");\n    private static readonly unitValueIntegerName = ColumnInfo.getName(\"unitValueInteger\");\n    private static readonly unitValueFractionName = ColumnInfo.getName(\"unitValueFraction\");\n    private static readonly quantityIntegerName = ColumnInfo.getName(\"quantityInteger\");\n    private static readonly quantityFractionName = ColumnInfo.getName(\"quantityFraction\");\n    private static readonly totalValueIntegerName = ColumnInfo.getName(\"totalValueInteger\");\n    private static readonly totalValueFractionName = ColumnInfo.getName(\"totalValueFraction\");\n    private static readonly percentIntegerName = ColumnInfo.getName(\"percentInteger\");\n    private static readonly percentFractionName = ColumnInfo.getName(\"percentFraction\");\n\n    private static readonly allColumns = new Map<GroupBy, ColumnName[]>([\n        [Asset.typeName, ColumnInfo.getColumns(Asset.typeName)],\n        [Asset.locationName, ColumnInfo.getColumns(Asset.locationName)],\n    ]);\n\n    /**\n     * From the full list of columns (full, integer and fraction) returned by `getColumns`, contains the number of\n     * currently visible columns with the index being the number of currently visible optional full columns. For\n     * example, if no optional full columns are currently visible (i.e. index = 0), the first 7 columns of whatever\n     * is returned by `getColumns` will be shown. Note that said list contains real table columns\n     * as well as \"virtual\" columns. Examples of real table columns are \"totalValueInteger\" and \"unit\" while\n     * \"totalValue\" and \"fineness\" are virtual columns.\n     */\n    private static readonly allColumnCounts = [ 7, 10, 11, 12, 15, 18, 19, 22 ];\n\n    /**\n     * Contains the number of real table columns shown with the index being the number of currently visible optional\n     * full columns.\n     */\n    private static readonly rawColumnCounts = [ 5, 7, 8, 9, 11, 13, 14, 16 ];\n\n    private static getName(name: AssetListRowPropertyName) {\n        return name;\n    }\n\n    private static getColumns(groupBy: GroupBy) {\n        const result: ColumnName[] = [\n            this.expandName, Asset.typeName,\n            Asset.percentName, this.percentIntegerName, this.percentFractionName,\n            this.moreName, this.grandTotalLabelName,\n            Asset.totalValueName, this.totalValueIntegerName, this.totalValueFractionName,\n            Asset.locationName, Asset.unitName,\n            Asset.quantityName, this.quantityIntegerName, this.quantityFractionName,\n            Asset.unitValueName, this.unitValueIntegerName, this.unitValueFractionName,\n            Asset.descriptionName,\n            Asset.finenessName, this.finenessIntegerName, this.finenessFractionName,\n        ];\n\n        if (groupBy === Asset.locationName) {\n            result[1] = Asset.locationName;\n            result[10] = Asset.typeName;\n        }\n\n        return result;\n    }\n\n    private static getHidden(columnName: ColumnName, groupBy: GroupBy, optionalColumnCount: number) {\n        const allColumns = this.allColumns.get(groupBy);\n\n        if (!allColumns) {\n            throw new Error(\"Unknown groupBy!\");\n        }\n\n        if (allColumns.indexOf(columnName) >= this.allColumnCounts[optionalColumnCount]) {\n            // TODO: Can't this be done with one class?\n            return [ \"hidden-sm-and-up\", \"hidden-xs-only\" ];\n        }\n\n        return [];\n    }\n\n    // Obviously the metrics could be improved by breaking the method into multiple parts but doing so would make the\n    // code less readable.\n    // codebeat:disable[ABC,CYCLO,LOC]\n    private static getPadding(columnName: string | undefined, groupBy: string, otherGroupBys: GroupBy[]) {\n        const columnPadding = 3;\n        const leftClass = `pl-${columnPadding}`;\n        const rightClass = `pr-${columnPadding}`;\n\n        switch (columnName) {\n            case this.expandName:\n                return [ leftClass, \"pr-2\" ];\n            case groupBy:\n                return [ \"pl-0\", rightClass ];\n            case otherGroupBys[0]:\n            case Asset.descriptionName:\n            case Asset.unitName:\n            case Asset.finenessName:\n            case Asset.unitValueName:\n            case Asset.quantityName:\n            case Asset.totalValueName:\n            case this.grandTotalLabelName:\n                return [ leftClass, rightClass ];\n            case Asset.percentName:\n            case this.finenessIntegerName:\n            case this.unitValueIntegerName:\n            case this.quantityIntegerName:\n            case this.totalValueIntegerName:\n            case this.percentIntegerName:\n                return [ leftClass, \"pr-0\" ];\n            case this.finenessFractionName:\n            case this.unitValueFractionName:\n            case this.quantityFractionName:\n            case this.totalValueFractionName:\n                return [ \"pl-0\", rightClass ];\n            case this.percentFractionName:\n                return [ \"pl-0\", \"pr-0\" ];\n            case this.moreName:\n                return [ \"pl-1\", rightClass ];\n            default:\n                return [];\n        }\n    }\n    // codebeat:enable[ABC,CYCLO,LOC]\n\n    // Obviously the metrics could be improved by breaking the method into multiple parts but doing so would make the\n    // code less readable.\n    // codebeat:disable[ABC,CYCLO]\n    private static getAlignment(columnName: string | undefined) {\n        switch (columnName) {\n            case Asset.typeName:\n            case Asset.descriptionName:\n            case Asset.locationName:\n            case Asset.unitName:\n            case this.finenessFractionName:\n            case this.unitValueFractionName:\n            case this.quantityFractionName:\n            case this.totalValueFractionName:\n            case this.percentFractionName:\n            case this.grandTotalLabelName:\n                return [ \"text-xs-left\" ];\n            case this.finenessIntegerName:\n            case this.unitValueIntegerName:\n            case this.quantityIntegerName:\n            case this.totalValueIntegerName:\n            case this.percentIntegerName:\n                return [ \"text-xs-right\" ];\n            default:\n                return [];\n        }\n    }\n    // codebeat:enable[ABC,CYCLO]\n\n    private static getTotal(columnName: string | undefined) {\n        switch (columnName) {\n            case Asset.totalValueName:\n            case this.totalValueIntegerName:\n            case this.totalValueFractionName:\n            case Asset.percentName:\n            case this.percentIntegerName:\n            case this.percentFractionName:\n            case this.grandTotalLabelName:\n                return [ \"total\" ];\n            default:\n                return [];\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class Format {\n    /** @internal */\n    public static integer(num: number | undefined, decimals: number) {\n        if ((num === undefined) || Number.isNaN(num)) {\n            return \"\";\n        } else {\n            const formatted = this.format(num, decimals);\n\n            return formatted.substring(0, this.getDecimalPointPosition(formatted));\n        }\n    }\n\n    /** @internal */\n    public static fraction(num: number | undefined, decimals: number) {\n        if (num === undefined) {\n            return \"\";\n        } else if (Number.isNaN(num)) {\n            return \"Error\";\n        } else {\n            const formatted = this.format(num, decimals);\n\n            return formatted.substring(this.getDecimalPointPosition(formatted));\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static format(num: number, decimals: number) {\n        return num.toLocaleString(\n            undefined, { maximumFractionDigits: decimals, minimumFractionDigits: decimals, useGrouping: true });\n    }\n\n    private static getDecimalPointPosition(formatted: string) {\n        const decimalPointPosition = formatted.lastIndexOf(\".\");\n\n        return decimalPointPosition < 0 ? formatted.length : decimalPointPosition;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Asset, AssetDisplayPropertyName, GroupBy } from \"../model/Asset\";\nimport { PreciousMetalAssetInputInfo } from \"../model/PreciousMetalAssetInputInfo\";\nimport { ColumnInfo } from \"./ColumnInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\ntype PropertyNames<T> = { [K in keyof T]: T[K] extends string ? K : never }[keyof T];\ntype Diff<T, U> = T extends U ? never : T;\nexport type AssetListRowPropertyName = Diff<PropertyNames<AssetListRow>, PropertyNames<ComponentBase<Asset>>>;\n\n// This could easily be fixed by adding methods in two extending classes, but doing so seems strange at best. Most\n// methods are trivial, so their number shouldn't matter that much.\n// codebeat:disable[TOO_MANY_FUNCTIONS]\n\n@Component\n/**\n * Implements the UI for a single row of the asset list.\n * @description Most of the members split asset properties into the integral and fractional parts. This is necessary\n * so that the UI can justify the values on the decimal point.\n */\n// tslint:disable-next-line:no-default-export\nexport default class AssetListRow extends ComponentBase<Asset> {\n    /** Gets the number of required columns. */\n    public static get requiredColumnCount() {\n        return 3;\n    }\n\n    @Prop()\n    public visibleColumnCount?: number;\n\n    public get groupBy() {\n        return this.checkedValue.parent.assets.ordering.groupBy;\n    }\n\n    public get groupByContent() {\n        return this.checkedValue[this.groupBy];\n    }\n\n    public get groupByHint() {\n        return this.getHint(this.groupBy);\n    }\n\n    public get otherGroupBys() {\n        return this.checkedValue.parent.assets.ordering.otherGroupBys;\n    }\n\n    public get otherGroupByContents() {\n        return this.otherGroupBys.map((g) => this.checkedValue[g]);\n    }\n\n    public get otherGroupByHints() {\n        return this.otherGroupBys.map((g) => this.getHint(g));\n    }\n\n    public get finenessInteger() {\n        return this.checkedValue.fineness === undefined ? \"\" : Math.trunc(this.checkedValue.fineness).toString();\n    }\n\n    public get finenessFraction() {\n        return this.checkedValue.fineness === undefined ?\n            \"\" : this.checkedValue.fineness.toLocaleString(undefined, AssetListRow.finenessFormatOptions).substr(1);\n    }\n\n    public get unitValueInteger() {\n        return Format.integer(this.checkedValue.unitValue, 2);\n    }\n\n    public get unitValueFraction() {\n        return Format.fraction(this.checkedValue.unitValue, 2);\n    }\n\n    public get quantityInteger() {\n        return Format.integer(this.checkedValue.quantity, this.checkedValue.displayDecimals);\n    }\n\n    public get quantityFraction() {\n        return Format.fraction(this.checkedValue.quantity, this.checkedValue.displayDecimals);\n    }\n\n    public get totalValueInteger() {\n        return Format.integer(this.checkedValue.totalValue, 2);\n    }\n\n    public get totalValueFraction() {\n        return Format.fraction(this.checkedValue.totalValue, 2);\n    }\n\n    public get percentInteger() {\n        return Format.integer(this.checkedValue.percent, 1);\n    }\n\n    public get percentFraction() {\n        return Format.fraction(this.checkedValue.percent, 1);\n    }\n\n    public getClass(columnName: ColumnName) {\n        return ColumnInfo.getClass(\n            columnName, this.checkedValue.parent.assets.ordering, this.checkedOptionalColumnCount);\n    }\n\n    /** Instructs the asset group to be expanded/collapsed. */\n    public onRowClicked(event: MouseEvent) {\n        this.checkedValue.expand();\n    }\n\n    /** Instructs the parent UI element to open the asset editor dialog with the given asset. */\n    public onEditClicked(event: MouseEvent) {\n        this.$emit(\"edit\", this.checkedValue);\n    }\n\n    /** Instructs the parent UI element to delete the given asset from the list. */\n    public onDeleteClicked(event: MouseEvent) {\n        this.$emit(\"delete\", this.checkedValue);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly finenessFormatOptions = {\n        maximumFractionDigits: PreciousMetalAssetInputInfo.finenessDigits,\n        minimumFractionDigits: 1,\n        useGrouping: true };\n\n    private getHint(groupBy: GroupBy) {\n        switch (groupBy) {\n            case \"type\":\n                return \"\";\n            case \"location\":\n                return this.checkedValue.locationHint;\n            default:\n                throw new Error(\"Unknown groupBy!\");\n        }\n    }\n\n    private get checkedOptionalColumnCount() {\n        if (this.visibleColumnCount === undefined) {\n            throw new Error(\"No optional column count set!\");\n        }\n\n        return this.visibleColumnCount;\n    }\n}\n// codebeat:enable[TOO_MANY_FUNCTIONS]\n\nexport type ColumnName = AssetDisplayPropertyName | AssetListRowPropertyName |\n    typeof ColumnInfo.expandName | typeof ColumnInfo.moreName | typeof ColumnInfo.grandTotalLabelName;\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssetListRow.vue?vue&type=template&id=9e2807a4&scoped=true&\"\nimport script from \"./AssetListRow.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AssetListRow.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./AssetListRow.vue?vue&type=style&index=0&id=9e2807a4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e2807a4\",\n  null\n  \n)\n\ncomponent.options.__file = \"AssetListRow.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VIcon,\n  VList,\n  VListTile,\n  VListTileTitle,\n  VMenu,\n})\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { Asset, SortBy } from \"../model/Asset\";\nimport { Model } from \"../model/Model\";\nimport { Ordering } from \"../model/Ordering\";\n// tslint:disable-next-line:no-default-import\nimport AssetEditor from \"./AssetEditor.vue\";\n// tslint:disable-next-line:no-default-import\nimport AssetListRow, { ColumnName } from \"./AssetListRow.vue\";\nimport { ColumnInfo } from \"./ColumnInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\ninterface IPagination {\n    sortBy: SortBy;\n    descending: boolean;\n    rowsPerPage: -1;\n}\n\n@Component({ components: { AssetListRow, AssetEditor } })\n/** Implements the asset list UI. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetList extends ComponentBase<Model> {\n    /** Provides the information required for sorting and paginating the table. */\n    public get pagination(): IPagination {\n        return this.paginationImpl || (this.paginationImpl = {\n            sortBy: this.checkedValue.assets.ordering.sort.by,\n            descending: this.checkedValue.assets.ordering.sort.descending,\n            rowsPerPage: -1,\n        });\n    }\n\n    public set pagination(pagination: IPagination) {\n        this.paginationImpl = pagination;\n        this.checkedValue.assets.ordering.sort = { by: pagination.sortBy, descending: pagination.descending };\n    }\n\n    public get isLoading() {\n        return (this.checkedValue.assets.grandTotalValue === undefined);\n    }\n\n    public get grandTotalValueInteger() {\n        return Format.integer(this.checkedValue.assets.grandTotalValue, 2);\n    }\n\n    public get grandTotalValueFraction() {\n        return Format.fraction(this.checkedValue.assets.grandTotalValue, 2);\n    }\n\n    /** Provides a value indicating how many optional columns are currently visible. */\n    public get optionalColumnCount() {\n        return this.optionalColumnCountImpl;\n    }\n\n    public get grandTotalLabelColumnCount() {\n        // This is the minimal column span for the grand total label.\n        let result = 2;\n\n        if (this.optionalColumnCount >= 1) {\n            // We need to add to the minimum the number of columns that are added *after* the total value column has\n            // appeared.\n            result += (ColumnInfo.getRawCount(this.optionalColumnCount) - ColumnInfo.getRawCount(1));\n        }\n\n        return result;\n    }\n\n    public getHeaderClass(columnName: ColumnName) {\n        const result = ColumnInfo.getClass(columnName, this.checkedValue.assets.ordering, this.optionalColumnCount);\n\n        // Sortable columns\n        if (Ordering.isSortBy(columnName)) {\n            const sort = this.checkedValue.assets.ordering.sort;\n            result.push(\"column\", \"sortable\", sort.descending ? \"desc\" : \"asc\");\n\n            if (sort.by === columnName) {\n                result.push(\"active\");\n            }\n        }\n\n        return result;\n    }\n\n    public getFooterClass(columnName: ColumnName) {\n        return ColumnInfo.getClass(columnName, this.checkedValue.assets.ordering, this.optionalColumnCount);\n    }\n\n    /** Changes the sorting for the given property. */\n    public changeSort(sortBy: SortBy) {\n        const currentSort = this.checkedValue.assets.ordering.sort;\n        this.checkedValue.assets.ordering.sort = (currentSort.by === sortBy) ?\n            { by: currentSort.by, descending: !currentSort.descending } : { by: sortBy, descending: false };\n    }\n\n    public async onAdd() {\n        const newAsset = await this.assetEditor.showDialog(this.checkedValue);\n\n        if (newAsset) {\n            this.checkedValue.assets.add(newAsset);\n        }\n    }\n\n    public async onEdit(asset: Asset) {\n        const changedAsset = await this.assetEditor.showDialog(this.checkedValue, asset);\n\n        if (changedAsset) {\n            this.checkedValue.assets.replace(asset, changedAsset);\n        }\n    }\n\n    public onDelete(asset: Asset) {\n        this.checkedValue.assets.delete(asset);\n    }\n\n    public mounted() {\n        this.timer = setInterval(() => this.onIntervalElapsed(), 100);\n    }\n\n    public beforeDestroy() {\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private paginationImpl?: IPagination;\n    private optionalColumnCountImpl = ColumnInfo.maxOptionalCount;\n\n    private timer?: NodeJS.Timer;\n    private previousOffset: number = Number.NaN;\n\n    private get assetEditor() {\n        return this.getControl(\"editor\") as AssetEditor;\n    }\n\n    private onIntervalElapsed() {\n        // tslint:disable-next-line:no-unsafe-any\n        if (this.previousOffset === (this.$el as any).offsetLeft) {\n            // tslint:disable-next-line:no-unsafe-any\n            if ((this.optionalColumnCountImpl > 0) && ((this.$el as any).offsetLeft < 0)) {\n                --this.optionalColumnCountImpl;\n            } else if ((this.optionalColumnCountImpl < ColumnInfo.maxOptionalCount) &&\n                // tslint:disable-next-line:no-unsafe-any\n                ((this.$el as any).offsetLeft * 2 > (this.$el as any).offsetWidth /\n                    (AssetListRow.requiredColumnCount + this.optionalColumnCountImpl) * 3)) {\n                ++this.optionalColumnCountImpl;\n            }\n        }\n\n        // tslint:disable-next-line:no-unsafe-any\n        this.previousOffset = (this.$el as any).offsetLeft;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssetList.vue?vue&type=template&id=420ce7a4&scoped=true&\"\nimport script from \"./AssetList.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AssetList.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./AssetList.vue?vue&type=style&index=0&id=420ce7a4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420ce7a4\",\n  null\n  \n)\n\ncomponent.options.__file = \"AssetList.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VProgressLinear } from 'vuetify/lib'\ninstallComponents(component, {\n  VDataTable,\n  VIcon,\n  VLayout,\n  VProgressLinear,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"600px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Untested Browser\")]),_c('v-card-text',[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.applicationTitle)+\" is regularly tested on \"),_c('strong',[_vm._v(\"Chromium\")]),_vm._v(\" and \"),_c('strong',[_vm._v(\"Firefox\")]),_vm._v(\" only.\\n        While it should work on your browser, there's the possibility of browser-specific bugs.\\n      \")]),_c('p',[_vm._v(\"\\n        I would recommend to use Chromium or Firefox because most other popular browsers are proprietary software.\\n        That is, at least part of the behavior of your browser is probably determined by source code that is not\\n        publicly available. Because the makers of proprietary software tend to focus on features suitable to increase\\n        the market share of their product, sound software design and user data privacy often take a back seat. They\\n        usually get away with that practice because the behavior of their software cannot be independently verified.\\n      \")]),_c('p',[_c('strong',[_vm._v(\"\\n          TL;DR To maximize your privacy, please consider using \"+_vm._s(_vm.applicationTitle)+\" on Chromium or Firefox and\\n          refrain from using services that sync your browser data across devices.\\n        \")])]),_c('v-checkbox',{attrs:{\"label\":\"Don't show this again\"},model:{value:(_vm.dontShowDialog),callback:function ($$v) {_vm.dontShowDialog=$$v},expression:\"dontShowDialog\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.isOpen = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Application } from \"../model/Application\";\n\n@Component\n/** Implements the dialog informing the user about untested browsers. */\n// tslint:disable-next-line:no-default-export\nexport default class BrowserDialog extends Vue {\n    public get applicationTitle() {\n        return Application.title;\n    }\n\n    /** Provides a value indicating whether the dialog is currently open. */\n    public isOpen = !this.dontShowDialog;\n\n    public get dontShowDialog() {\n        return !BrowserDialog.isUntestedBrowser ||\n            window.localStorage.getItem(BrowserDialog.dontShowBrowserDialogName) === true.toString();\n    }\n\n    public set dontShowDialog(value: boolean) {\n        window.localStorage.setItem(BrowserDialog.dontShowBrowserDialogName, value.toString());\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly dontShowBrowserDialogName = \"dontShowBrowserDialog\";\n\n    private static get isUntestedBrowser() {\n        const userAgent = window.navigator.userAgent.toLowerCase();\n        const testedBrowsers = [ \"chromium\", \"firefox\", \"electron\" ];\n\n        for (const browser of testedBrowsers) {\n            if (userAgent.indexOf(browser) >= 0) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowserDialog.vue?vue&type=template&id=0c988852&scoped=true&\"\nimport script from \"./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c988852\",\n  null\n  \n)\n\ncomponent.options.__file = \"BrowserDialog.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VCheckbox } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VCard,\n  VCardActions,\n  VCardText,\n  VCardTitle,\n  VCheckbox,\n  VDialog,\n  VSpacer,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"400px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Save As\")]),_c('v-card-text',[_c('v-form',{ref:\"form\",on:{\"submit\":function (e) { return e.preventDefault(); }}},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('TextField',{attrs:{\"large\":\"true\",\"info\":_vm.nameInfo},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onCancelClicked($event)}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.onSaveClicked($event)}}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\n// tslint:disable-next-line:no-default-import\nimport TextField from \"./TextField.vue\";\n\n@Component({ components: { TextField } })\n/** Implements the dialog used during Save As... */\n// tslint:disable-next-line:no-default-export\nexport default class SaveAsDialog extends Vue {\n    /** Provides the name being edited. */\n    public name = \"\";\n\n    /** Provides a value indicating whether the dialog is currently open. */\n    public isOpen = false;\n\n    /** Provides the name input information. */\n    public readonly nameInfo = new TextInputInfo({\n        label: \"Name\", hint: \"The name of the file.\", isPresent: true, isRequired: true,\n    });\n\n    public onSaveClicked(event: MouseEvent) {\n        if (this.isValid()) {\n            this.close(this.name);\n        }\n    }\n\n    public onCancelClicked(event: MouseEvent) {\n        this.close(undefined);\n    }\n\n    public showDialog(name: string) {\n        this.name = name;\n        this.isOpen = true;\n\n        return new Promise<string | undefined>((resolve) => this.resolve = resolve);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private resolve?: (value: string | undefined) => void;\n\n    private isValid() {\n        // tslint:disable-next-line:no-unsafe-any\n        return (this.$refs.form as any).validate();\n    }\n\n    private close(value: string | undefined) {\n        this.isOpen = false;\n\n        if (!this.resolve) {\n            throw new Error(\"No resolve callback set!\");\n        }\n\n        this.resolve(value);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaveAsDialog.vue?vue&type=template&id=04a597f2&scoped=true&\"\nimport script from \"./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a597f2\",\n  null\n  \n)\n\ncomponent.options.__file = \"SaveAsDialog.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VCard,\n  VCardActions,\n  VCardText,\n  VCardTitle,\n  VContainer,\n  VDialog,\n  VForm,\n  VLayout,\n  VSpacer,\n})\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, SortBy } from \"./Asset\";\nimport { AssetGroup } from \"./AssetGroup\";\nimport { ISort } from \"./Ordering\";\n\nexport class AssetCollectionUtility {\n    public static sort(groups: AssetGroup[], sort: ISort) {\n        groups.sort((l, r) => this.compare(l, r, sort));\n\n        for (const group of groups) {\n            group.assets.sort((l, r) => this.compare(l, r, sort));\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static compare(left: Asset, right: Asset, sort: ISort) {\n        return (sort.descending ? -1 : 1) * this.compareImpl(left, right, sort.by);\n    }\n\n    private static compareImpl(left: Asset, right: Asset, sortBy: SortBy) {\n        const leftProperty = left[sortBy];\n        const rightProperty = right[sortBy];\n\n        if (leftProperty === rightProperty) {\n            return 0;\n        } else if (leftProperty === undefined) {\n            return -1;\n        } else if (rightProperty === undefined) {\n            return 1;\n        } else if (leftProperty < rightProperty) {\n            return -1;\n        } else {\n            return 1;\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { IAssetUnion, ISerializedAsset } from \"./AssetInterfaces\";\n\n// This could easily be fixed by overriding abstract methods in two extending classes, but doing so seems strange at\n// best. Most method implementations are trivial, so their number shouldn't matter that much.\n// codebeat:disable[TOO_MANY_FUNCTIONS]\nexport class AssetGroup extends Asset {\n    public isExpanded = false;\n\n    public get isExpandable() {\n        return true;\n    }\n\n    public get type() {\n        return this.coalesce((a) => a.type) || \"\";\n    }\n\n    public get description() {\n        return this.coalesce((a) => a.description) || \"\";\n    }\n\n    public get location() {\n        return this.coalesce((a) => a.location) || \"\";\n    }\n\n    public get unit() {\n        return this.coalesce((a) => a.unit) || \"\";\n    }\n\n    public get fineness() {\n        return this.coalesce((a) => a.fineness);\n    }\n\n    public get quantity() {\n        return (this.type && this.unit) ?\n            this.assets.reduce<number | undefined>((s, a) => AssetGroup.add(s, a.quantity), 0) : undefined;\n    }\n\n    public get quantityHint() {\n        return this.coalesce((a) => a.quantityHint) || \"\";\n    }\n\n    public get displayDecimals() {\n        return this.coalesce((a) => a.displayDecimals) || 0;\n    }\n\n    public get notes() {\n        return this.assets.reduce((s, a) => `${s}${a.notes}\\n`, \"\");\n    }\n\n    public get unitValue() {\n        return this.coalesce((a) => a.unitValue);\n    }\n\n    public get unitValueHint() {\n        return this.coalesce((a) => a.unitValueHint) || \"\";\n    }\n\n    public get totalValue() {\n        return this.assets.reduce<number | undefined>((s, a) => AssetGroup.add(s, a.totalValue), 0);\n    }\n\n    public get hasActions() {\n        return false;\n    }\n\n    public get interface(): IAssetUnion {\n        throw new Error(`${AssetGroup.name} cannot be edited.`);\n    }\n\n    public constructor(parent: IModel, public readonly assets: Asset[]) {\n        super(parent);\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public toJSON(): ISerializedAsset {\n        throw new Error(`${AssetGroup.name} cannot be serialized.`);\n    }\n\n    /** @internal */\n    public expand() {\n        this.isExpanded = !this.isExpanded;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static add(addend1: number | undefined, addend2: number | undefined) {\n        return (addend1 === undefined) || (addend2 === undefined) ? undefined : addend1 + addend2;\n    }\n\n    private coalesce<T>(getProperty: (asset: Asset) => T): T | undefined {\n        let previous: T | undefined;\n\n        for (let index = 0; index < this.assets.length; ++index) {\n            if (index === 0) {\n                previous = getProperty(this.assets[index]);\n            } else if (getProperty(this.assets[index]) !== previous) {\n                return undefined;\n            }\n        }\n\n        return previous;\n    }\n}\n// codebeat:enable[TOO_MANY_FUNCTIONS]\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, GroupBy, IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetCollectionUtility } from \"./AssetCollectionUtility\";\nimport { AssetGroup } from \"./AssetGroup\";\nimport { ISort, Ordering } from \"./Ordering\";\n\ninterface IParent extends IModel {\n    notifyChanged(): void;\n}\n\ninterface IAssetCollectionParameters {\n    parent: IParent;\n    bundles: AssetBundle[];\n    groupBy?: GroupBy;\n    sort?: ISort;\n}\n\nexport class AssetCollection {\n    public readonly ordering: Ordering;\n\n    /** Provides the grouped assets. */\n    public get grouped() {\n        const result: Asset[] = [];\n\n        for (const group of this.groups) {\n            result.push(group);\n\n            if (group.isExpanded) {\n                result.push(...group.assets);\n            }\n        }\n\n        return result;\n    }\n\n    public get isEmpty() {\n        return this.groups.length === 0;\n    }\n\n    /** Provides the sum of all asset total values. */\n    public get grandTotalValue() {\n        return this.groups.reduce<number | undefined>(\n            (s, a) => s === undefined ? undefined : (a.totalValue === undefined ? undefined : s + a.totalValue), 0);\n    }\n\n    public constructor(params: IAssetCollectionParameters) {\n        this.ordering = new Ordering({\n            onGroupChanged: () => this.onGroupChanged(),\n            onSortChanged: () => AssetCollectionUtility.sort(this.groups, this.ordering.sort),\n            groupBy: params.groupBy,\n            sort: params.sort,\n        });\n\n        this.parent = params.parent;\n        this.bundles = params.bundles;\n        this.update(...this.bundles);\n    }\n\n    /** Bundles and adds `asset` to the list of asset bundles. */\n    public add(asset: Asset) {\n        const bundle = asset.bundle();\n        this.bundles.push(bundle);\n        this.update(bundle);\n        this.parent.notifyChanged();\n    }\n\n    /** Deletes `asset`. */\n    public delete(asset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(asset) >= 0);\n\n        if (index >= 0) {\n            const bundle = this.bundles[index];\n            bundle.deleteAsset(asset);\n\n            if (bundle.assets.length === 0) {\n                this.bundles.splice(index, 1);\n            }\n\n            this.update();\n            this.parent.notifyChanged();\n        }\n    }\n\n    /** Replaces the bundle containing `oldAsset` with a bundle containing `newAsset`. */\n    public replace(oldAsset: Asset, newAsset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(oldAsset) >= 0);\n\n        if (index >= 0) {\n            const bundle = newAsset.bundle();\n            // Apparently, Vue cannot detect the obvious way of replacing (this.bundles[index] = bundle):\n            // https://codingexplained.com/coding/front-end/vue-js/array-change-detection\n            this.bundles.splice(index, 1, bundle);\n            this.update(bundle);\n            this.parent.notifyChanged();\n        }\n    }\n\n    /** @internal */\n    public toJSON() {\n        return this.bundles.map((bundle) => bundle.toJSON());\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static async queryBundleData(bundle: AssetBundle, id: number) {\n        await bundle.queryData();\n\n        return id;\n    }\n\n    private readonly groups = new Array<AssetGroup>();\n    private readonly bundles: AssetBundle[];\n    private readonly parent: IParent;\n\n    private onGroupChanged() {\n        this.groups.length = 0;\n        this.update();\n    }\n\n    private update(...newBundles: AssetBundle[]) {\n        this.updateImpl(newBundles).catch((error) => console.error(error));\n    }\n\n    private async updateImpl(newBundles: AssetBundle[]) {\n        this.updateGroups();\n        const promises = new Map<number, Promise<number>>(\n            newBundles.map<[number, Promise<number>]>((b, i) => [ i, AssetCollection.queryBundleData(b, i) ]));\n\n        while (promises.size > 0) {\n            await this.waitForResponses(promises);\n        }\n    }\n\n    private async waitForResponses(promises: Map<number, Promise<number>>) {\n        const delayId = Number.MAX_SAFE_INTEGER;\n\n        if (!promises.has(delayId)) {\n            promises.set(delayId, new Promise((resolve) => setTimeout(resolve, 1000, delayId)));\n        }\n\n        const index = await Promise.race(promises.values());\n\n        if (index === delayId) {\n            this.updateGroups();\n        }\n\n        promises.delete(index);\n    }\n\n    private updateGroups() {\n        const newGroups = this.getGroups();\n\n        // Remove no longer existing groups\n        for (let index = 0; index < this.groups.length;) {\n            if (!newGroups.has(this.groups[index][this.ordering.groupBy])) {\n                this.groups.splice(index, 1);\n            } else {\n                ++index;\n            }\n        }\n\n        // Update existing groups with new assets\n        for (const newGroup of newGroups) {\n            const existingGroup = this.groups.find((g) => g[this.ordering.groupBy] === newGroup[0]);\n\n            if (existingGroup === undefined) {\n                this.groups.push(new AssetGroup(this.parent, newGroup[1]));\n            } else {\n                existingGroup.assets.splice(0, existingGroup.assets.length, ...newGroup[1]);\n            }\n        }\n\n        AssetCollectionUtility.sort(this.groups, this.ordering.sort);\n    }\n\n    private getGroups() {\n        const result = new Map<string, Asset[]>();\n\n        for (const bundle of this.bundles) {\n            this.addGroups(result, bundle.assets);\n        }\n\n        return result;\n    }\n\n    private addGroups(result: Map<string, Asset[]>, assets: Asset[]) {\n        for (const asset of assets) {\n            const groupName = asset[this.ordering.groupBy];\n            const groupAssets = result.get(groupName);\n\n            if (groupAssets === undefined) {\n                result.set(groupName, [asset]);\n            } else {\n                groupAssets.push(asset);\n            }\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Application } from \"./Application\";\nimport { GroupBy, IModel } from \"./Asset\";\nimport { AssetBundle, ISerializedBundle } from \"./AssetBundle\";\nimport { AssetCollection } from \"./AssetCollection\";\nimport { Currency } from \"./Currency\";\nimport { EnumInfo } from \"./EnumInfo\";\nimport { ExchangeRate } from \"./ExchangeRate\";\nimport { ISort } from \"./Ordering\";\nimport { Query } from \"./Query\";\n\nexport interface IModelParameters {\n    readonly name?: string;\n    readonly wasSavedToFile?: boolean;\n    readonly hasUnsavedChanges?: boolean;\n    readonly currency?: keyof typeof Currency;\n    readonly groupBy?: GroupBy;\n    readonly sort?: ISort;\n    readonly createBundles: Array<(model: IModel) => AssetBundle>;\n}\n\nexport interface ISerializedModel {\n    readonly version: number;\n    readonly name: string;\n    readonly wasSavedToFile: boolean;\n    readonly hasUnsavedChanges: boolean;\n    readonly currency: string;\n    readonly groupBy: GroupBy;\n    readonly sort: ISort;\n    readonly bundles: ISerializedBundle[];\n}\n\n/** Represents the main model of the application. */\nexport class Model implements IModel {\n    /** Provides the name of the asset collection. */\n    public name: string;\n\n    /** Provides the file extension. */\n    public readonly fileExtension = \".assets\";\n\n    public get fileName() {\n        return `${this.name}${this.fileExtension}`;\n    }\n\n    public wasSavedToFile: boolean;\n\n    public get hasUnsavedChanges() {\n        return this.hasUnsavedChangesImpl;\n    }\n\n    public set hasUnsavedChanges(value: boolean) {\n        if (value !== this.hasUnsavedChangesImpl) {\n            this.hasUnsavedChangesImpl = value;\n\n            if (this.onChanged) {\n                this.onChanged();\n            }\n        }\n    }\n\n    public get title() {\n        return `${this.name}${this.hasUnsavedChanges ? \" (Modified)\" : \"\"} - ${Application.title}`;\n    }\n\n    /** Provides the available currencies to value the assets in. */\n    public get currencies() {\n        return EnumInfo.getMemberNames(Currency);\n    }\n\n    /** Provides the selected currency. */\n    public get currency() {\n        return this.currencyImpl;\n    }\n\n    /** Provides the selected currency. */\n    public set currency(currency: keyof typeof Currency) {\n        this.currencyImpl = currency;\n        this.onCurrencyChanged();\n    }\n\n    public readonly assets: AssetCollection;\n\n    /**\n     * cSpell: ignore usdxxx\n     * Provides the USD exchange rate of the currently selected currency (USDXXX, where XXX is the currently selected\n     * currency).\n     */\n    public exchangeRate: number | undefined = 1;\n\n    /** Provides the method that is called when the model has changed. */\n    public onChanged: (() => void) | undefined = undefined;\n\n    public constructor(params?: IModelParameters) {\n        this.name = (params && params.name) || \"Unnamed\";\n        this.wasSavedToFile = (params && params.wasSavedToFile) || false;\n        this.hasUnsavedChangesImpl = (params && params.hasUnsavedChanges) || false;\n        this.currencyImpl = (params && params.currency) || this.currencies[0];\n        this.onCurrencyChanged();\n        this.assets = new AssetCollection({\n            parent: this,\n            bundles: (params && params.createBundles.map((c) => c(this))) || [],\n            groupBy: params && params.groupBy,\n            sort: params && params.sort,\n        });\n    }\n\n    /** Returns a JSON-formatted string representing the model. */\n    public toJsonString() {\n        return JSON.stringify(this, undefined, 2);\n    }\n\n    public notifyChanged() {\n        this.hasUnsavedChangesImpl = true;\n\n        if (this.onChanged) {\n            this.onChanged();\n        }\n    }\n\n    /** @internal */\n    public toJSON(): ISerializedModel {\n        return {\n            version: 1,\n            name: this.name,\n            wasSavedToFile: this.wasSavedToFile,\n            hasUnsavedChanges: this.hasUnsavedChanges,\n            currency: this.currency,\n            groupBy: this.assets.ordering.groupBy,\n            sort: this.assets.ordering.sort,\n            bundles: this.assets.toJSON(),\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private hasUnsavedChangesImpl: boolean;\n\n    private currencyImpl: keyof typeof Currency;\n\n    private onCurrencyChanged() {\n        this.onCurrencyChangedImpl().catch((reason) => console.error(reason));\n    }\n\n    private async onCurrencyChangedImpl() {\n        this.exchangeRate = undefined;\n        // Status is intentionally ignored\n        ({ result: this.exchangeRate } = await Query.execute(() => ExchangeRate.get(Currency[this.currency])));\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { GroupBy, IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetInput } from \"./AssetInput\";\nimport { Currency } from \"./Currency\";\nimport { IModelParameters, ISerializedModel, Model } from \"./Model\";\nimport { ISort, Ordering } from \"./Ordering\";\nimport { ParseErrorMessage } from \"./ParseErrorMessage\";\nimport { Unknown } from \"./Unknown\";\nimport { Value } from \"./Value\";\n\nexport class ModelParser {\n    /**\n     * Returns a [[Model]] object that is equivalent to the passed JSON string or returns a string that describes why\n     * the parse process failed.\n     * @description This is typically called with a string that was returned by [[toJsonString]].\n     * @param json The string to parse\n     */\n    public static parse(json: string) {\n        let rawModel: Unknown | null;\n\n        try {\n            rawModel = JSON.parse(json) as Unknown | null;\n        } catch (e) {\n            return (e as Error).message;\n        }\n\n        if (!Value.hasNumberProperty(rawModel, this.versionName)) {\n            return ParseErrorMessage.getPropertyTypeMismatch(this.versionName, rawModel, 0);\n        }\n\n        const version = rawModel[this.versionName];\n\n        if (version !== 1) {\n            return ParseErrorMessage.getUnknownPropertyValue(this.versionName, version);\n        }\n\n        return this.parseBundles(rawModel);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly versionName = ModelParser.getModelName(\"version\");\n    private static readonly nameName = ModelParser.getModelName(\"name\");\n    private static readonly wasSavedToFileName = ModelParser.getModelName(\"wasSavedToFile\");\n    private static readonly hasUnsavedChangesName = ModelParser.getModelName(\"hasUnsavedChanges\");\n    private static readonly currencyName = ModelParser.getModelName(\"currency\");\n    private static readonly groupByName = ModelParser.getModelName(\"groupBy\");\n    private static readonly sortName = ModelParser.getModelName(\"sort\");\n    private static readonly sortByName = ModelParser.getSortName(\"by\");\n    private static readonly sortDescendingName = ModelParser.getSortName(\"descending\");\n    private static readonly bundlesName = ModelParser.getModelName(\"bundles\");\n\n    private static getModelName<T extends keyof ISerializedModel>(name: T) {\n        return name;\n    }\n\n    private static getSortName<T extends keyof ISort>(name: T) {\n        return name;\n    }\n\n    private static parseBundles(rawModel: Unknown) {\n        if (!Value.hasArrayProperty(rawModel, this.bundlesName)) {\n            return ParseErrorMessage.getPropertyTypeMismatch(this.bundlesName, rawModel, []);\n        }\n\n        const params: IModelParameters = {\n            ...this.parseOptionalProperties(rawModel),\n            ...this.parseOptionalViewProperties(rawModel),\n            createBundles: new Array<(model: IModel) => AssetBundle>(),\n        };\n\n        for (const rawBundle of rawModel.bundles) {\n            const createBundle = AssetInput.parseBundle(rawBundle);\n\n            if (!(createBundle instanceof Function)) {\n                return createBundle;\n            }\n\n            params.createBundles.push(createBundle);\n        }\n\n        return new Model(params);\n    }\n\n    private static parseOptionalProperties(rawModel: Unknown) {\n        const result: { name?: string; wasSavedToFile?: boolean; hasUnsavedChanges?: boolean } = {};\n\n        if (Value.hasStringProperty(rawModel, this.nameName)) {\n            const name = rawModel[this.nameName];\n\n            if (name.length > 0) {\n                result.name = name;\n            }\n        }\n\n        if (Value.hasBooleanProperty(rawModel, this.wasSavedToFileName)) {\n            result.wasSavedToFile = rawModel[this.wasSavedToFileName];\n        }\n\n        if (Value.hasBooleanProperty(rawModel, this.hasUnsavedChangesName)) {\n            result.hasUnsavedChanges = rawModel[this.hasUnsavedChangesName];\n        }\n\n        return result;\n    }\n\n    private static parseOptionalViewProperties(rawModel: Unknown) {\n        const result: { currency?: keyof typeof Currency; groupBy?: GroupBy; sort?: ISort } = {};\n\n        if (Value.hasStringProperty(rawModel, this.currencyName)) {\n            const currency = rawModel[this.currencyName];\n\n            if (currency in Currency) {\n                result.currency = currency as keyof typeof Currency;\n            }\n        }\n\n        if (Value.hasStringProperty(rawModel, this.groupByName)) {\n            const groupBy = rawModel[this.groupByName];\n\n            if (this.isGroupBy(groupBy)) {\n                result.groupBy = groupBy;\n            }\n        }\n\n        if (Value.hasObjectProperty(rawModel, this.sortName)) {\n            const sort = rawModel[this.sortName];\n\n            if (this.isSort(sort)) {\n                result.sort = sort;\n            }\n        }\n\n        return result;\n    }\n\n    private static isSort(sort: Unknown): sort is ISort {\n        return Value.hasStringProperty(sort, this.sortByName) && Ordering.isSortBy(sort.by) &&\n            Value.hasBooleanProperty(sort, this.sortDescendingName);\n    }\n\n    private static isGroupBy(groupBy: string): groupBy is GroupBy {\n        return Ordering.groupBys.findIndex((g) => g === groupBy) >= 0;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Model } from \"./model/Model\";\nimport { ModelParser } from \"./model/ModelParser\";\n\nexport class Parser {\n    public static parse(json: string | null) {\n        const model = json ? ModelParser.parse(json) : undefined;\n\n        if (model instanceof Model) {\n            return model;\n        } else if (model) {\n            alert(model);\n        }\n\n        return undefined;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Model } from \"./model/Model\";\nimport { Parser } from \"./Parser\";\n\nexport class LocalStorage {\n    public static load() {\n        const localStorageKey = window.sessionStorage.getItem(this.sessionLocalStorageKey);\n\n        return localStorageKey ? this.loadExistingSession(localStorageKey) : this.loadNewSession();\n    }\n\n    public static save(model: Model) {\n        // Apparently, there's no reliable way to prevent the user from closing a browser window that contains unsaved\n        // changes. Both Chromium and Firefox currently refuse to show a confirmation dialog that is opened in a\n        // \"beforeunload\" handler and the documentation for the event warns that this could be the case. Therefore, the\n        // only way to prevent the loss of unsaved data is to save our data either continuously or in the \"beforeunload\"\n        // handler. We could either save through window.localStorage or download to the users hard drive (via the same\n        // mechanism as when the user invokes the \"Save...\" menu entry). However, the latter is bound to surprise at\n        // least some users and doesn't seem to work on some browsers anyway (e.g. Firefox). Our only remaining option\n        // is to therefore save to local storage.\n        // Obviously, just saving to local storage under one key (e.g. \"assets\") only works reliably if the user\n        // confines herself to not ever work with the application in more than one browser window. Since we seem to have\n        // no way of preventing or detecting use in multiple browser windows, the storage mechanism must ideally satisfy\n        // the following requirements:\n        // 1. No committed but as of yet unsaved change in any browser window is ever lost if the user closes a tab,\n        //    closes the whole browser or reloads the page at any time.\n        // 2. It must be trivial to regain access to unsaved changes.\n        // It appears that both requirements can be satisfied with the following mechanism:\n        // - Data is always saved to local storage in a \"beforeunload\" handler under a monotonously increasing key,\n        //   which is then also stored through window.sessionStorage.\n        // - When the page loads, session storage is first checked for a saved key. If one exists, data under said key\n        //   is then loaded from local storage. This ensures that the same data is always displayed\n        //   before and after a page reload. If session storage does not contain a key, data under the largest key is\n        //   loaded from local storage.\n        // - Successfully loaded data is always *deleted* from local storage immediately. This ensures that navigating\n        //   to the application in additional browser windows will never load the same data in more than one browser\n        //   window.\n        // The above should ensure that the application can be used much like a normal desktop application. Even if the\n        // application is used in multiple tabs when the browser is closed, data in said tabs will be reloaded next\n        // time the user navigates to the application in the same number of tabs/windows. This is nicely complemented\n        // by the fact that many browsers have an option to automatically reload all previously open tabs when the\n        // browser is started.\n        // Unfortunately, the beforeunload handler doesn't seem to ever be called on Android when the user closes the\n        // browser, neither on Chrome, Firefox nor Edge. Luckily, at least reload works.\n        window.sessionStorage.setItem(this.sessionLocalStorageKey, this.saveImpl(model));\n    }\n\n    public static openNewWindow(model: Model | undefined) {\n        const url = new URL(window.location.pathname, window.location.origin);\n        url.searchParams.append(\n            this.sessionLocalStorageKey, model ? this.saveImpl(model) : this.emptyModelLocalStorageKey);\n        url.searchParams.append(this.sessionForceLoadFromLocalStorageKey, (!!model).toString());\n        window.open(url.href);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly emptyModelLocalStorageKey = \"0\";\n    private static readonly sessionLocalStorageKey = \"localStorageKey\";\n    private static readonly sessionForceLoadFromLocalStorageKey = \"forceLoadFromLocalStorage\";\n\n    private static loadExistingSession(localStorageKey: string) {\n        if ((localStorageKey !== this.emptyModelLocalStorageKey) &&\n            // tslint:disable-next-line:deprecation\n            ((window.performance.navigation.type === window.performance.navigation.TYPE_RELOAD) ||\n            (window.sessionStorage.getItem(this.sessionForceLoadFromLocalStorageKey) === true.toString()))) {\n            // Session storage can only be non-empty because the user either reloaded the page or because Open...\n            // or New was clicked. Both call openNewWindow, which opens a new window with parameters attached to the\n            // URL. Code in main.ts transfers any URL parameters into session storage and then uses\n            // window.location.replace to reload without the parameters.\n            return this.loadModel(localStorageKey);\n        }\n\n        return new Model();\n    }\n\n    private static loadNewSession() {\n        const oldKeys = this.getOldKeys();\n\n        // Sort the array in descending direction, so that the modified model that was last saved will be loaded.\n        oldKeys.sort((l, r) => l < r ? 1 : -1);\n\n        for (const oldKey of oldKeys) {\n            const model = this.loadModel(oldKey.toString());\n\n            if (model.hasUnsavedChanges) {\n                // The main goal of this whole mechanism is to prevent data loss, which is why, in a new session, we\n                // only ever load models that have unsaved changes. Models that have been written into a file but\n                // were nevertheless later saved to local storage as part of the browser being closed do not need to\n                // be considered here.\n                return model;\n            }\n        }\n\n        return new Model();\n    }\n\n    private static saveImpl(model: Model) {\n        let key: string | undefined = this.emptyModelLocalStorageKey;\n\n        if (!model.assets.isEmpty) {\n            const json = model.toJsonString();\n\n            // tslint:disable-next-line:no-empty\n            while (!(key = this.trySaveToLocalStorage(json))) {\n            }\n        }\n\n        return key;\n    }\n\n    private static loadModel(localStorageKey: string) {\n        const result = Parser.parse(window.localStorage.getItem(localStorageKey));\n\n        if (result) {\n            while (window.sessionStorage.length > 0) {\n                window.sessionStorage.removeItem(window.sessionStorage.key(0) || \"\");\n            }\n\n            window.localStorage.removeItem(localStorageKey);\n\n            return result;\n        }\n\n        return new Model();\n    }\n\n    private static trySaveToLocalStorage(json: string) {\n        // We need a key that is unique and monotonously increasing. When a browser is closed with the application\n        // running in multiple tabs, it is likely that two tabs will get the same value from Date.now(). The random\n        // component should reduce the likelihood of a collision.\n        const uniqueNumber = Math.trunc((Date.now() + Math.random()) * Math.pow(2, 10));\n\n        if (!Number.isSafeInteger(uniqueNumber)) {\n            // Make sure all digits are significant. Since Date.now() currently returns a value with 41 binary digits,\n            // adding another 10 binary digits should keep us well below the 53 binary digits commonly supported for\n            // safe integers.\n            throw new Error(\"Can't create unique key.\");\n        }\n\n        const uniqueKey = uniqueNumber.toString();\n\n        if (window.localStorage.getItem(uniqueKey)) {\n            return undefined;\n        }\n\n        window.localStorage.setItem(uniqueKey, json);\n\n        // There's still a low probability that two browser tabs arrive at the same key at the same time and an\n        // overwrite happens. Verifying the written should reduce this further.\n        return window.localStorage.getItem(uniqueKey) === json ? uniqueKey : undefined;\n    }\n\n    private static getOldKeys() {\n        // Put all old keys into the following array.\n        const result = new Array<number>();\n\n        for (let index = 0; index < window.localStorage.length; ++index) {\n            const oldKey = window.localStorage.key(index);\n            let oldKeyNumber: number | undefined;\n\n            if (oldKey && (oldKeyNumber = Number.parseInt(oldKey, 10))) {\n                result.push(oldKeyNumber);\n            }\n        }\n\n        return result;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\n// tslint:disable-next-line:no-default-import\nimport AboutDialog from \"./components/AboutDialog.vue\";\n// tslint:disable-next-line:no-default-import\nimport AssetList from \"./components/AssetList.vue\";\n// tslint:disable-next-line:no-default-import\nimport BrowserDialog from \"./components/BrowserDialog.vue\";\n// tslint:disable-next-line:no-default-import\nimport SaveAsDialog from \"./components/SaveAsDialog.vue\";\nimport { LocalStorage } from \"./LocalStorage\";\nimport { Model } from \"./model/Model\";\nimport { QueryCache } from \"./model/QueryCache\";\nimport { Parser } from \"./Parser\";\n\n@Component({ components: { AboutDialog, AssetList, BrowserDialog, SaveAsDialog } })\n// tslint:disable-next-line:no-default-export\nexport default class App extends Vue {\n    public isDrawerVisible = false;\n    public model: Model;\n\n    public constructor() {\n        super();\n        this.model = App.initModel(LocalStorage.load());\n        window.addEventListener(\"beforeunload\", (ev) => this.onBeforeUnload(ev));\n    }\n\n    public onMenuClicked(event: MouseEvent) {\n        this.isDrawerVisible = !this.isDrawerVisible;\n    }\n\n    public onNewClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        LocalStorage.openNewWindow(undefined);\n    }\n\n    public onOpenClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        this.fileInput.click();\n    }\n\n    public async onFileInputChanged(event: Event) {\n        try {\n            await this.onFileInputChangedImpl((event.target as any).files as FileList);\n        } finally {\n            this.fileInput.value = \"\";\n        }\n    }\n\n    public async onSaveClicked(event: MouseEvent) {\n        if (this.model.wasSavedToFile) {\n            this.isDrawerVisible = false;\n            this.write();\n        } else {\n            await this.onSaveAsClicked(event);\n        }\n    }\n\n    public async onSaveAsClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        const newName = await (this.$refs.saveAsDialog as SaveAsDialog).showDialog(this.model.name);\n\n        if (newName !== undefined) {\n            this.model.name = newName;\n            this.model.wasSavedToFile = true;\n            this.write();\n        }\n    }\n\n    public onAboutClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        (this.$refs.aboutDialog as AboutDialog).showDialog();\n    }\n\n    public onRefreshClicked(event: MouseEvent) {\n        QueryCache.clear();\n        this.model = App.initModel(Parser.parse(this.model.toJsonString()) || new Model());\n    }\n\n    public get groupBys() {\n        return this.model.assets.ordering.groupByLabels;\n    }\n\n    public get groupBy() {\n        return this.model.assets.ordering.groupByLabel;\n    }\n\n    public set groupBy(groupBy: string) {\n        const rawGroupBy = this.model.assets.ordering.groupBys.find((g) => g === groupBy.toLowerCase());\n\n        if (rawGroupBy !== undefined) {\n            this.model.assets.ordering.groupBy = rawGroupBy;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static read(blob: Blob) {\n        return new Promise<string>((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (ev) => resolve(reader.result as string);\n            reader.onerror = (ev) => reject(\"Unable to read file.\");\n            reader.readAsText(blob);\n        });\n    }\n\n    private static initModel(model: Model) {\n        model.onChanged = () => document.title = model.title;\n        document.title = model.title;\n\n        return model;\n    }\n\n    private get fileInput() {\n        return this.$refs.fileInput as HTMLInputElement;\n    }\n\n    private async onFileInputChangedImpl(files: FileList) {\n        if (files.length !== 1) {\n            return;\n        }\n\n        const file = files[0];\n        const model = Parser.parse(await App.read(file));\n\n        if (!model) {\n            return;\n        }\n\n        const name = file.name.endsWith(model.fileExtension) ?\n            file.name.substring(0, file.name.length - model.fileExtension.length) : file.name;\n\n        if (name.length > 0) {\n            model.name = name;\n        }\n\n        if (this.model.hasUnsavedChanges) {\n            LocalStorage.openNewWindow(model);\n        } else {\n            this.model = App.initModel(model);\n        }\n    }\n\n    private write() {\n        this.model.hasUnsavedChanges = false;\n        const blob = new Blob([ this.model.toJsonString() ], { type : \"application/json\" });\n\n        if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveBlob(blob, this.model.fileName);\n        } else {\n            const elem = window.document.createElement(\"a\");\n\n            // We should call window.URL.revokeObjectURL as soon as the user has either successfully downloaded the\n            // file or cancelled the download, but there seems to be no reliable way to detect these events. According\n            // to the docs the objects will be garbage collected anyway when the user closes the tab or navigates away.\n            // Given the currently small size of these downloads, not calling revokeObjectURL is probably good enough.\n            elem.href = window.URL.createObjectURL(blob);\n            elem.download = this.model.fileName;\n            document.body.appendChild(elem);\n            elem.click();\n            document.body.removeChild(elem);\n        }\n    }\n\n    private onBeforeUnload(ev: BeforeUnloadEvent) {\n        LocalStorage.save(this.model);\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3b2d8429&\"\nimport script from \"./App.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./App.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarSideIcon } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {\n  VApp,\n  VBtn,\n  VContainer,\n  VContent,\n  VIcon,\n  VLayout,\n  VList,\n  VListTile,\n  VListTileAction,\n  VListTileContent,\n  VListTileTitle,\n  VMenu,\n  VNavigationDrawer,\n  VSpacer,\n  VToolbar,\n  VToolbarSideIcon,\n  VToolbarTitle,\n})\n","// tslint:disable:file-name-casing\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line:no-submodule-imports ordered-imports\nimport * as OfflinePluginRuntime from \"offline-plugin/runtime\";\nimport Vue from \"vue\";\n// tslint:disable-next-line:no-import-side-effect\nimport \"./plugins/vuetify\";\n// tslint:disable-next-line:no-default-import ordered-imports\nimport App from \"./App.vue\";\n// tslint:disable-next-line:no-import-side-effect\nimport \"./assets/material-icons.css\";\n// tslint:disable-next-line:no-import-side-effect\nimport \"./assets/roboto-fontface.css\";\n\nOfflinePluginRuntime.install();\nVue.config.productionTip = false;\n\nnew Vue({\n    render: (h) => h(App),\n}).$mount(\"#app\");\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/background.03f488ed.png\";","module.exports = __webpack_public_path__ + \"img/blockcypher.2fc542e8.svg\";","module.exports = __webpack_public_path__ + \"img/blockchain.90495685.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=420ce7a4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=420ce7a4&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/btgexp.2f4da511.png\";","module.exports = __webpack_public_path__ + \"img/coinmarketcap.91ebf5d0.svg\";","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=9e2807a4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=9e2807a4&scoped=true&lang=css&\"","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\ndeclare var opr: any;\ndeclare var InstallTrigger: any;\ndeclare var safari: any;\n\nexport class Browser {\n    public static get isCompatible() {\n        // The following detection is accurate for desktop browsers only. For many mobile browsers, especially the ones\n        // based on Chromium, this method will return true no matter what version of browser it runs on. For now, this\n        // might be \"good enough\", as users tend to update their phones much more often than their desktop computers. A\n        // phone therefore has a higher probability to come with a suitable browser.\n        if (this.isFirefox && (this.getVersion(\" Firefox/\") < 47)) {\n            return false;\n        }\n\n        if (this.isSafari && (this.getVersion(\" Version/\") < 10)) {\n            return false;\n        }\n\n        if (this.isIE) {\n            return false;\n        }\n\n        // Blink is true for Chrome, Chromium and other Chromium-based browsers like Opera and Yandex, all of which have\n        // a Chrome version in their userAgent string\n        if (this.isBlink && (this.getVersion(\" Chrome/\") < 54)) {\n            return false;\n        }\n\n        return true;\n    }\n\n    // https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n\n    // Opera 8.0+\n    public static readonly isOpera =\n        // tslint:disable-next-line:no-unsafe-any\n        (!!(window as any).opr && !!opr.addons) || !!(window as any).opera || navigator.userAgent.indexOf(\" OPR/\") >= 0;\n\n    // Firefox 1.0+\n    public static readonly isFirefox = typeof InstallTrigger !== \"undefined\";\n\n    // Safari 3.0+ \"[object HTMLElementConstructor]\"\n    public static readonly isSafari =\n        // tslint:disable-next-line:no-unsafe-any\n        /constructor/i.test((window as any).HTMLElement) ||\n        // tslint:disable-next-line:only-arrow-functions no-unsafe-any\n        (function(p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(\n            // tslint:disable-next-line:no-string-literal no-unsafe-any\n            !((window as any)[\"safari\"]) || (typeof safari !== \"undefined\" && safari.pushNotification));\n\n    // Internet Explorer 6-11\n    // tslint:disable-next-line:binary-expression-operand-order\n    public static readonly isIE = /*@cc_on!@*/false || !!(document as any).documentMode;\n\n    // Edge 20+\n    public static readonly isEdge = !Browser.isIE && !!(window as any).StyleMedia;\n\n    // Chrome 1+\n    // cSpell: ignore webstore\n    // tslint:disable-next-line:no-unsafe-any\n    public static readonly isChrome = !!(window as any).chrome && !!(window as any).chrome.webstore;\n\n    // Blink engine detection\n    public static readonly isBlink = (Browser.isChrome || Browser.isOpera) && !!(window as any).CSS;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getVersion(versionPrefix: string) {\n        const userAgent = window.navigator.userAgent;\n        const versionIndex = userAgent.indexOf(versionPrefix);\n\n        return versionIndex >= 0 ? parseInt(userAgent.substr(versionIndex + versionPrefix.length), 10) : Number.NaN;\n    }\n}\n","// tslint:disable:file-name-casing\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Browser } from \"./Browser\";\nimport { Application } from \"./model/Application\";\n\nif (Browser.isCompatible) {\n    if (window.location.search) {\n        new URLSearchParams(window.location.search).forEach((value, key) => window.sessionStorage.setItem(key, value));\n        window.location.replace(new URL(window.location.pathname, window.location.origin).href);\n    } else {\n        // tslint:disable-next-line:no-require-imports no-var-requires\n        require(\"./app-main\");\n    }\n} else {\n    const appElement = document.getElementById(\"app\");\n\n    if (appElement) {\n        appElement.innerHTML = `\n            <div style=\"padding: 20px; font-size:large\">\n                <p><strong>${Application.title} doesn't work on this browser.</strong></p>\n                <p>\n                    It is recommended to use ${Application.title} from within a recent version of an\n                    <strong>open-source</strong> browser like <strong>Chromium</strong> or <strong>Firefox</strong>.\n                </p>\n                <p>\n                    ${Application.title} should also work on recent incarnations of proprietary browsers like Chrome,\n                    Opera, Safari, Edge and probably others.\n                </p>\n                <p>&nbsp;</p>\n                <p>&nbsp;</p>\n                <p><strong>${Application.title} ${Application.version}</strong></p>\n                <p>userAgent: ${window.navigator.userAgent}</p>\n                <p>isOpera: ${Browser.isOpera}</p>\n                <p>isFirefox: ${Browser.isFirefox}</p>\n                <p>isSafari: ${Browser.isSafari}</p>\n                <p>isIE: ${Browser.isIE}</p>\n                <p>isEdge: ${Browser.isEdge}</p>\n                <p>isChrome: ${Browser.isChrome}</p>\n                <p>isBlink: ${Browser.isBlink}</p>\n            </div>\n        `;\n    }\n}\n","module.exports = __webpack_public_path__ + \"img/sochain.33cd20ec.png\";","module.exports = __webpack_public_path__ + \"img/quandl.c53e90c0.svg\";"],"sourceRoot":""}