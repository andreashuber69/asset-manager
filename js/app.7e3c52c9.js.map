{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0675","webpack:///./src/assets/cryptocompare.png","webpack:///./src/model/Application.ts","webpack:///./src/App.vue?9ba5","webpack:///./src/components/AboutDialog.vue?1a5b","webpack:///./src/components/AboutDialog.vue.ts","webpack:///./src/components/AboutDialog.vue.ts?67a1","webpack:///./src/components/AboutDialog.vue","webpack:///./src/components/AssetList.vue?ff4c","webpack:///./src/model/validation/schemas/WeightUnit.schema.ts","webpack:///./src/model/AssetPropertyNames.ts","webpack:///./src/model/CalculatedAssetPropertyNames.ts","webpack:///./src/model/Ordering.ts","webpack:///./src/components/AssetEditor.vue?2a59","webpack:///./src/model/QueryError.ts","webpack:///./src/model/validation/ValidationError.ts","webpack:///./src/model/validation/Validator.ts","webpack:///./src/model/QueryCache.ts","webpack:///./src/model/validation/schemas/CryptoCompareResponse.schema.ts","webpack:///./src/model/CryptoCompareRequest.ts","webpack:///./src/model/QueryUtility.ts","webpack:///./src/model/Asset.ts","webpack:///./src/model/SingleAsset.ts","webpack:///./src/model/CryptoWallet.ts","webpack:///./src/model/RealCryptoWallet.ts","webpack:///./src/model/AssetBundle.ts","webpack:///./src/model/GenericAssetBundle.ts","webpack:///./src/model/SimpleCryptoWallet.ts","webpack:///./src/model/validation/schemas/BlockchainBalanceResponse.schema.ts","webpack:///./src/model/BtcWallet.ts","webpack:///./src/model/BtgWallet.ts","webpack:///./src/model/Input.ts","webpack:///./src/model/InputInfo.ts","webpack:///./src/model/PrimitiveInputInfo.ts","webpack:///./src/model/TextInputInfo.ts","webpack:///./src/model/AssetInputInfo.ts","webpack:///./src/model/EnumInfo.ts","webpack:///./src/model/SelectInputInfo.ts","webpack:///./src/model/CryptoWalletInputInfo.ts","webpack:///./src/model/validation/schemas/BlockcypherBalanceResponse.schema.ts","webpack:///./src/model/BlockcypherWallet.ts","webpack:///./src/model/DashWallet.ts","webpack:///./src/model/Erc20TokenWallet.ts","webpack:///./src/model/validation/schemas/DeletedAssets.schema.ts","webpack:///./src/model/validation/schemas/EthplorerGetAddressInfoResponse.schema.ts","webpack:///./src/model/Erc20TokensWalletBundle.ts","webpack:///./src/model/Erc20TokensWallet.ts","webpack:///./src/model/validation/schemas/BlockscoutBalanceResponse.schema.ts","webpack:///./src/model/EtcWallet.ts","webpack:///./src/model/EthWallet.ts","webpack:///./src/model/validation/schemas/QuandlResponse.schema.ts","webpack:///./src/model/QuandlRequest.ts","webpack:///./src/model/PreciousMetalAsset.ts","webpack:///./src/model/validation/schemas/Currency.schema.ts","webpack:///./src/model/GoldAsset.ts","webpack:///./src/model/LtcWallet.ts","webpack:///./src/model/ExchangeRate.ts","webpack:///./src/model/validation/schemas/AssetType.schema.ts","webpack:///./src/model/MiscAsset.ts","webpack:///./src/model/MiscAssetInputInfo.ts","webpack:///./src/model/PalladiumAsset.ts","webpack:///./src/model/PlatinumAsset.ts","webpack:///./src/model/PreciousMetalAssetInputInfo.ts","webpack:///./src/model/SilverAsset.ts","webpack:///./src/model/validation/schemas/IErc20TokensWallet.schema.ts","webpack:///./src/model/validation/schemas/IMiscAsset.schema.ts","webpack:///./src/model/validation/schemas/IPreciousMetalAsset.schema.ts","webpack:///./src/model/validation/schemas/ISimpleCryptoWallet.schema.ts","webpack:///./src/model/validation/schemas/ZchainGetAccountResponse.schema.ts","webpack:///./src/model/ZecWallet.ts","webpack:///./src/model/ObjectConverter.ts","webpack:///./src/model/AssetEditorData.ts","webpack:///./src/model/AssetInput.ts","webpack:///./src/model/AssetProperties.ts","webpack:///./src/components/NoAssetInputInfo.ts","webpack:///./src/components/Select.vue?a21c","webpack:///./src/components/ComponentBase.ts","webpack:///./src/components/ControlBase.ts","webpack:///./src/components/Select.vue.ts","webpack:///./src/components/Select.vue.ts?1e42","webpack:///./src/components/Select.vue","webpack:///./src/components/TextArea.vue?37b7","webpack:///./src/components/TextArea.vue.ts","webpack:///./src/components/TextArea.vue.ts?9a5c","webpack:///./src/components/TextArea.vue","webpack:///./src/components/TextField.vue?516a","webpack:///./src/components/TextField.vue.ts","webpack:///./src/components/TextField.vue.ts?9cfe","webpack:///./src/components/TextField.vue","webpack:///./src/components/AssetEditor.vue.ts","webpack:///./src/components/AssetEditor.vue.ts?425b","webpack:///./src/components/AssetEditor.vue","webpack:///./src/components/AssetListRow.vue?5ae6","webpack:///./src/components/ColumnInfo.ts","webpack:///./src/components/Format.ts","webpack:///./src/components/AssetListRow.vue.ts","webpack:///./src/components/AssetListRow.vue.ts?6479","webpack:///./src/components/AssetListRow.vue","webpack:///./src/components/AssetList.vue.ts","webpack:///./src/components/AssetList.vue.ts?7e4b","webpack:///./src/components/AssetList.vue","webpack:///./src/components/BrowserDialog.vue?a18a","webpack:///./src/components/BrowserDialog.vue.ts","webpack:///./src/components/BrowserDialog.vue.ts?fcfe","webpack:///./src/components/BrowserDialog.vue","webpack:///./src/components/SaveAsDialog.vue?deb0","webpack:///./src/components/SaveAsDialog.vue.ts","webpack:///./src/components/SaveAsDialog.vue.ts?5c59","webpack:///./src/components/SaveAsDialog.vue","webpack:///./src/model/AssetCollectionUtility.ts","webpack:///./src/model/AssetGroup.ts","webpack:///./src/model/TaskQueue.ts","webpack:///./src/model/AssetCollection.ts","webpack:///./src/model/Model.ts","webpack:///./src/model/validation/schemas/TaggedModel.schema.ts","webpack:///./src/model/ModelParser.ts","webpack:///./src/Parser.ts","webpack:///./src/LocalStorage.ts","webpack:///./src/App.vue.ts","webpack:///./src/App.vue.ts?1b82","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.ts","webpack:///./src/app-main.ts","webpack:///./src/assets/bitcoingold.png","webpack:///./src/assets/background.png","webpack:///./src/assets/blockcypher.svg","webpack:///./src/assets/blockchain.svg","webpack:///./src/components/AssetList.vue?32b1","webpack:///./src/assets/blockscout.svg","webpack:///./src/assets/ethplorer.png","webpack:///./src/components/AssetListRow.vue?341e","webpack:///./src/Browser.ts","webpack:///./src/main.ts","webpack:///./src/assets/quandl.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","__webpack_exports__","Application","_package_json__WEBPACK_IMPORTED_MODULE_0__","packageName","split","map","toUpperCase","substr","join","version","render","_vm","this","_h","$createElement","_c","_self","attrs","id","dark","temporary","model","callback","$$v","isDrawerVisible","expression","dense","on","click","onNewClicked","_v","onOpenClicked","ref","staticStyle","display","type","accept","fileExtension","change","onFileInputChanged","onSaveClicked","onSaveAsClicked","onAboutClicked","color","$event","stopPropagation","onMenuClicked","staticClass","_s","title","icon","$refs","assetList","onAdd","onRefreshClicked","max-height","slot","groupBy","_l","newGroupBy","domProps","textContent","currency","newCurrency","width","style","background-image","background-repeat","justify-center","staticRenderFns","AboutDialogvue_type_template_id_b493f704_scoped_true_render","isOpen","grid-list-md","text-xs-center","row","wrap","xs12","flat","Date","now","getUTCFullYear","sm4","href","target","block","sm6","md4","src","contain","max-width","userAgent","AboutDialogvue_type_template_id_b493f704_scoped_true_staticRenderFns","AboutDialog_vuevue_type_script_lang_ts_AboutDialog","_super","AboutDialog","_this","arguments","tslib_es6","desktopVersion","includes","navigator","showDialog","prefix","start","indexOf","substring","vue_property_decorator","AboutDialog_vuevue_type_script_lang_ts_","components_AboutDialog_vuevue_type_script_lang_ts_","component","componentNormalizer","components_AboutDialog","installComponents_default","VBtn","VCard","VCardActions","components_VCard","VCardText","VCardTitle","VContainer","VDialog","VFlex","VImg","VLayout","VSpacer","VGrid","WeightUnit","AssetListvue_type_template_id_420ce7a4_scoped_true_render","items","checkedValue","assets","grouped","item-key","pagination","loading","isLoading","headers-length","total-items","hide-actions","update:pagination","scopedSlots","_u","fn","props","class","getHeaderClass","ordering","changeSort","groupByLabel","small","otherGroupBys","otherGroupByLabels","colspan","item","visibleColumnCount","optionalColumnCount","edit","onEdit","delete","onDelete","indeterminate","getFooterClass","grandTotalLabelColumnCount","grandTotalValueInteger","grandTotalValueFraction","AssetListvue_type_template_id_420ce7a4_scoped_true_staticRenderFns","AssetPropertyNames","getPropertyName","description","location","notes","CalculatedAssetPropertyNames","unit","unitValue","totalValue","percent","Ordering_Ordering","Ordering","params","groupBys","onGroupChanged","onSortChanged","groupByImpl","sortImpl","sort","by","descending","isSortBy","sortBy","g","capitalize","Array","from","str","AssetEditorvue_type_template_id_2cc25028_scoped_true_render","persistent","large","info","typeInputInfo","assetInfo","nativeOn","onCancelClicked","AssetEditorvue_type_template_id_2cc25028_scoped_true_staticRenderFns","QueryError_QueryError","QueryError","message","setPrototypeOf","Error","ValidationError_ValidationError","ValidationError","primitiveSchemaNames","Boolean","Number","String","Validator_Validator","Validator","fromJson","json","ctor","fromData","JSON","parse","isSchemaName","validationResult","validate","ajv","errorsText","isPrimitiveSchemaName","assign","schemaName","getSchemaKeyRef","getSchema","getPrimitiveSchema","All_schema","definitions","createAjv","ajv_default","a","multipleOfPrecision","addSchema","customSchemaKey","forEach","toLowerCase","QueryCache_QueryCache","QueryCache","fetch","query","responseCtor","cacheResult","fetchParseAndValidate","fetchAndParse","clear","cache","getResponse","set","response","_a","sent","e","text","responseText","e_1","Map","CryptoCompareResponse","CryptoCompareRequest_CryptoCompareRequest","CryptoCompareRequest","coin","invert","execute","price","USD","QueryUtility_QueryUtility","QueryUtility","_b","status","NaN","Asset_Asset","Asset","parent","nextKey","unitValueHintImpl","multiply","unitValueUsd","exchangeRate","quantity","undefined","grandTotalValue","queryData","Promise","queryUnitValueUsd","bundle","expand","reject","getCalculatedPropertyName","factor1","factor2","addressName","weightName","weightUnitName","finenessName","valueName","valueCurrencyName","quantityName","SingleAsset_SingleAsset","SingleAsset","quantityHint","CryptoWallet_CryptoWallet","CryptoWallet","currencySymbol","displayDecimals","address","RealCryptoWallet_RealCryptoWallet","RealCryptoWallet","queryQuantity","getProperties","_getProperties","resolve","AssetBundle","primaryAssetName","GenericAssetBundle_GenericAssetBundle","GenericAssetBundle","asset","deleteAsset","index","SimpleCryptoWallet_SimpleCryptoWallet","SimpleCryptoWallet","Bundle","toJSON","NestedBundle","primaryAsset","BlockchainBalanceResponse","BtcWallet_BtcWallet","BtcWallet","QuantityRequest","BlockchainRequest","NestedBlockchainRequest","addresses","getFinalBalance","finalBalance","transactionCount","addBalance","isNaN","final_balance","n_tx","NestedQuantityRequest","add","delay","fromBase58","addChain","derive","milliseconds","setTimeout","getBatch","node","offset","batchLength","getAddress","unusedAddressesToCheck","minUnusedAddressesToCheck","batch","BtgWallet_BtgWallet","BtgWallet","url","InputUtility","isComposite","input","InputInfo_InputInfo","InputInfo","strict","propertyName","validateComposite","validatePrimitive","PrimitiveInputInfo_PrimitiveInputInfo","PrimitiveInputInfo","label","hint","isPresent","isRequired","validateContent","TextInputInfo_TextInputInfo","TextInputInfo","getValue","isNumber","valueResult","validateValue","min","max","step","parseFloat","AssetInputInfo_AssetInputInfo","AssetInputInfo","includeRelations","singleResult","validateRelations","EnumInfo","getMemberNames","enumType","SelectInputInfo_SelectInputInfoBase","SelectInputInfoBase","SelectInputInfo_SelectInputInfo","SelectInputInfo","enumSchemaNames","reduce","CryptoWalletInputInfo_CryptoWalletInputInfo","CryptoWalletInputInfo","addressHint","quantityDecimals","weight","weightUnit","fineness","valueCurrency","getQuantityInputInfo","createAsset","isUndefined","BlockcypherBalanceResponse","BlockcypherWallet_BlockcypherWallet","BlockcypherWallet","balance","DashWallet_DashWallet","DashWallet","Erc20TokenWallet_Erc20TokenWallet","Erc20TokenWallet","editable","DeletedAssets","EthplorerGetAddressInfoResponse","Erc20TokensWalletBundle_Erc20TokensWalletBundle","Erc20TokensWalletBundle","erc20Wallet","deletedAssets","_d","balances","tokens","next","done","token","addTokenWallet","console","warn","tokenInfo","symbol","Math","pow","decimals","toString","rate","Erc20TokensWallet_Erc20TokensWallet","Erc20TokensWallet","BlockscoutBalanceResponse","EtcWallet_EtcWallet","EtcWallet","parseInt","isFinite","EthWallet_EthWallet","EthWallet","ETH","QuandlResponse","QuandlRequest_QuandlRequest","QuandlRequest","path","dataset","Currency","PreciousMetalAsset_PreciousMetalAsset","PreciousMetalAsset","quandlPath","pureGramsPerUnit","getUnit","toLocaleString","unitFormatOptions","maximumFractionDigits","minimumFractionDigits","useGrouping","GoldAsset_GoldAsset","GoldAsset","LtcWallet_LtcWallet","LtcWallet","AssetType","ExchangeRate_ExchangeRate","ExchangeRate","request","currencyMap","AUD","CAD","CNY","CHF","CZK","DKK","GBP","HKD","HUF","INR","JPY","KRW","LTL","MYR","NIS","NOK","NZD","PLN","RUB","SAR","SEK","SGD","THB","TRY","TWD","ZAR","XAG","XAU","BTC","MiscAsset_MiscAsset","MiscAsset","MiscAssetInputInfo_MiscAssetInputInfo","MiscAssetInputInfo","PalladiumAsset_PalladiumAsset","PalladiumAsset","PlatinumAsset_PlatinumAsset","PlatinumAsset","PreciousMetalAssetInputInfo_PreciousMetalAssetInputInfo","PreciousMetalAssetInputInfo","SilverAsset_SilverAsset","SilverAsset","erc20TokensWalletTypeNames","miscAssetTypeNames","preciousMetalAssetTypeNames","simpleCryptoWalletTypeNames","ZchainGetAccountResponse","ZecWallet_ZecWallet","ZecWallet","btcHint","ltcHint","etcHint","ethHint","erc20Hint","btgHint","dashHint","zecHint","ObjectConverter_ObjectConverter","ObjectConverter","convert","rawObject","convertPreciousMetalObject","convertSimpleCryptoObject","convertErc20TokensObject","convertMiscObject","is","getInfo","getUnhandledError","types","infos","find","AssetEditorData_AssetEditorData","AssetEditorData","getType","getDescription","getLocation","getWeight","getWeightUnit","getFineness","getValueCurrency","getQuantity","getNotes","isPreciousMetalAsset","isMiscAsset","isType","rawAsset","AssetInput_AssetInput","AssetInput","AssetProperties_AssetProperties","AssetProperties","AssetProperties_RequiredQuantityAssetProperties","RequiredQuantityAssetProperties","AssetProperties_RequiredAddressAssetProperties","RequiredAddressAssetProperties","getPreciousMetalProperties","getSimpleCryptoWalletProperties","getErc20TokensWalletProperties","getMiscAssetProperties","NoAssetInputInfo_NoAssetInputInfo","NoAssetInputInfo","Selectvue_type_template_id_1c155300_scoped_true_render","sm12","md6","required","rules","propertyValue","_e","Selectvue_type_template_id_1c155300_scoped_true_staticRenderFns","ComponentBase_ComponentBase","ComponentBase","$emit","getControl","ControlBase_ControlBase","ControlBase","primitiveInputInfo","checkedProperty","checkedInfo","Select_vuevue_type_script_lang_ts_Select","Select","Select_vuevue_type_script_lang_ts_","components_Select_vuevue_type_script_lang_ts_","Select_component","components_Select","VSelect","TextAreavue_type_template_id_17323bf9_scoped_true_render","TextAreavue_type_template_id_17323bf9_scoped_true_staticRenderFns","TextArea_vuevue_type_script_lang_ts_TextArea","TextArea","TextArea_vuevue_type_script_lang_ts_","components_TextArea_vuevue_type_script_lang_ts_","TextArea_component","components_TextArea","VTextarea","TextFieldvue_type_template_id_02bdd4b9_scoped_true_render","TextFieldvue_type_template_id_02bdd4b9_scoped_true_staticRenderFns","TextField_vuevue_type_script_lang_ts_TextField","TextField","TextField_vuevue_type_script_lang_ts_","components_TextField_vuevue_type_script_lang_ts_","TextField_component","components_TextField","VTextField","AssetEditor_vuevue_type_script_lang_ts_AssetEditor","AssetEditor","isExistingAsset","event","isValid","close","AssetEditor_1","getAssetInfo","editableAsset","form","reset","components","AssetEditor_vuevue_type_script_lang_ts_","components_AssetEditor_vuevue_type_script_lang_ts_","AssetEditor_component","components_AssetEditor","VForm","AssetListRowvue_type_template_id_9e2807a4_scoped_true_render","onRowClicked","getClass","isExpanded","groupByHint","groupByContent","otherGroupByHints","otherGroupByContents","finenessInteger","finenessFraction","unitValueInteger","unitValueHint","unitValueFraction","quantityInteger","quantityFraction","totalValueInteger","totalValueFraction","percentInteger","percentFraction","onEditClicked","onDeleteClicked","AssetListRowvue_type_template_id_9e2807a4_scoped_true_staticRenderFns","ColumnInfo_ColumnInfo","ColumnInfo","allColumnCounts","getRawCount","rawColumnCounts","columnName","getHidden","getAlignment","getPadding","getTotal","getName","getColumns","expandName","percentIntegerName","percentFractionName","moreName","grandTotalLabelName","totalValueIntegerName","totalValueFractionName","quantityIntegerName","quantityFractionName","unitValueIntegerName","unitValueFractionName","finenessIntegerName","finenessFractionName","allColumns","columnPadding","leftClass","rightClass","Format","integer","num","formatted","format","getDecimalPointPosition","fraction","decimalPointPosition","lastIndexOf","AssetListRow_vuevue_type_script_lang_ts_AssetListRow","AssetListRow","getHint","trunc","AssetListRow_1","finenessFormatOptions","checkedOptionalColumnCount","locationHint","AssetListRow_vuevue_type_script_lang_ts_","components_AssetListRow_vuevue_type_script_lang_ts_","AssetListRow_component","components_AssetListRow","VIcon","VList","VListTile","VListTileTitle","components_VList","VMenu","AssetList_vuevue_type_script_lang_ts_AssetList","AssetList","optionalColumnCountImpl","maxOptionalCount","previousOffset","paginationImpl","rowsPerPage","currentSort","assetEditor","newAsset","changedAsset","replace","mounted","timer","setInterval","onIntervalElapsed","beforeDestroy","clearInterval","element","$el","offsetLeft","offsetWidth","requiredColumnCount","AssetList_vuevue_type_script_lang_ts_","components_AssetList_vuevue_type_script_lang_ts_","AssetList_component","components_AssetList","VDataTable","VProgressLinear","BrowserDialogvue_type_template_id_7c3f0ca1_scoped_true_render","applicationTitle","dontShowDialog","BrowserDialogvue_type_template_id_7c3f0ca1_scoped_true_staticRenderFns","BrowserDialog_vuevue_type_script_lang_ts_BrowserDialog","BrowserDialog","BrowserDialog_1","isUntestedBrowser","localStorage","getItem","dontShowBrowserDialogName","setItem","test","BrowserDialog_vuevue_type_script_lang_ts_","components_BrowserDialog_vuevue_type_script_lang_ts_","BrowserDialog_component","components_BrowserDialog","VCheckbox","SaveAsDialogvue_type_template_id_04a597f2_scoped_true_render","submit","preventDefault","nameInfo","SaveAsDialogvue_type_template_id_04a597f2_scoped_true_staticRenderFns","SaveAsDialog_vuevue_type_script_lang_ts_SaveAsDialog","SaveAsDialog","SaveAsDialog_vuevue_type_script_lang_ts_","components_SaveAsDialog_vuevue_type_script_lang_ts_","SaveAsDialog_component","components_SaveAsDialog","AssetCollectionUtility_AssetCollectionUtility","AssetCollectionUtility","groups","compare","groups_1","groups_1_1","group","left","right","compareImpl","leftProperty","rightProperty","AssetGroup_AssetGroup","AssetGroup","coalesce","addend1","addend2","getProperty","previous","TaskQueue_TaskQueue","TaskQueue","queue","executeTask","current","executeAfterPrevious","idle","createTask","AssetCollection_AssetCollection","AssetCollection","taskQueue","bundles","update","notifyChanged","findIndex","b","oldAsset","queryBundleData","newBundles","_i","updateImpl","catch","error","updateGroups","promises","size","waitForResponses","delayId","MAX_SAFE_INTEGER","has","race","values","newGroups","getGroups","newGroup","existingGroup","this_1","newGroups_1","newGroups_1_1","addGroups","assets_1","assets_1_1","groupName","groupAssets","Model_Model","Model","currencyImpl","currencies","wasSavedToFile","hasUnsavedChangesImpl","hasUnsavedChanges","createBundles","onChanged","onCurrencyChanged","toJsonString","stringify","onCurrencyChangedImpl","reason","TaggedModel","ModelParser_ModelParser","ModelParser","parseBundles","createBundle","rawBundle","Parser_Parser","Parser","alert","LocalStorage_LocalStorage","LocalStorage","load","localStorageKey","sessionStorage","sessionLocalStorageKey","loadExistingSession","loadNewSession","save","saveImpl","openNewWindow","URL","pathname","origin","searchParams","append","emptyModelLocalStorageKey","sessionForceLoadFromLocalStorageKey","open","performance","navigation","TYPE_RELOAD","loadModel","oldKeys","getOldKeys","oldKeys_1","oldKeys_1_1","oldKey","isEmpty","trySaveToLocalStorage","removeItem","uniqueNumber","random","isSafeInteger","uniqueKey","oldKeyNumber","App_vuevue_type_script_lang_ts_App","App","App_1","initModel","addEventListener","ev","onBeforeUnload","fileInput","onFileInputChangedImpl","write","saveAsDialog","newName","aboutDialog","groupByLabels","rawGroupBy","read","blob","reader","FileReader","onload","onerror","readAsText","document","files","file","endsWith","Blob","msSaveOrOpenBlob","msSaveBlob","fileName","elem","createElement","createObjectURL","download","body","appendChild","removeChild","App_vuevue_type_script_lang_ts_","src_App_vuevue_type_script_lang_ts_","App_component","src_App","VApp","VContent","VListTileAction","VListTileContent","VNavigationDrawer","VToolbar","VToolbarSideIcon","VToolbarTitle","components_VToolbar","vue_runtime_esm","use","lib","iconfont","runtime","config","productionTip","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetList_vue_vue_type_style_index_0_id_420ce7a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetList_vue_vue_type_style_index_0_id_420ce7a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetListRow_vue_vue_type_style_index_0_id_9e2807a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetListRow_vue_vue_type_style_index_0_id_9e2807a4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Browser","isFirefox","getVersion","isSafari","isIE","isBlink","versionPrefix","versionIndex","isOpera","opr","addons","opera","InstallTrigger","HTMLElement","safari","pushNotification","documentMode","isEdge","StyleMedia","isChrome","chrome","webstore","CSS","isCompatible","search","URLSearchParams","appElement","getElementById","innerHTML"],"mappings":"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","file":"js/app.7e3c52c9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/net-worth/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/cryptocompare.6eae0308.png\";","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line: no-default-import\nimport packageJson from \"../../package.json\";\n\nexport class Application {\n    public static get packageName() {\n        return packageJson.name;\n    }\n\n    public static get title() {\n        return Application.packageName.split(\"-\").map((c) => `${c[0].toUpperCase()}${c.substr(1)}`).join(\" \");\n    }\n\n    public static get version() {\n        return packageJson.version;\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"dark\":\"\",\"temporary\":\"\"},model:{value:(_vm.isDrawerVisible),callback:function ($$v) {_vm.isDrawerVisible=$$v},expression:\"isDrawerVisible\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-tile',{on:{\"click\":_vm.onNewClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"note_add\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"New\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onOpenClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"open_in_browser\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Open...\")]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":_vm.model.fileExtension},on:{\"change\":_vm.onFileInputChanged}})],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onSaveClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Save\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onSaveAsClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Save As...\")])],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onAboutClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"help\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"About\")])],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"app\":\"\",\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onMenuClicked($event)}}}),_c('v-toolbar-title',{staticClass:\"hidden-xs-only\"},[_c('v-icon',[_vm._v(\"account_balance_wallet\")]),_vm._v(\"  \"+_vm._s(_vm.model.title))],1),_c('v-spacer'),_c('v-btn',{staticClass:\"ml-1 mr-0\",attrs:{\"icon\":\"\",\"title\":\"Add new asset\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.assetList.onAdd($event)}}},[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-btn',{staticClass:\"ml-1 mr-0\",attrs:{\"icon\":\"\",\"title\":\"Refresh\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onRefreshClicked($event)}}},[_c('v-icon',[_vm._v(\"refresh\")])],1),_c('v-menu',{attrs:{\"title\":\"Change grouping\",\"max-height\":\"300px\"}},[_c('v-toolbar-title',{staticClass:\"ml-2 mr-0\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',[_vm._v(_vm._s(_vm.groupBy))]),_c('v-icon',[_vm._v(\"arrow_drop_down\")])],1),_c('v-list',_vm._l((_vm.groupBys),function(newGroupBy){return _c('v-list-tile',{key:newGroupBy,on:{\"click\":function($event){_vm.groupBy = newGroupBy}}},[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(newGroupBy)}})],1)}),1)],1),_c('v-menu',{attrs:{\"title\":\"Change valuation currency\",\"max-height\":\"300px\"}},[_c('v-toolbar-title',{staticClass:\"ml-2 mr-3\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',[_vm._v(_vm._s(_vm.model.currency))]),_c('v-icon',[_vm._v(\"arrow_drop_down\")])],1),_c('v-list',_vm._l((_vm.model.currencies),function(newCurrency){return _c('v-list-tile',{key:newCurrency,on:{\"click\":function($event){_vm.model.currency = newCurrency}}},[_c('v-list-tile-title',{staticStyle:{\"width\":\"50px\"},domProps:{\"textContent\":_vm._s(newCurrency)}})],1)}),1)],1)],1),_c('v-content',{style:({\n      'background-image': (\"url(\" + (require('./assets/background.png')) + \")\"),\n      'background-repeat': 'repeat'\n    })},[_c('v-container',[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('BrowserDialog'),_c('AssetList',{ref:\"assetList\",attrs:{\"value\":_vm.model}}),_c('SaveAsDialog',{ref:\"saveAsDialog\"}),_c('AboutDialog',{ref:\"aboutDialog\"})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"960px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))]),_c('v-container',{attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"subheading px-0\"},[_vm._v(\"Copyright © 2018-\"+_vm._s(new Date(Date.now()).getUTCFullYear())+\" Andreas Huber Dönni\")])],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":(\"https://github.com/andreashuber69/\" + _vm.packageName + \"/blob/master/README.md#--\"),\"target\":\"_blank\",\"color\":\"primary\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            Documentation\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":(\"https://github.com/andreashuber69/\" + _vm.packageName + \"/issues\"),\"target\":\"_blank\",\"color\":\"primary\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            Issues\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":(\"https://raw.githubusercontent.com/andreashuber69/\" + _vm.packageName + \"/master/LICENSE\"),\"target\":\"_blank\",\"color\":\"primary\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            License\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"subheading px-0\"},[_vm._v(\"\\n              This application would not work without the help of the following data providers, who generously offer\\n              their services free of charge:\\n            \")])],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://cryptocompare.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/cryptocompare.png'),\"max-height\":\"36\",\"contain\":\"\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://blockchain.info\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/blockchain.svg'),\"max-height\":\"36\",\"contain\":\"\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://blockcypher.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/blockcypher.svg'),\"max-height\":\"36\",\"contain\":\"\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://blockscout.com/etc/mainnet\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/blockscout.svg'),\"max-width\":\"36\",\"max-height\":\"36\",\"contain\":\"\"}}),_c('span',[_vm._v(\"blockscout.com\")])],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://ethplorer.io\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/ethplorer.png'),\"max-height\":\"36\",\"contain\":\"\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://explorer.bitcoingold.org\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/bitcoingold.png'),\"max-height\":\"36\",\"contain\":\"\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://zcha.in\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_vm._v(\"\\n            ZCHAIN\\n          \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"href\":\"https://quandl.com\",\"target\":\"_blank\",\"block\":\"\",\"flat\":\"\"}},[_c('v-img',{attrs:{\"src\":require('@/assets/quandl.svg'),\"max-height\":\"36\",\"contain\":\"\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"caption px-0\"},[_vm._v(_vm._s(_vm.userAgent))])],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.isOpen = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\nimport { Application } from \"../model/Application\";\n\n@Component\n/** Implements the About dialog. */\n// tslint:disable-next-line:no-default-export\nexport default class AboutDialog extends Vue {\n    /** Provides a value indicating whether the dialog is currently open. */\n    public isOpen = false;\n\n    public get title() {\n        return `${Application.title} v${Application.version}${this.desktopVersion}`;\n    }\n\n    public get packageName() {\n        return Application.packageName + (this.userAgent.includes(\"Electron\") ? \"-desktop\" : \"\");\n    }\n\n    public get userAgent() {\n        return window.navigator.userAgent;\n    }\n\n    public showDialog() {\n        this.isOpen = true;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get desktopVersion() {\n        const userAgent = window.navigator.userAgent;\n        const prefix = `${Application.packageName}/`;\n        const start = userAgent.indexOf(prefix) + prefix.length;\n\n        return start >= prefix.length ? ` (Desktop v${userAgent.substring(start, userAgent.indexOf(\" \", start))})` : \"\";\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AboutDialog.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AboutDialog.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AboutDialog.vue?vue&type=template&id=b493f704&scoped=true&\"\nimport script from \"./AboutDialog.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AboutDialog.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b493f704\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VFlex,VImg,VLayout,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('AssetEditor',{ref:\"editor\"})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"items\":_vm.checkedValue.assets.grouped,\"item-key\":\"key\",\"pagination\":_vm.pagination,\"loading\":_vm.isLoading,\"headers-length\":16,\"total-items\":_vm.checkedValue.assets.grouped.length,\"hide-actions\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [_c('th',{class:_vm.getHeaderClass('expand')}),_c('th',{class:_vm.getHeaderClass(_vm.checkedValue.assets.ordering.groupBy),on:{\"click\":function($event){return _vm.changeSort(_vm.checkedValue.assets.ordering.groupBy)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkedValue.assets.ordering.groupByLabel)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass(_vm.checkedValue.assets.ordering.otherGroupBys[0]),on:{\"click\":function($event){return _vm.changeSort(_vm.checkedValue.assets.ordering.otherGroupBys[0])}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkedValue.assets.ordering.otherGroupByLabels[0])+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass('description'),on:{\"click\":function($event){return _vm.changeSort('description')}}},[_vm._v(\"\\n        Description \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:_vm.getHeaderClass('unit')},[_vm._v(\"Unit\")]),_c('th',{class:_vm.getHeaderClass('fineness'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"Fineness\")]),_c('th',{class:_vm.getHeaderClass('unitValue'),attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){return _vm.changeSort('unitValue')}}},[_vm._v(\"\\n        Unit Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.currency)+\")\\n      \")],1),_c('th',{class:_vm.getHeaderClass('quantity'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"Quantity\")]),_c('th',{class:_vm.getHeaderClass('totalValue'),attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){return _vm.changeSort('totalValue')}}},[_vm._v(\"\\n        Total Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.currency)+\")\\n      \")],1),_c('th',{class:_vm.getHeaderClass('percent'),attrs:{\"colspan\":\"2\"}},[_vm._v(\"%\")]),_c('th',{class:_vm.getHeaderClass('more')})]}},{key:\"items\",fn:function(props){return [_c('AssetListRow',{attrs:{\"value\":props.item,\"visibleColumnCount\":_vm.optionalColumnCount},on:{\"edit\":_vm.onEdit,\"delete\":_vm.onDelete}})]}}])},[_c('v-progress-linear',{attrs:{\"slot\":\"progress\",\"indeterminate\":\"\"},slot:\"progress\"}),_c('div',{staticClass:\"text-xs-center\",attrs:{\"slot\":\"no-data\"},slot:\"no-data\"},[_vm._v(\"\\n      No assets, yet. Add new ones with the \"),_c('strong',[_vm._v(\"+\")]),_vm._v(\" button (top right) or load existing assets with\\n      \"),_c('strong',[_vm._v(\"Open...\")]),_vm._v(\" in the menu (top left).\\n    \")]),_c('template',{slot:\"footer\"},[_c('td',{class:_vm.getFooterClass('grandTotalLabel'),attrs:{\"colspan\":_vm.grandTotalLabelColumnCount}},[_vm._v(\"Grand Total\")]),_c('td',{class:_vm.getFooterClass('totalValueInteger')},[_vm._v(_vm._s(_vm.grandTotalValueInteger))]),_c('td',{class:_vm.getFooterClass('totalValueFraction')},[_vm._v(_vm._s(_vm.grandTotalValueFraction))]),_c('td',{class:_vm.getFooterClass('percentInteger')},[_vm._v(\"100\")]),_c('td',{class:_vm.getFooterClass('percentFraction')},[_vm._v(\".0\")]),_c('td',{class:_vm.getFooterClass('more')})])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the weight units supported by the application. */\nexport enum WeightUnit {\n    \"g\" = 1,\n    \"kg\" = 1000,\n    \"gr\" = 0.06479891, // https://en.wikipedia.org/wiki/Grain_(unit)\n    \"t oz\" = gr * 480, // https://en.wikipedia.org/wiki/Ounce\n    \"oz\" = gr * 437.5, // https://en.wikipedia.org/wiki/Ounce\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAsset } from \"./validation/schemas/IAssetProperties.schema\";\n\nexport abstract class AssetPropertyNames {\n    public static readonly type = AssetPropertyNames.getPropertyName(\"type\");\n    public static readonly description = AssetPropertyNames.getPropertyName(\"description\");\n    public static readonly location = AssetPropertyNames.getPropertyName(\"location\");\n    public static readonly notes = AssetPropertyNames.getPropertyName(\"notes\");\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPropertyName<T extends keyof IAsset>(name: T) {\n        return name;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { ICalculatedAssetProperties } from \"./validation/schemas/ICalculatedAssetProperties.schema\";\n\nexport abstract class CalculatedAssetPropertyNames {\n    public static readonly unit = CalculatedAssetPropertyNames.getPropertyName(\"unit\");\n    public static readonly unitValue = CalculatedAssetPropertyNames.getPropertyName(\"unitValue\");\n    public static readonly totalValue = CalculatedAssetPropertyNames.getPropertyName(\"totalValue\");\n    public static readonly percent = CalculatedAssetPropertyNames.getPropertyName(\"percent\");\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPropertyName<T extends keyof ICalculatedAssetProperties>(name: T) {\n        return name;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyNames } from \"./AssetPropertyNames\";\nimport { CalculatedAssetPropertyNames } from \"./CalculatedAssetPropertyNames\";\nimport { GroupBy } from \"./validation/schemas/GroupBy.schema\";\nimport { ISort } from \"./validation/schemas/ISort.schema\";\nimport { SortBy } from \"./validation/schemas/SortBy.schema\";\n\ninterface IOrderingParameters {\n    // tslint:disable-next-line:prefer-method-signature\n    readonly onGroupChanged: () => void;\n    // tslint:disable-next-line:prefer-method-signature\n    readonly onSortChanged: () => void;\n    readonly groupBy?: GroupBy;\n    readonly sort?: ISort;\n}\n\nexport interface IOrdering {\n    readonly groupBy: GroupBy;\n    readonly otherGroupBys: GroupBy[];\n}\n\n/** Provides information how assets are ordered (grouped and sorted) in the main model of the application. */\nexport class Ordering implements IOrdering {\n    /** Provides the property names by which the asset list can be grouped. */\n    public static readonly groupBys: GroupBy[] = [ AssetPropertyNames.type, AssetPropertyNames.location ];\n\n    public static isSortBy(sortBy: string | undefined): sortBy is SortBy {\n        switch (sortBy) {\n            case AssetPropertyNames.type:\n            case AssetPropertyNames.description:\n            case AssetPropertyNames.location:\n            case CalculatedAssetPropertyNames.unitValue:\n            case CalculatedAssetPropertyNames.totalValue:\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    /** Provides the property names by which the asset list can be grouped. */\n    public readonly groupBys = Ordering.groupBys;\n\n    /** Provides the labels for the properties by which the asset list can be grouped. */\n    public get groupByLabels() {\n        return this.groupBys.map((g) => Ordering.capitalize(g));\n    }\n\n    /** Provides the name of the property by which the asset list is currently grouped. */\n    public get groupBy() {\n        return this.groupByImpl;\n    }\n\n    public set groupBy(groupBy: GroupBy) {\n        this.groupByImpl = groupBy;\n        this.onGroupChanged();\n    }\n\n    /** Provides the label for the property by which the asset list is currently grouped. */\n    public get groupByLabel() {\n        return Ordering.capitalize(this.groupBy);\n    }\n\n    /** Provides the property names by which the asset list is currently *not* grouped. */\n    public get otherGroupBys() {\n        const result = Array.from(this.groupBys);\n        result.splice(result.indexOf(this.groupBy), 1);\n\n        return result;\n    }\n\n    /** Provides the labels for the properties by which the asset list is currently *not* grouped. */\n    public get otherGroupByLabels() {\n        return this.otherGroupBys.map((g) => Ordering.capitalize(g));\n    }\n\n    /** Provides information on how to sort the asset list. */\n    public get sort() {\n        return this.sortImpl;\n    }\n\n    public set sort(sort: ISort) {\n        this.sortImpl = sort;\n        this.onSortChanged();\n    }\n\n    public constructor(params: IOrderingParameters) {\n        this.onGroupChanged = params.onGroupChanged;\n        this.onSortChanged = params.onSortChanged;\n        this.groupByImpl = params.groupBy || AssetPropertyNames.type;\n        this.sortImpl = params.sort || { by: CalculatedAssetPropertyNames.totalValue, descending: true };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static capitalize(str: string) {\n        return `${str[0].toUpperCase()}${str.substr(1)}`;\n    }\n\n    // tslint:disable-next-line:prefer-method-signature\n    private readonly onGroupChanged: () => void;\n    // tslint:disable-next-line:prefer-method-signature\n    private readonly onSortChanged: () => void;\n    private groupByImpl: GroupBy;\n    private sortImpl: ISort;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"960px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('Select',{attrs:{\"large\":\"true\",\"info\":_vm.typeInputInfo},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"description\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"location\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"address\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weight\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('Select',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weightUnit\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"fineness\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"value\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('Select',{attrs:{\"info\":_vm.assetInfo,\"property\":\"valueCurrency\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"quantity\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextArea',{attrs:{\"info\":_vm.assetInfo,\"property\":\"notes\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onCancelClicked($event)}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.onSaveClicked($event)}}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Thrown when a query fails. */\nexport class QueryError extends Error {\n    public constructor(message?: string) {\n        super(message || \"Unexpected Response\");\n\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, QueryError.prototype);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class ValidationError extends Error {\n    public constructor(message?: string) {\n        super(message);\n\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, ValidationError.prototype);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line: match-default-export-name\nimport Ajv from \"ajv\";\n\n// tslint:disable-next-line: no-default-import\nimport schema from \"./schemas/All.schema.json\";\nimport { ValidationError } from \"./ValidationError\";\n\n// Symbol and BigInt cannot currently be represented in JSON, TODO\nconst primitiveSchemaNames = [Boolean.name, Number.name, String.name] as const;\n\ntype PrimitiveSchemaName = (typeof primitiveSchemaNames)[number];\nexport type SchemaName = PrimitiveSchemaName | keyof typeof schema.definitions;\n\ntype PropertyNamesWithEnumMembers<T> = { [K in keyof T]: T[K] extends { enum: unknown[] } ? K : never }[keyof T];\nexport type EnumSchemaName = PropertyNamesWithEnumMembers<typeof schema.definitions>;\n\nexport class Validator {\n    public static fromJson<T>(json: string, ctor: new (value?: unknown) => T): T {\n        return Validator.fromData(JSON.parse(json) as unknown, ctor);\n    }\n\n    public static fromData<T>(data: unknown, ctor: new (value?: unknown) => T): T {\n        if (!Validator.isSchemaName(ctor.name)) {\n            throw new Error(`Unknown schema: ${ctor.name}`);\n        }\n\n        const validationResult = Validator.validate(data, ctor.name);\n\n        if (validationResult !== true) {\n            throw new ValidationError(Validator.ajv.errorsText());\n        }\n\n        return Validator.isPrimitiveSchemaName(ctor.name) ? new ctor(data) : Object.assign(new ctor(), data);\n    }\n\n    public static validate(data: unknown, schemaName: SchemaName): true | string {\n        return (Validator.ajv.validate(Validator.getSchemaKeyRef(schemaName), data) === true) ||\n            Validator.ajv.errorsText();\n    }\n\n    public static getSchema(name: SchemaName) {\n        return Validator.isPrimitiveSchemaName(name) ? Validator.getPrimitiveSchema(name) : schema.definitions[name];\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly customSchemaKey = \"Custom\";\n    private static readonly ajv = Validator.createAjv();\n\n    private static createAjv() {\n        const result = new Ajv({ multipleOfPrecision: 9 });\n        result.addSchema(schema, Validator.customSchemaKey);\n        primitiveSchemaNames.forEach(\n            (name) => result.addSchema(Validator.getPrimitiveSchema(name), Validator.getSchemaKeyRef(name)));\n\n        return result;\n    }\n\n    private static getSchemaKeyRef(schemaName: SchemaName) {\n        return Validator.isPrimitiveSchemaName(schemaName) ?\n            schemaName : `${Validator.customSchemaKey}#/definitions/${schemaName}`;\n    }\n\n    private static isSchemaName(name: string): name is SchemaName {\n        return Validator.isPrimitiveSchemaName(name) || schema.definitions.hasOwnProperty(name);\n    }\n\n    private static isPrimitiveSchemaName(name: string): name is PrimitiveSchemaName {\n        return primitiveSchemaNames.includes(name);\n    }\n\n    private static getPrimitiveSchema(name: PrimitiveSchemaName) {\n        return { type: name.toLowerCase() };\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { QueryError } from \"./QueryError\";\nimport { Validator } from \"./validation/Validator\";\n\n/** @internal */\nexport class QueryCache {\n    // TODO: Check whether extends object constraint is necessary\n    /** @internal */\n    public static fetch(query: string): Promise<unknown>;\n    public static fetch<R extends object>(query: string, responseCtor: new () => R): Promise<R>;\n    public static async fetch<R extends object>(query: string, responseCtor?: new () => R) {\n        return responseCtor ?\n            QueryCache.cacheResult(query, () => QueryCache.fetchParseAndValidate(query, responseCtor)) :\n            QueryCache.cacheResult(query, () => QueryCache.fetchAndParse(query));\n    }\n\n    /** @internal */\n    public static clear() {\n        QueryCache.cache.clear();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly cache = new Map<string, Promise<unknown>>();\n\n    private static cacheResult<R extends unknown>(query: string, getResponse: () => Promise<R>) {\n        let result = QueryCache.cache.get(query);\n\n        if (!result) {\n            result = getResponse();\n            QueryCache.cache.set(query, result);\n        }\n\n        return result;\n    }\n\n    private static async fetchParseAndValidate<R extends object>(query: string, responseCtor: new () => R) {\n        const response = await QueryCache.fetchAndParse(query);\n\n        try {\n            return Validator.fromData(response, responseCtor);\n        } catch (e) {\n            throw new QueryError(`Validation Error: ${e}`);\n        }\n    }\n\n    private static async fetchAndParse(query: string) {\n        let responseText: string;\n\n        try {\n            responseText = await (await window.fetch(query)).text();\n        } catch (e) {\n            throw new QueryError(`Network Error: ${e}`);\n        }\n\n        try {\n            return JSON.parse(responseText) as unknown;\n        } catch (e) {\n            throw new QueryError(`Invalid JSON: ${e}`);\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class CryptoCompareResponse {\n    public readonly USD!: number;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { CryptoCompareResponse } from \"./validation/schemas/CryptoCompareResponse.schema\";\n\n/** Represents a single cryptocompare.com request. */\nexport class CryptoCompareRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[CryptoCompareRequest]] instance.\n     * @param coin The coin to query the current price for.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly coin: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        const price = (await QueryCache.fetch(\n            `https://min-api.cryptocompare.com/data/price?fsym=${this.coin}&tsyms=USD`, CryptoCompareResponse)).USD;\n\n        return this.invert ? 1 / price : price;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { QueryError } from \"./QueryError\";\n\nexport class QueryUtility {\n    public static async execute(query: () => Promise<number | undefined>) {\n        try {\n            return {\n                result: await query(),\n                status: \"\",\n            };\n        } catch (e) {\n            if (e instanceof QueryError) {\n                return {\n                    result: Number.NaN,\n                    status: e.message,\n                };\n            } else {\n                throw e;\n            }\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundle } from \"./AssetBundle\";\nimport { IAssetIntersection } from \"./AssetInterfaces\";\nimport { CalculatedAssetPropertyNames } from \"./CalculatedAssetPropertyNames\";\nimport { IOrdering } from \"./Ordering\";\nimport { QueryUtility } from \"./QueryUtility\";\nimport { AssetTypeName } from \"./validation/schemas/AssetTypeName.schema\";\nimport { AssetUnion } from \"./validation/schemas/AssetUnion.schema\";\nimport { Fineness } from \"./validation/schemas/Fineness.schema\";\nimport { ICalculatedAssetProperties } from \"./validation/schemas/ICalculatedAssetProperties.schema\";\nimport { QuantityAny } from \"./validation/schemas/QuantityAny.schema\";\n\n/** @internal */\nexport interface IParent {\n    readonly assets: {\n        readonly ordering: IOrdering;\n        readonly grandTotalValue?: number;\n    };\n\n    readonly exchangeRate?: number;\n}\n\n/** Defines the base of all classes that represent an asset. */\nexport abstract class Asset implements ICalculatedAssetProperties {\n    // TODO: These should be moved into their own classes\n    public static readonly addressName = Asset.getPropertyName(\"address\");\n    public static readonly weightName = Asset.getPropertyName(\"weight\");\n    public static readonly weightUnitName = Asset.getPropertyName(\"weightUnit\");\n    public static readonly finenessName = Asset.getPropertyName(\"fineness\");\n    public static readonly valueName = Asset.getPropertyName(\"value\");\n    public static readonly valueCurrencyName = Asset.getPropertyName(\"valueCurrency\");\n    public static readonly quantityName = Asset.getPropertyName(\"quantity\");\n\n    /** Provides the unique key of the asset. */\n    public readonly key = Asset.nextKey++;\n\n    /** Provides the parent model to which this asset belongs. */\n    public readonly parent: IParent;\n\n    public get isExpandable() {\n        return false;\n    }\n\n    /** Provides the type of asset, e.g. 'Silver, 'Gold', 'Bitcoin', 'Litecoin'. */\n    public abstract get type(): AssetTypeName | \"\";\n\n    /** Provides the asset description, e.g. 'Bars', 'Coins', 'Spending', 'Savings'. */\n    public abstract get description(): string;\n\n    /** Provides the location of the asset, e.g. 'Safe', 'Safety Deposit Box', 'Mobile Phone', 'Hardware Wallet'. */\n    public abstract get location(): string;\n\n    /** Provides further information on the location. */\n    public get locationHint() {\n        return \"\";\n    }\n\n    /** Provides the unit of the quantity, e.g. '1 t oz', '10 g', 'BTC'. */\n    public abstract get unit(): string;\n\n    /** Provides the fineness, e.g. 0.999. For anything other than precious metals this is always undefined. */\n    public abstract get fineness(): Fineness | undefined;\n\n    /** Provides the asset quantity. */\n    public abstract get quantity(): QuantityAny | undefined;\n\n    /** Provides the quantity query error message, if applicable. */\n    public abstract get quantityHint(): string;\n\n    /** Provides the number of decimals to format the quantity to. */\n    public abstract get displayDecimals(): number;\n\n    /** Provides the asset notes. */\n    public abstract get notes(): string;\n\n    /** @internal */\n    public get unitValue() {\n        return Asset.multiply(this.unitValueUsd, this.parent.exchangeRate);\n    }\n\n    /** Provides the unit value query error message, if applicable. */\n    public get unitValueHint() {\n        return this.unitValueHintImpl;\n    }\n\n    /** @internal */\n    public get totalValue() {\n        return Asset.multiply(this.quantity, this.unitValue);\n    }\n\n    /** @internal */\n    public get percent() {\n        return (this.totalValue === undefined) || (this.parent.assets.grandTotalValue === undefined) ?\n            undefined : this.totalValue / this.parent.assets.grandTotalValue * 100;\n    }\n\n    /** Provides a value indicating whether the asset has any associated actions. */\n    public get hasActions() {\n        return true;\n    }\n\n    /** Provides the associated asset that can be edited. */\n    public get editableAsset(): Asset {\n        return this;\n    }\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        const { result, status } = await QueryUtility.execute(() => this.queryUnitValueUsd());\n        this.unitValueUsd = result;\n        this.unitValueHintImpl = status;\n    }\n\n    /** @internal */\n    public abstract toJSON(): AssetUnion;\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    public bundle(bundle?: unknown): AssetBundle {\n        throw new Error(\"Asset cannot be bundled.\");\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:no-empty prefer-function-over-method\n    public expand() {\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected unitValueUsd?: number;\n\n    /**\n     * Creates a new [[Asset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     */\n    protected constructor(parent: IParent) {\n        this.parent = parent;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected queryUnitValueUsd(): Promise<number | undefined> {\n        return Promise.reject(new Error(\"Asset cannot query unit value.\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static nextKey = 0;\n\n    private static getPropertyName<T extends keyof IAssetIntersection>(name: T) {\n        return name;\n    }\n\n    private static getCalculatedPropertyName<T extends keyof Asset>(name: T) {\n        return name;\n    }\n\n    private static multiply(factor1: number | undefined, factor2: number | undefined) {\n        return (factor1 === undefined) || (factor2 === undefined) ? undefined : factor1 * factor2;\n    }\n\n    private unitValueHintImpl = \"\";\n}\n\nexport type AssetDisplayPropertyName = (keyof IAssetIntersection) |\n    typeof CalculatedAssetPropertyNames.unit | typeof CalculatedAssetPropertyNames.unitValue |\n    typeof CalculatedAssetPropertyNames.totalValue | typeof CalculatedAssetPropertyNames.percent;\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IParent } from \"./Asset\";\n\n/** Defines the base of all classes that represent a single asset (as opposed to an [[AssetGroup]]). */\nexport abstract class SingleAsset extends Asset {\n    public quantityHint = \"\";\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[SingleAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     */\n    protected constructor(parent: IParent) {\n        super(parent);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { SingleAsset } from \"./SingleAsset\";\nimport { Erc20TokensWalletTypeName } from \"./validation/schemas/IErc20TokensWallet.schema\";\nimport { SimpleCryptoWalletTypeName } from \"./validation/schemas/ISimpleCryptoWallet.schema\";\nimport { QuantityAny } from \"./validation/schemas/QuantityAny.schema\";\n\n/** Defines the base of all classes that represent a crypto currency wallet. */\nexport abstract class CryptoWallet extends SingleAsset {\n    public abstract get type(): SimpleCryptoWalletTypeName | Erc20TokensWalletTypeName;\n\n    public get locationHint() {\n        return this.address;\n    }\n\n    public abstract get address(): string;\n\n    public get unit() {\n        return this.currencySymbol;\n    }\n\n    public get fineness() {\n        return undefined;\n    }\n\n    public quantity: QuantityAny | undefined;\n\n    public readonly displayDecimals = 6;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[CryptoWallet]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param currencySymbol The crypto currency symbol, e.g. 'BTC', 'LTC'.\n     */\n    protected constructor(parent: IParent, private readonly currencySymbol: string) {\n        super(parent);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { CryptoCompareRequest } from \"./CryptoCompareRequest\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { QueryUtility } from \"./QueryUtility\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\nimport { QuantityAny } from \"./validation/schemas/QuantityAny.schema\";\n\nexport type IRealCryptoWalletParameters = ISimpleCryptoWalletProperties & {\n    /** The crypto currency symbol, e.g. 'BTC', 'LTC'. */\n    readonly currencySymbol: string;\n};\n\n/** Defines the base of all classes that represent a real crypto currency wallet. */\nexport abstract class RealCryptoWallet extends CryptoWallet {\n    public readonly description: string;\n\n    public readonly address: string;\n\n    public readonly location: string;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public async queryData(): Promise<void> {\n        await super.queryData();\n\n        if (this.address) {\n            const { result, status } = await QueryUtility.execute(() => this.queryQuantity());\n\n            if (result !== undefined) {\n                this.quantity = (this.quantity === undefined ? 0 : this.quantity) + result;\n            }\n\n            this.quantityHint = status;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // TODO: This is a hack to work around the fact that the spread operator does not call property getters:\n    // https://github.com/Microsoft/TypeScript/issues/26547\n    protected static getProperties(\n        props: ISimpleCryptoWalletProperties, currencySymbol: string,\n    ): IRealCryptoWalletParameters {\n        const { description, location, notes } = props;\n        const address = (\"address\" in props) && props.address || undefined;\n        const quantity = (\"quantity\" in props) && props.quantity || undefined;\n\n        return { ...RealCryptoWallet._getProperties(description, location, address, quantity, notes), currencySymbol };\n    }\n\n    /** Creates a new [[RealCryptoWallet]] instance.\n     * @description If a non-empty string is passed for [[IRealCryptoWalletParameters.address]], then an attempt is made\n     * to retrieve the wallet balance, which is then added to whatever is passed for\n     * [[IRealCryptoWalletParameters.quantity]]. It therefore usually only makes sense to specify either address or\n     * quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param params The crypto wallet parameters.\n     */\n    protected constructor(parent: IParent, params: IRealCryptoWalletParameters) {\n        super(parent, params.currencySymbol);\n        this.description = params.description;\n        this.location = params.location || \"\";\n        this.address = (\"address\" in params) && params.address || \"\";\n        this.quantity = (\"quantity\" in params) && params.quantity || undefined;\n        this.notes = params.notes || \"\";\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected queryQuantity(): Promise<number | undefined> {\n        return Promise.resolve(undefined);\n    }\n\n    protected queryUnitValueUsd() {\n        return this.unit ? new CryptoCompareRequest(this.unit, false).execute() : Promise.resolve(undefined);\n    }\n\n    /** @internal */\n    protected getProperties(): ISimpleCryptoWalletProperties {\n        return RealCryptoWallet._getProperties(\n            this.description,\n            this.location || undefined,\n            this.address || undefined,\n            this.address ? undefined : this.quantity,\n            this.notes || undefined,\n        );\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static _getProperties(\n        description: string,\n        location: string | undefined,\n        address: string | undefined,\n        quantity: QuantityAny | undefined,\n        notes: string | undefined,\n    ): ISimpleCryptoWalletProperties {\n        if (address) {\n            return { description, location, address, notes };\n        } else if (quantity) {\n            return { description, location, quantity, notes };\n        } else {\n            throw new Error(\"Unexpected ISimpleCryptoWalletProperties value!\");\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { AssetBundleUnion } from \"./validation/schemas/AssetBundleUnion.schema\";\n\n/**\n * Defines the base of all classes that represent a bundle of assets.\n * @description Asset bundles are primarily useful in conjunction with crypto currencies, where one address can hold a\n * balance of multiple currencies. For example, an ETH address can hold balances of hundreds of ERC20 tokens. A bundle\n * of assets is always defined by a primary asset, the details of which are then used to retrieve information about\n * secondary assets. For example, in the case of ERC20 tokens, a [[Erc20TokensWallet]] object is the primary asset\n * and the nested [[Erc20TokenWallet]] objects are the secondary assets. When the former is instantiated with an address\n * and then put into a bundle by calling [[Erc20TokensWallet.bundle]], [[Erc20TokenWallet]] objects are automatically\n * added to [[assets]] for each of the ERC20 tokens.\n * Since every asset must reside in a bundle, there is also the class [[GenericAssetBundle]], which never holds\n * secondary assets besides the primary one. This is used for all [[PreciousMetalAsset]] subclasses and other\n * [[CryptoWallet]] subclasses.\n */\nexport abstract class AssetBundle {\n    public static readonly primaryAssetName = \"primaryAsset\";\n\n    /** Provides the bundled assets (primary and secondary). */\n    public abstract get assets(): Asset[];\n\n    /** Deletes `asset` from [[assets]]. If `asset` is the primary asset, all secondary assets are deleted as well. */\n    public abstract deleteAsset(asset: Asset): void;\n\n    /** @internal */\n    public abstract queryData(): Promise<void>;\n\n    /** @internal */\n    public abstract toJSON(): AssetBundleUnion;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundle } from \"./AssetBundle\";\nimport { SingleAsset } from \"./SingleAsset\";\n\n/** Defines a bundle containing a single asset. */\nexport abstract class GenericAssetBundle<T extends SingleAsset> extends AssetBundle {\n    public readonly assets: T[];\n\n    /** @internal */\n    public constructor(asset: T) {\n        super();\n        this.assets = [ asset ];\n    }\n\n    public deleteAsset(asset: T) {\n        const index = this.assets.indexOf(asset);\n\n        if (index >= 0) {\n            this.assets.splice(index, 1);\n        }\n    }\n\n    public queryData() {\n        return this.assets[0].queryData();\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { IRealCryptoWalletParameters, RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { ISimpleCryptoWallet, SimpleCryptoWalletTypeName } from \"./validation/schemas/ISimpleCryptoWallet.schema\";\n\n/** Defines the base of all simple crypto currency wallets. */\nexport abstract class SimpleCryptoWallet extends RealCryptoWallet {\n    public abstract get type(): SimpleCryptoWalletTypeName;\n\n    public bundle(bundle?: unknown): GenericAssetBundle<SimpleCryptoWallet> {\n        return new SimpleCryptoWallet.Bundle(this);\n    }\n\n    /** @internal */\n    public toJSON(): ISimpleCryptoWallet {\n        return {\n            type: this.type,\n            ...this.getProperties(),\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[SimpleCryptoWallet]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param props The crypto wallet properties.\n     */\n    protected constructor(parent: IParent, props: IRealCryptoWalletParameters) {\n        super(parent, props);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line: max-classes-per-file variable-name\n    private static readonly Bundle = class NestedBundle extends GenericAssetBundle<SimpleCryptoWallet> {\n        public toJSON() {\n            return {\n                primaryAsset: this.assets[0].toJSON(),\n            };\n        }\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport interface IAddressBalance {\n    readonly final_balance: number;\n    readonly n_tx: number;\n    readonly [key: string]: unknown;\n}\n\nexport class BlockchainBalanceResponse {\n    readonly [address: string]: IAddressBalance;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { HDNode } from \"bitcoinjs-lib\";\n\nimport { IParent } from \"./Asset\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { SimpleCryptoWallet } from \"./SimpleCryptoWallet\";\nimport { BlockchainBalanceResponse, IAddressBalance } from \"./validation/schemas/BlockchainBalanceResponse.schema\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\n\n/** @internal */\ninterface IBalance {\n    finalBalance: number;\n    transactionCount: number;\n}\n\n/** Represents a BTC wallet. */\nexport class BtcWallet extends SimpleCryptoWallet {\n    public readonly type = \"Bitcoin\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"BTC\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected queryQuantity() {\n        return new BtcWallet.QuantityRequest(this.address).queryQuantity();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:variable-name\n    private static readonly BlockchainRequest =\n        // tslint:disable-next-line:max-classes-per-file\n        class NestedBlockchainRequest implements IWebRequest<Readonly<IBalance>> {\n        public constructor(addresses: string[]) {\n            this.addresses = addresses.join(\"|\");\n        }\n\n        public async execute() {\n            return NestedBlockchainRequest.getFinalBalance(await QueryCache.fetch(\n                `https://blockchain.info/balance?active=${this.addresses}&cors=true`, BlockchainBalanceResponse));\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static getFinalBalance(response: BlockchainBalanceResponse) {\n            const result: IBalance = { finalBalance: Number.NaN, transactionCount: 0 };\n\n            for (const address in response) {\n                if (response.hasOwnProperty(address)) {\n                    NestedBlockchainRequest.addBalance(result, response[address]);\n                }\n            }\n\n            if (Number.isNaN(result.finalBalance)) {\n                throw new QueryError();\n            }\n\n            return result;\n        }\n\n        private static addBalance(result: IBalance, { final_balance, n_tx }: IAddressBalance) {\n            result.finalBalance = (Number.isNaN(result.finalBalance) ? 0 : result.finalBalance) + final_balance / 1E8;\n            result.transactionCount += n_tx;\n        }\n\n        private readonly addresses: string;\n    };\n\n    // tslint:disable-next-line:variable-name max-classes-per-file\n    private static readonly QuantityRequest = class NestedQuantityRequest {\n        public constructor(private readonly address: string) {\n        }\n\n        public async queryQuantity() {\n            // cSpell: ignore xpub\n            // TODO: This is a crude test to distinguish between xpub and a normal address\n            if (this.address.length <= 100) {\n                await this.add([ this.address ]);\n            } else {\n                await NestedQuantityRequest.delay(1000);\n                const parent = HDNode.fromBase58(this.address);\n\n                // The following calls use a lot of CPU. By delaying first, we ensure that other queries can be\n                // sent, their respective responses received and even rendered in the UI before the CPU is blocked.\n                await this.addChain(parent.derive(0));\n                await this.addChain(parent.derive(1));\n            }\n\n            return this.quantity;\n        }\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        private static readonly minUnusedAddressesToCheck = 20;\n        private static batchLength = 2;\n\n        private static delay(milliseconds: number) {\n            return new Promise<void>((resolve) => setTimeout(resolve, milliseconds));\n        }\n\n        private static getBatch(node: HDNode, offset: number) {\n            const result = new Array<string>(NestedQuantityRequest.batchLength);\n            const start = Date.now();\n\n            for (let index = 0; index < result.length; ++index) {\n                result[index] = node.derive(offset + index).getAddress();\n            }\n\n            if ((Date.now() - start < 500) && (NestedQuantityRequest.batchLength < 16)) {\n                // This is an attempt at making address derivation more bearable on browsers with lousy script execution\n                // speed, e.g. Edge. Of course, this doesn't make the overall process faster, but it avoids blocking the\n                // thread for longer than a second.\n                NestedQuantityRequest.batchLength *= 2;\n            }\n\n            return result;\n        }\n\n        private quantity = 0;\n\n        private async add(addresses: string[]) {\n            const result = await new BtcWallet.BlockchainRequest(addresses).execute();\n            this.quantity += result.finalBalance;\n\n            return result;\n        }\n\n        private async addChain(node: HDNode) {\n            let batch: string[] | undefined;\n            let unusedAddressesToCheck = NestedQuantityRequest.minUnusedAddressesToCheck;\n\n            for (let index = 0; unusedAddressesToCheck > 0; index += batch.length) {\n                batch = NestedQuantityRequest.getBatch(node, index);\n\n                if ((await this.add(batch)).transactionCount === 0) {\n                    unusedAddressesToCheck -= batch.length;\n                } else {\n                    unusedAddressesToCheck = NestedQuantityRequest.minUnusedAddressesToCheck;\n                }\n            }\n        }\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { QueryCache } from \"./QueryCache\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { SimpleCryptoWallet } from \"./SimpleCryptoWallet\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\n\n/** Represents a BTG wallet. */\nexport class BtgWallet extends SimpleCryptoWallet {\n    public readonly type = \"Bitcoin Gold\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"BTG\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryQuantity() {\n        const url = `https://explorer.bitcoingold.org/insight-api/addr/${this.address}/balance`;\n\n        return Number(await QueryCache.fetch(url, Number)) / 1E8;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\n\nexport type CompositeInput = { [K in AssetPropertyName]?: unknown };\nexport type Input = CompositeInput | unknown;\n\nexport class InputUtility {\n    public static isComposite(input: Input): input is CompositeInput {\n        return input instanceof Object;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { CompositeInput, Input, InputUtility } from \"./Input\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\n\n/**\n * Defines the base for all classes that provide input information for a primitive or composite value.\n * @description Input information refers to data displayed in the UI (prompts, hints, whether a value is required, etc.)\n * as well as the means to validate input.\n */\nexport abstract class InputInfo {\n    /**\n     * Validates `input` or a property of `input`.\n     * @description As the type indicates, `input` can be of primitive or composite type. In the former case, `input`\n     * itself is validated. In the latter case, the value of the property with the passed name is validated. Either\n     * way, this method only ever validates a single primitive value.\n     * @returns `true` if the property value is valid; otherwise a string describing why the value is invalid.\n     */\n    public validate(strict: boolean, input: Input, propertyName?: AssetPropertyName) {\n        if (InputUtility.isComposite(input)) {\n            return this.validateComposite(strict, input, propertyName);\n        } else {\n            return this.validatePrimitive(strict, input, propertyName);\n        }\n    }\n\n    /**\n     * Gets the [[PrimitiveInputInfo]] subclass object for a property.\n     * @description When implemented by [[PrimitiveInputInfo]], this method simply returns `this`.\n     * @throws `Error` if `T` does not match the type implied by `propertyName`.\n     */\n    public abstract get<T extends PrimitiveInputInfo>(ctor: new() => T, propertyName?: AssetPropertyName): T;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validatePrimitive(\n        strict: boolean, input: unknown, propertyName?: AssetPropertyName): true | string {\n        return \"A primitive value was provided when a composite one was expected.\";\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateComposite(\n        strict: boolean, input: CompositeInput, propertyName?: AssetPropertyName): true | string {\n        return \"A composite value was provided when a primitive one was expected.\";\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { InputInfo } from \"./InputInfo\";\n\nexport interface IPrimitiveInputInfoProperties {\n    readonly label: string;\n    readonly hint: string;\n    readonly isPresent: boolean;\n    readonly isRequired: boolean;\n}\n\n/** Defines the base for all classes that provide input information for a primitive value. */\nexport abstract class PrimitiveInputInfo extends InputInfo implements IPrimitiveInputInfoProperties {\n    public readonly label: string;\n    public readonly hint: string;\n    public readonly isPresent: boolean;\n    public readonly isRequired: boolean;\n\n    public get<T extends PrimitiveInputInfo>(ctor: new() => T, propertyName?: AssetPropertyName): T {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive input.\");\n        }\n\n        if (!(this instanceof ctor)) {\n            throw new Error(`The requested type ${ctor.name} does not match the actual type.`);\n        }\n\n        return this;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(props: IPrimitiveInputInfoProperties) {\n        super();\n        ({ label: this.label, hint: this.hint, isPresent: this.isPresent, isRequired: this.isRequired } = props);\n    }\n\n    /** @internal */\n    protected validatePrimitive(strict: boolean, input: unknown, propertyName?: AssetPropertyName) {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive value.\");\n        }\n\n        if (!this.isPresent) {\n            return true;\n        }\n\n        if ((input === undefined) || (input === null) || ((typeof input === \"string\") && (input.length === 0))) {\n            return this.isRequired ? \"A value is required.\" : true;\n        }\n\n        return this.validateContent(strict, input);\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateContent(strict: boolean, input: unknown): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IPrimitiveInputInfoProperties, PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { SchemaName, Validator } from \"./validation/Validator\";\n\ninterface ITextInputInfoProperties extends IPrimitiveInputInfoProperties {\n    readonly schemaName?: SchemaName;\n}\n\n/**\n * Provides input information for a property where a valid value either needs to be a number with certain constraints\n * (minimum, maximum, step) or text.\n */\nexport class TextInputInfo extends PrimitiveInputInfo {\n    public get min() {\n        return this.getValue(\"minimum\");\n    }\n\n    public get max() {\n        return this.getValue(\"maximum\");\n    }\n\n    public get step() {\n        return this.getValue(\"multipleOf\");\n    }\n\n    /** @internal */\n    public constructor(props: ITextInputInfoProperties = { label: \"\", hint: \"\", isPresent: false, isRequired: false }) {\n        super(props);\n        ({ schemaName: this.schemaName } = props);\n    }\n\n    public get type() {\n        return this.isNumber ? \"number\" : \"text\";\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * @internal\n     * @description This duplicates the validation a HTML input control (or a v-text-field) does out of the box. The\n     * duplication is necessary for the following reasons:\n     * - Some browsers localize the validation message. Since this application is in English only, users with a\n     *   non-English locale would get mixed languages in the UI.\n     * - We want to use exactly the same rules to validate file content.\n     */\n    protected validateContent(strict: boolean, input: unknown) {\n        const valueResult = this.validateValue(strict, input);\n\n        if (valueResult !== true) {\n            return valueResult;\n        }\n\n        return super.validateContent(strict, input);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly schemaName?: SchemaName;\n\n    private get isNumber() {\n        return (this.min !== undefined) || (this.max !== undefined) || (this.step !== undefined);\n    }\n\n    private getValue(propertyName: string) {\n        if (this.schemaName) {\n            // tslint:disable-next-line: no-unsafe-any\n            const result = (Validator.getSchema(this.schemaName) as { [propertyName: string]: unknown })[propertyName];\n\n            return typeof result === \"number\" ? result : undefined;\n        } else {\n            return undefined;\n        }\n    }\n\n    private validateValue(strict: boolean, input: unknown) {\n        if (!this.schemaName) {\n            throw new Error(\"Missing schemaName.\");\n        }\n\n        return Validator.validate(\n            !strict && this.isNumber && (typeof input === \"string\") ? Number.parseFloat(input) : input,\n            this.schemaName);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { IAuxProperties } from \"./IAuxProperties\";\nimport { CompositeInput } from \"./Input\";\nimport { InputInfo } from \"./InputInfo\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { AssetTypeName } from \"./validation/schemas/AssetTypeName.schema\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\n\ninterface IValidationResults extends IAuxProperties<true | string> {\n    [key: string]: true | string;\n}\n\n/**\n * Defines how the properties of a given asset type need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport abstract class AssetInputInfo extends InputInfo implements IAuxProperties<PrimitiveInputInfo> {\n    public abstract get type(): AssetTypeName | \"\";\n\n    public abstract get description(): TextInputInfo;\n    public abstract get location(): TextInputInfo;\n    public abstract get address(): TextInputInfo;\n    public abstract get value(): TextInputInfo;\n    public abstract get valueCurrency(): SelectInputInfo<typeof Currency>;\n    public abstract get weight(): TextInputInfo;\n    public abstract get weightUnit(): SelectInputInfo<typeof WeightUnit>;\n    public abstract get fineness(): PrimitiveInputInfo;\n    public abstract get quantity(): TextInputInfo;\n    public readonly notes = new TextInputInfo({\n        label: \"Notes\", hint: \"Additional asset information.\", isPresent: true, isRequired: false, schemaName: \"Text\",\n    });\n\n    /**\n     * @internal\n     * @description This is a property rather than a parameter of [[validate]], because [[validate]] is often\n     * (indirectly) called from a context where it is not known whether relations should be validated. For example,\n     * validation for Vuetify controls is specified by supplying a function to each control. Said function is then\n     * called while the bound value is modified in the control. However, the same function is also called when the\n     * whole form is validated. Obviously, relations should not be validated in the former case but they must be in the\n     * latter one.\n     */\n    public includeRelations = false;\n\n    public get<T extends PrimitiveInputInfo>(ctor: new() => T, propertyName?: AssetPropertyName): T {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite input.\");\n        }\n\n        const result = this[propertyName];\n\n        if (!(result instanceof ctor)) {\n            throw new Error(\n                `The requested type ${ctor.name} does not match the actual type of the property ${propertyName}.`);\n        }\n\n        return result;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected validateComposite(strict: boolean, input: CompositeInput, propertyName?: AssetPropertyName) {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite value.\");\n        }\n\n        const singleResult = this[propertyName].validate(strict, input[propertyName], undefined);\n\n        return (singleResult === true) && this.includeRelations ?\n            this.validateRelations(input, propertyName) : singleResult;\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateRelations(input: CompositeInput, propertyName: AssetPropertyName): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport type Enum<E> = Record<keyof E, number> & { [key: number]: string };\n\nexport class EnumInfo {\n    public static getMemberNames<T extends Enum<T>>(enumType: T) {\n        const result = new Array<keyof T>();\n\n        for (const value in enumType) {\n            if (Number.isNaN(Number.parseFloat(value))) {\n                result.push(value);\n            }\n        }\n\n        return result;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Enum, EnumInfo } from \"./EnumInfo\";\nimport { IPrimitiveInputInfoProperties, PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { EnumSchemaName, SchemaName, Validator } from \"./validation/Validator\";\n\nexport abstract class SelectInputInfoBase extends PrimitiveInputInfo {\n    public abstract get items(): string[];\n\n    /** @internal */\n    protected constructor(props: IPrimitiveInputInfoProperties) {\n        super(props);\n    }\n}\n\ninterface ISelectInputInfoParameters<T extends Enum<T>> extends IPrimitiveInputInfoProperties {\n    readonly enumType?: T;\n    readonly enumSchemaNames: EnumSchemaName[];\n}\n\n/** Provides input information for a property where a valid value needs to be equal to one of a given list of values. */\n// tslint:disable-next-line:max-classes-per-file\nexport class SelectInputInfo<T extends Enum<T>> extends SelectInputInfoBase {\n    /** @internal */\n    public constructor(params: ISelectInputInfoParameters<T> =\n        { label: \"\", hint: \"\", isPresent: false, isRequired: false, enumSchemaNames: [] }) {\n        super(params);\n        ({ enumType: this.enumType, enumSchemaNames: this.enumSchemaNames } = params);\n    }\n\n    public get items() {\n        return this.enumType ? EnumInfo.getMemberNames(this.enumType) as string[] : [];\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected validateContent(strict: boolean, input: unknown) {\n        if (this.enumType && this.enumSchemaNames.length) {\n            const result = this.enumSchemaNames.reduce<string | true>(\n                (p: string | true, c: SchemaName) => p === true ? p : Validator.validate(input, c), \"\");\n\n            if (result !== true) {\n                return result;\n            }\n        }\n\n        return super.validateContent(strict, input);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly enumType?: T;\n    private readonly enumSchemaNames: EnumSchemaName[];\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IParent } from \"./Asset\";\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { AssetPropertyName } from \"./AssetInterfaces\";\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { CompositeInput } from \"./Input\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\nimport { Erc20TokensWalletTypeName } from \"./validation/schemas/IErc20TokensWallet.schema\";\nimport { IErc20TokensWalletProperties } from \"./validation/schemas/IErc20TokensWalletProperties.schema\";\nimport { SimpleCryptoWalletTypeName } from \"./validation/schemas/ISimpleCryptoWallet.schema\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\n\ntype CryptoWalletTypeName<T extends ISimpleCryptoWalletProperties | IErc20TokensWalletProperties> =\n    T extends IErc20TokensWalletProperties ? Erc20TokensWalletTypeName : SimpleCryptoWalletTypeName;\n\ninterface ICryptoWalletInputInfoParameters<T extends ISimpleCryptoWalletProperties | IErc20TokensWalletProperties> {\n    readonly type: CryptoWalletTypeName<T>;\n    readonly ctor: new (parent: IParent, props: T) => CryptoWallet;\n    readonly addressHint: string;\n    readonly quantityDecimals?: 8 | 18;\n}\n\n/**\n * Defines how the properties of a crypto currency wallet need to be input and validated and provides a method to create\n * a representation of the wallet.\n */\nexport class CryptoWalletInputInfo<\n    T extends ISimpleCryptoWalletProperties | IErc20TokensWalletProperties\n> extends AssetInputInfo {\n    public readonly type: CryptoWalletTypeName<T>;\n    public readonly description = new TextInputInfo({\n        label: \"Description\", hint: \"Describes the wallet, e.g. 'Mycelium', 'Hardware Wallet', 'Paper Wallet'.\",\n        isPresent: true, isRequired: true, schemaName: \"Text\",\n    });\n    public readonly location = new TextInputInfo({\n        label: \"Location\", hint: \"The location of the wallet, e.g. 'My Mobile', 'Home', 'Safety Deposit Box'.\",\n        isPresent: true, isRequired: false, schemaName: \"Text\",\n    });\n    public readonly address: TextInputInfo;\n\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo<typeof WeightUnit>();\n    public readonly fineness = new TextInputInfo();\n    public readonly value = new TextInputInfo();\n    public readonly valueCurrency = new SelectInputInfo<typeof Currency>();\n    public readonly quantity: TextInputInfo;\n\n    /** @internal */\n    public constructor({ type, ctor, addressHint, quantityDecimals }: ICryptoWalletInputInfoParameters<T>) {\n        super();\n        this.type = type;\n        this.ctor = ctor;\n\n        this.address = new TextInputInfo({\n            label: \"Address\", hint: addressHint, isPresent: true, isRequired: !quantityDecimals, schemaName: \"Text\",\n        });\n\n        this.quantity = CryptoWalletInputInfo.getQuantityInputInfo(quantityDecimals);\n    }\n\n    public createAsset(parent: IParent, props: T) {\n        return new this.ctor(parent, props);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected validateRelations(input: CompositeInput, propertyName: AssetPropertyName) {\n        if (!this.address.isRequired &&\n            ((propertyName === Asset.addressName) || (propertyName === Asset.quantityName)) &&\n            (CryptoWalletInputInfo.isUndefined(input.address) === CryptoWalletInputInfo.isUndefined(input.quantity))) {\n            return `A value is required for either the ${this.address.label} or the ${this.quantity.label} (not both).`;\n        }\n\n        return super.validateRelations(input, propertyName);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getQuantityInputInfo(quantityDecimals: 8 | 18 | undefined) {\n        if (quantityDecimals) {\n            return new TextInputInfo({\n                label: \"Quantity\", hint: \"The amount in the wallet.\", isPresent: true, isRequired: false,\n                schemaName: CryptoWalletInputInfo.getSchema(quantityDecimals),\n            });\n        } else {\n            return new TextInputInfo();\n        }\n    }\n\n    private static isUndefined(value: unknown) {\n        return (value === undefined) || (value === null) || (value === \"\");\n    }\n\n    private static getSchema(quantityDecimals: 8 | 18) {\n        // tslint:disable-next-line: switch-default\n        switch (quantityDecimals) {\n            case 8:\n                return \"Quantity8\";\n            case 18:\n                return \"QuantityAny\";\n        }\n    }\n\n    private readonly ctor: new (parent: IParent, props: T) => CryptoWallet;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class BlockcypherBalanceResponse {\n    public readonly balance!: number;\n    readonly [key: string]: unknown;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { QueryCache } from \"./QueryCache\";\nimport { IRealCryptoWalletParameters } from \"./RealCryptoWallet\";\nimport { SimpleCryptoWallet } from \"./SimpleCryptoWallet\";\nimport { BlockcypherBalanceResponse } from \"./validation/schemas/BlockcypherBalanceResponse.schema\";\n\n/** Represents a wallet the balance of which is requested from blockcypher.com. */\nexport abstract class BlockcypherWallet extends SimpleCryptoWallet {\n    protected constructor(parent: IParent, params: IRealCryptoWalletParameters) {\n        super(parent, params);\n    }\n\n    protected async queryQuantity() {\n        const url = `https://api.blockcypher.com/v1/${this.unit.toLowerCase()}/main/addrs/${this.address}/balance`;\n\n        return (await QueryCache.fetch(url, BlockcypherBalanceResponse)).balance / 1E8;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { BlockcypherWallet } from \"./BlockcypherWallet\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\n\n/** Represents a DASH wallet. */\nexport class DashWallet extends BlockcypherWallet {\n    public readonly type = \"Dash\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"DASH\"));\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { CryptoWallet } from \"./CryptoWallet\";\nimport { Erc20TokensWallet } from \"./Erc20TokensWallet\";\nimport { AssetUnion } from \"./validation/schemas/AssetUnion.schema\";\nimport { Erc20TokensWalletTypeName } from \"./validation/schemas/IErc20TokensWallet.schema\";\nimport { QuantityAny } from \"./validation/schemas/QuantityAny.schema\";\n\ninterface ITokenWalletParameters {\n    readonly editable: Erc20TokensWallet;\n    readonly currencySymbol: string;\n    readonly quantity: QuantityAny;\n    readonly unitValueUsd?: number;\n}\n\nexport class Erc20TokenWallet extends CryptoWallet {\n    public get type(): Erc20TokensWalletTypeName {\n        return this.editable.type;\n    }\n\n    public get description() {\n        return this.editable.description;\n    }\n\n    public get location() {\n        return this.editable.location;\n    }\n\n    public get address() {\n        return this.editable.address;\n    }\n\n    public get notes() {\n        return this.editable.notes;\n    }\n\n    public get editableAsset() {\n        return this.editable;\n    }\n\n    /** @internal */\n    public constructor(params: ITokenWalletParameters) {\n        super(params.editable.parent, params.currencySymbol);\n        this.editable = params.editable;\n        this.quantity = params.quantity;\n        this.unitValueUsd = params.unitValueUsd;\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public toJSON(): AssetUnion {\n        throw new Error(`${Erc20TokenWallet.name} cannot be serialized.`);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly editable: Erc20TokensWallet;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IDeletedAssets } from \"./IDeletedAssets.schema\";\n\nexport class DeletedAssets implements IDeletedAssets {\n    public readonly deletedAssets!: string[];\n    readonly [key: string]: unknown;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport interface IToken {\n    readonly tokenInfo: {\n        readonly symbol: string;\n        readonly decimals: string | number;\n        readonly price: false | {\n            readonly rate: number;\n            readonly currency: \"USD\";\n            readonly [key: string]: unknown;\n        };\n        readonly [key: string]: unknown;\n    };\n\n    readonly balance: number;\n    readonly [key: string]: unknown;\n}\n\nexport class EthplorerGetAddressInfoResponse {\n    public readonly ETH!: {\n        balance: number;\n    };\n\n    public readonly tokens?: IToken[];\n    readonly [key: string]: unknown;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundle } from \"./AssetBundle\";\nimport { Erc20TokensWallet } from \"./Erc20TokensWallet\";\nimport { Erc20TokenWallet } from \"./Erc20TokenWallet\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { DeletedAssets } from \"./validation/schemas/DeletedAssets.schema\";\nimport { EthplorerGetAddressInfoResponse, IToken } from \"./validation/schemas/EthplorerGetAddressInfoResponse.schema\";\nimport { IErc20TokensWalletBundle } from \"./validation/schemas/IErc20TokensWalletBundle.schema\";\nimport { Validator } from \"./validation/Validator\";\n\nexport class Erc20TokensWalletBundle extends AssetBundle {\n    public readonly assets: Erc20TokenWallet[] = [];\n\n    public constructor(private readonly erc20Wallet: Erc20TokensWallet, bundle?: unknown) {\n        super();\n\n        try {\n            ({ deletedAssets: this.deletedAssets } = Validator.fromData(bundle, DeletedAssets));\n        } catch {\n            // Exception intentionally ignored\n        }\n    }\n\n    public deleteAsset(asset: Erc20TokenWallet) {\n        const index = this.assets.indexOf(asset);\n\n        if (index >= 0) {\n            this.deletedAssets.push(this.assets[index].unit);\n            this.assets.splice(index, 1);\n        }\n    }\n\n    public async queryData() {\n        await this.erc20Wallet.queryData();\n\n        if (!this.erc20Wallet.address) {\n            return;\n        }\n\n        try {\n            const url = `https://api.ethplorer.io/getAddressInfo/${this.erc20Wallet.address}?apiKey=dvoio1769GSrYx63`;\n            const balances = await QueryCache.fetch(url, EthplorerGetAddressInfoResponse);\n\n            for (const token of balances.tokens || []) {\n                this.addTokenWallet(token);\n            }\n        } catch (e) {\n            if (e instanceof QueryError) {\n                // There's no good place where we can visualize an ERC20 query error in the UI, which is why we just\n                // log it in the console.\n                console.warn(e);\n            } else {\n                throw e;\n            }\n        }\n    }\n\n    public toJSON(): IErc20TokensWalletBundle {\n        return {\n            primaryAsset: this.erc20Wallet.toJSON(),\n            deletedAssets: this.deletedAssets,\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private readonly deletedAssets: string[] = [];\n\n    private addTokenWallet(token: IToken) {\n        const info = token.tokenInfo;\n\n        if ((this.deletedAssets.indexOf(info.symbol) < 0) && (token.balance > 0)) {\n            this.assets.push(new Erc20TokenWallet({\n                editable: this.erc20Wallet,\n                currencySymbol: info.symbol,\n                quantity: token.balance / Math.pow(10, Number.parseFloat(info.decimals.toString())),\n                unitValueUsd: info.price && info.price.rate || 0,\n            }));\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { Erc20TokensWalletBundle } from \"./Erc20TokensWalletBundle\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { IErc20TokensWallet } from \"./validation/schemas/IErc20TokensWallet.schema\";\nimport { IErc20TokensWalletProperties } from \"./validation/schemas/IErc20TokensWalletProperties.schema\";\n\n/** Represents a wallet for ERC20 tokens. */\nexport class Erc20TokensWallet extends RealCryptoWallet {\n    public readonly type = \"ERC20 Tokens\";\n\n    /**\n     * Creates a new [[Erc20TokensWallet]] instance.\n     * @description This wallet requires an [[ICryptoWalletProperties.address]] and ignores\n     * [[ICryptoWalletProperties.quantity]].\n     * @param parent The parent model to which this asset belongs.\n     * @param props The crypto wallet properties.\n     */\n    public constructor(parent: IParent, props: IErc20TokensWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"\"));\n    }\n\n    public bundle(bundle?: unknown): Erc20TokensWalletBundle {\n        return new Erc20TokensWalletBundle(this, bundle);\n    }\n\n    /** @internal */\n    public toJSON(): IErc20TokensWallet {\n        return {\n            type: this.type,\n            ...this.getProperties(),\n            address: this.address,\n        };\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class BlockscoutBalanceResponse {\n    public readonly result!: string;\n    public readonly status!: string;\n    readonly [key: string]: unknown;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QueryError } from \"./QueryError\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { SimpleCryptoWallet } from \"./SimpleCryptoWallet\";\nimport { BlockscoutBalanceResponse } from \"./validation/schemas/BlockscoutBalanceResponse.schema\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\n\n/** Represents an ETC wallet. */\nexport class EtcWallet extends SimpleCryptoWallet {\n    public readonly type = \"Ethereum Classic\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"ETC\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryQuantity() {\n        const response = await QueryCache.fetch(\n            `https://blockscout.com/etc/mainnet/api?module=account&action=balance&address=${this.address}`,\n            BlockscoutBalanceResponse);\n        const result = Number.parseInt(response.result, 10);\n\n        if ((response.status === \"1\") && Number.isFinite(result)) {\n            return result / 1E18;\n        }\n\n        throw new QueryError();\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { QueryCache } from \"./QueryCache\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { SimpleCryptoWallet } from \"./SimpleCryptoWallet\";\nimport { EthplorerGetAddressInfoResponse } from \"./validation/schemas/EthplorerGetAddressInfoResponse.schema\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\n\n/** Represents an ETH wallet. */\nexport class EthWallet extends SimpleCryptoWallet {\n    public readonly type = \"Ethereum\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"ETH\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryQuantity() {\n        const response = await QueryCache.fetch(\n            `https://api.ethplorer.io/getAddressInfo/${this.address}?apiKey=dvoio1769GSrYx63`,\n            EthplorerGetAddressInfoResponse);\n\n        return response.ETH.balance;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class QuandlResponse {\n    public readonly dataset!: {\n        readonly data: [\n            [\n                string,\n                number\n            ]\n        ];\n        readonly [key: string]: unknown;\n    };\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { QuandlResponse } from \"./validation/schemas/QuandlResponse.schema\";\n\n/** Represents a single quandl.com request. */\nexport class QuandlRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[QuandlRequest]] instance.\n     * @param path The path to query.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly path: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        if (this.path.length > 0) {\n            const url = `https://www.quandl.com/api/v3/datasets/${this.path}?api_key=ALxMkuJx2XTUqsnsn6qK&rows=1`;\n            const price = (await QueryCache.fetch(url, QuandlResponse)).dataset.data[0][1];\n\n            return this.invert ? 1 / price : price;\n        } else {\n            return 1;\n        }\n    }\n}\n","\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { SingleAsset } from \"./SingleAsset\";\nimport { Fineness } from \"./validation/schemas/Fineness.schema\";\nimport { IPreciousMetalAsset, PreciousMetalAssetTypeName } from \"./validation/schemas/IPreciousMetalAsset.schema\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\nimport { Quantity0 } from \"./validation/schemas/Quantity0.schema\";\nimport { Weight } from \"./validation/schemas/Weight.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\n\n/** Defines the base of all classes that represent a precious metal asset. */\nexport abstract class PreciousMetalAsset extends SingleAsset {\n    public abstract get type(): PreciousMetalAssetTypeName;\n\n    public readonly description: string;\n\n    public readonly location: string;\n\n    public readonly weight: Weight;\n\n    public readonly weightUnit: WeightUnit;\n\n    public get unit() {\n        return PreciousMetalAsset.getUnit(this.weight, this.weightUnit);\n    }\n\n    public readonly fineness: Fineness;\n\n    public readonly quantity: Quantity0;\n\n    public readonly displayDecimals = 0;\n\n    public readonly notes: string;\n\n    /** @internal */\n    public toJSON(): IPreciousMetalAsset {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            weight: this.weight,\n            weightUnit: this.weightUnit,\n            fineness: this.fineness,\n            quantity: this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    public bundle(bundle?: unknown): GenericAssetBundle<PreciousMetalAsset> {\n        return new PreciousMetalAsset.Bundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[PreciousMetalAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param props The precious metal asset properties.\n     * @param quandlPath The quandl asset path.\n     */\n    protected constructor(parent: IParent, props: IPreciousMetalAssetProperties, private readonly quandlPath: string) {\n        super(parent);\n        this.description = props.description;\n        this.location = props.location || \"\";\n        this.weight = props.weight;\n        this.weightUnit = props.weightUnit;\n        this.fineness = props.fineness;\n        this.quantity = props.quantity;\n        this.notes = props.notes || \"\";\n        this.pureGramsPerUnit = this.weight * this.weightUnit * this.fineness;\n    }\n\n    protected async queryUnitValueUsd() {\n        return this.pureGramsPerUnit / WeightUnit[\"t oz\"] * await new QuandlRequest(this.quandlPath, false).execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line: max-classes-per-file variable-name\n    private static readonly Bundle = class NestedBundle extends GenericAssetBundle<PreciousMetalAsset> {\n        public toJSON() {\n            return {\n                primaryAsset: this.assets[0].toJSON(),\n            };\n        }\n    };\n\n    private static readonly unitFormatOptions = {\n        maximumFractionDigits: 3, minimumFractionDigits: 0, useGrouping: true,\n    };\n\n    private static getUnit(weight: Weight, unit: WeightUnit) {\n        return `${weight.toLocaleString(undefined, PreciousMetalAsset.unitFormatOptions)} ${WeightUnit[unit]}`;\n    }\n\n    private readonly pureGramsPerUnit: number;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the supported currencies. */\nexport enum Currency {\n    USD,\n    AUD,\n    CAD,\n    CNY,\n    CHF,\n    CZK,\n    DKK,\n    GBP,\n    HKD,\n    HUF,\n    INR,\n    JPY,\n    KRW,\n    LTL,\n    MYR,\n    NIS,\n    NOK,\n    NZD,\n    PLN,\n    RUB,\n    SAR,\n    SEK,\n    SGD,\n    THB,\n    TRY,\n    TWD,\n    ZAR,\n    XAG,\n    XAU,\n    BTC,\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\n\n/** Represents an asset made of gold. */\nexport class GoldAsset extends PreciousMetalAsset {\n    public readonly type = \"Gold\";\n\n    public constructor(parent: IParent, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lbma/gold.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { BlockcypherWallet } from \"./BlockcypherWallet\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\n\n/** Represents an LTC wallet. */\nexport class LtcWallet extends BlockcypherWallet {\n    public readonly type = \"Litecoin\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"LTC\"));\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { CryptoCompareRequest } from \"./CryptoCompareRequest\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\n\nexport class ExchangeRate {\n    public static get(currency: Currency) {\n        const request = ExchangeRate.currencyMap.get(currency);\n\n        if (!request) {\n            throw new Error(\"Unknown currency!\");\n        }\n\n        return request.execute();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly currencyMap = new Map<Currency, IWebRequest<number>>([\n        // cSpell:ignore xudladd, xudlcdd, xudlbk, xudlsfd, xudldkd, xudlgbd, xudlhdd, xudljyd, xudlnkd, xudlndd\n        // cSpell:ignore xudlsrd, xudlskd, xudlsgd, xudltwd, xudlzrd\n        [Currency.USD, new QuandlRequest(\"\", false)],\n        [Currency.AUD, new QuandlRequest(\"boe/xudladd.json\", false)],\n        [Currency.CAD, new QuandlRequest(\"boe/xudlcdd.json\", false)],\n        [Currency.CNY, new QuandlRequest(\"boe/xudlbk73.json\", false)],\n        [Currency.CHF, new QuandlRequest(\"boe/xudlsfd.json\", false)],\n        [Currency.CZK, new QuandlRequest(\"boe/xudlbk27.json\", false)],\n        [Currency.DKK, new QuandlRequest(\"boe/xudldkd.json\", false)],\n        [Currency.GBP, new QuandlRequest(\"boe/xudlgbd.json\", false)],\n        [Currency.HKD, new QuandlRequest(\"boe/xudlhdd.json\", false)],\n        [Currency.HUF, new QuandlRequest(\"boe/xudlbk35.json\", false)],\n        [Currency.INR, new QuandlRequest(\"boe/xudlbk64.json\", false)],\n        [Currency.JPY, new QuandlRequest(\"boe/xudljyd.json\", false)],\n        [Currency.KRW, new QuandlRequest(\"boe/xudlbk74.json\", false)],\n        [Currency.LTL, new QuandlRequest(\"boe/xudlbk38.json\", false)],\n        [Currency.MYR, new QuandlRequest(\"boe/xudlbk66.json\", false)],\n        [Currency.NIS, new QuandlRequest(\"boe/xudlbk65.json\", false)],\n        [Currency.NOK, new QuandlRequest(\"boe/xudlnkd.json\", false)],\n        [Currency.NZD, new QuandlRequest(\"boe/xudlndd.json\", false)],\n        [Currency.PLN, new QuandlRequest(\"boe/xudlbk49.json\", false)],\n        [Currency.RUB, new QuandlRequest(\"boe/xudlbk69.json\", false)],\n        [Currency.SAR, new QuandlRequest(\"boe/xudlsrd.json\", false)],\n        [Currency.SEK, new QuandlRequest(\"boe/xudlskd.json\", false)],\n        [Currency.SGD, new QuandlRequest(\"boe/xudlsgd.json\", false)],\n        [Currency.THB, new QuandlRequest(\"boe/xudlbk72.json\", false)],\n        [Currency.TRY, new QuandlRequest(\"boe/xudlbk75.json\", false)],\n        [Currency.TWD, new QuandlRequest(\"boe/xudltwd.json\", false)],\n        [Currency.ZAR, new QuandlRequest(\"boe/xudlzrd.json\", false)],\n        [Currency.XAG, new QuandlRequest(\"lbma/silver.json\", true)],\n        [Currency.XAU, new QuandlRequest(\"lbma/gold.json\", true)],\n        [Currency.BTC, new CryptoCompareRequest(\"BTC\", true)],\n    ]);\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the possible asset types. */\nexport enum AssetType {\n    \"Silver\",\n    \"Palladium\",\n    \"Platinum\",\n    \"Gold\",\n    \"Bitcoin\",\n    \"Litecoin\",\n    \"Ethereum Classic\",\n    \"Ethereum\",\n    \"ERC20 Tokens\",\n    \"Bitcoin Gold\",\n    \"Dash\",\n    \"Zcash\",\n    \"Misc\",\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { ExchangeRate } from \"./ExchangeRate\";\nimport { GenericAssetBundle } from \"./GenericAssetBundle\";\nimport { SingleAsset } from \"./SingleAsset\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\nimport { CurrencyName } from \"./validation/schemas/CurrencyName.schema\";\nimport { IMiscAsset } from \"./validation/schemas/IMiscAsset.schema\";\nimport { IMiscAssetProperties } from \"./validation/schemas/IMiscAssetProperties.schema\";\nimport { Quantity0 } from \"./validation/schemas/Quantity0.schema\";\n\n/** Represents a miscellaneous asset. */\nexport class MiscAsset extends SingleAsset {\n    public readonly type = \"Misc\";\n\n    public readonly description: string;\n\n    public readonly location: string;\n\n    public get unit() {\n        return MiscAsset.getUnit(this.value, Currency[this.valueCurrency]);\n    }\n\n    public get fineness() {\n        return undefined;\n    }\n\n    public readonly value: number;\n\n    public readonly valueCurrency: CurrencyName;\n\n    public readonly quantity: Quantity0;\n\n    public readonly displayDecimals = 0;\n\n    public readonly notes: string;\n\n    public constructor(parent: IParent, props: IMiscAssetProperties) {\n        super(parent);\n        this.description = props.description;\n        this.location = props.location || \"\";\n        this.value = props.value;\n        this.valueCurrency = props.valueCurrency;\n        this.quantity = props.quantity;\n        this.notes = props.notes || \"\";\n    }\n\n    /** @internal */\n    public toJSON(): IMiscAsset {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location || undefined,\n            value: this.value,\n            valueCurrency: this.valueCurrency,\n            quantity: this.quantity,\n            notes: this.notes || undefined,\n        };\n    }\n\n    public bundle(bundle?: unknown): GenericAssetBundle<MiscAsset> {\n        return new MiscAsset.Bundle(this);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryUnitValueUsd() {\n        return this.value / await ExchangeRate.get(Currency[this.valueCurrency]);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line: max-classes-per-file variable-name\n    private static readonly Bundle = class NestedBundle extends GenericAssetBundle<MiscAsset> {\n        public toJSON() {\n            return {\n                primaryAsset: this.assets[0].toJSON(),\n            };\n        }\n    };\n\n    private static readonly unitFormatOptions = {\n        maximumFractionDigits: 2,\n        minimumFractionDigits: 2,\n        useGrouping: true,\n    };\n\n    private static getUnit(value: number, valueCurrency: Currency) {\n        return `${value.toLocaleString(undefined, MiscAsset.unitFormatOptions)} ${Currency[valueCurrency]}`;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { MiscAsset } from \"./MiscAsset\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\nimport { IMiscAssetProperties } from \"./validation/schemas/IMiscAssetProperties.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\n\n/**\n * Defines how the properties of a miscellaneous asset need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport class MiscAssetInputInfo extends AssetInputInfo {\n    public readonly type = \"Misc\";\n    public readonly description = new TextInputInfo({\n        label: \"Description\", hint: \"The nature of the items, e.g. 'Cash', 'Vacation House'.\",\n        isPresent: true, isRequired: true, schemaName: \"Text\",\n    });\n    public readonly location = new TextInputInfo({\n        label: \"Location\", hint: \"The location, e.g. 'Safe', 'Redford'.\", isPresent: true, isRequired: false,\n        schemaName: \"Text\",\n    });\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo<typeof WeightUnit>();\n    public readonly fineness = new TextInputInfo();\n    public readonly value = new TextInputInfo({\n        label: \"Value\",\n        hint: \"The value of a single item, expressed in Currency. A liability can be expressed with a negative number\",\n        isPresent: true, isRequired: true, schemaName: \"Value\",\n    });\n    public readonly valueCurrency = new SelectInputInfo({\n        label: \"Currency\", hint: \"The currency Value is expressed in.\", isPresent: true, isRequired: true,\n        enumType: Currency, enumSchemaNames: [\"CurrencyName\"],\n    });\n    public readonly quantity = new TextInputInfo({\n        label: \"Quantity\", hint: \"The number of items.\", isPresent: true, isRequired: true, schemaName: \"Quantity0\",\n    });\n\n    // tslint:disable-next-line: prefer-function-over-method\n    public createAsset(parent: IParent, props: IMiscAssetProperties) {\n        return new MiscAsset(parent, props);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\n\n/** Represents an asset made of palladium. */\nexport class PalladiumAsset extends PreciousMetalAsset {\n    public readonly type = \"Palladium\";\n\n    public constructor(parent: IParent, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lppm/pall.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\n\n/** Represents an asset made of platinum. */\nexport class PlatinumAsset extends PreciousMetalAsset {\n    public readonly type = \"Platinum\";\n\n    public constructor(parent: IParent, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lppm/plat.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\nimport { PreciousMetalAssetTypeName } from \"./validation/schemas/IPreciousMetalAsset.schema\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\n\n/**\n * Defines how the properties of a precious metal asset need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport class PreciousMetalAssetInputInfo extends AssetInputInfo {\n    public readonly description = new TextInputInfo({\n        label: \"Description\", hint: \"Describes the items, e.g. 'Coins', 'Bars'.\", isPresent: true, isRequired: true,\n        schemaName: \"Text\",\n    });\n    public readonly location = new TextInputInfo({\n        label: \"Location\", hint: \"The location, e.g. 'Safe', 'Safety Deposit Box'.\", isPresent: true, isRequired: false,\n        schemaName: \"Text\",\n    });\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo({\n        label: \"Weight\", hint: \"The weight of a single item, expressed in Unit.\", isPresent: true, isRequired: true,\n        schemaName: \"Weight\",\n    });\n    public readonly weightUnit = new SelectInputInfo({\n        label: \"Unit\", hint: \"The unit Weight is expressed in.\", isPresent: true, isRequired: true,\n        enumType: WeightUnit, enumSchemaNames: [\"WeightUnitName\"],\n    });\n    public readonly fineness = new TextInputInfo({\n        label: \"Fineness\", hint: \"The precious metal fineness.\", isPresent: true, isRequired: true,\n        schemaName: \"Fineness\",\n    });\n    public readonly value = new TextInputInfo();\n    public readonly valueCurrency = new SelectInputInfo<typeof Currency>();\n    public readonly quantity = new TextInputInfo({\n        label: \"Quantity\", hint: \"The number of items.\", isPresent: true, isRequired: true, schemaName: \"Quantity0\",\n    });\n\n    /** @internal */\n    public constructor(\n        public readonly type: PreciousMetalAssetTypeName,\n        private readonly ctor: new (parent: IParent, props: IPreciousMetalAssetProperties) => PreciousMetalAsset) {\n        super();\n    }\n\n    public createAsset(parent: IParent, props: IPreciousMetalAssetProperties) {\n        return new this.ctor(parent, props);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { PreciousMetalAsset } from \"./PreciousMetalAsset\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\n\n/** Represents an asset made of silver. */\nexport class SilverAsset extends PreciousMetalAsset {\n    public readonly type = \"Silver\";\n\n    public constructor(parent: IParent, props: IPreciousMetalAssetProperties) {\n        super(parent, props, \"lbma/silver.json\");\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IErc20TokensWalletProperties } from \"./IErc20TokensWalletProperties.schema\";\n\nexport const erc20TokensWalletTypeNames = [\"ERC20 Tokens\"] as const;\n\nexport type Erc20TokensWalletTypeName = (typeof erc20TokensWalletTypeNames)[number];\n\nexport interface IErc20TokensObject {\n    readonly type: Erc20TokensWalletTypeName;\n}\n\nexport interface IErc20TokensWallet extends IErc20TokensObject, IErc20TokensWalletProperties {\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IMiscAssetProperties } from \"./IMiscAssetProperties.schema\";\n\nexport const miscAssetTypeNames = [\"Misc\"] as const;\n\nexport type MiscAssetTypeName = (typeof miscAssetTypeNames)[number];\n\nexport interface IMiscObject {\n    readonly type: MiscAssetTypeName;\n}\n\nexport interface IMiscAsset extends IMiscObject, IMiscAssetProperties {\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IPreciousMetalAssetProperties } from \"./IPreciousMetalAssetProperties.schema\";\n\nexport const preciousMetalAssetTypeNames = [\"Silver\", \"Palladium\", \"Platinum\", \"Gold\"] as const;\n\nexport type PreciousMetalAssetTypeName = (typeof preciousMetalAssetTypeNames)[number];\n\nexport interface IPreciousMetalObject {\n    readonly type: PreciousMetalAssetTypeName;\n}\n\nexport interface IPreciousMetalAsset extends IPreciousMetalObject, IPreciousMetalAssetProperties {\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { ISimpleCryptoWalletProperties } from \"./ISimpleCryptoWalletProperties.schema\";\n\nexport const simpleCryptoWalletTypeNames = [\n    \"Bitcoin\", \"Litecoin\", \"Ethereum Classic\", \"Ethereum\", \"Bitcoin Gold\", \"Dash\", \"Zcash\",\n] as const;\n\nexport type SimpleCryptoWalletTypeName = (typeof simpleCryptoWalletTypeNames)[number];\n\nexport interface ISimpleCryptoObject {\n    readonly type: SimpleCryptoWalletTypeName;\n}\n\nexport type ISimpleCryptoWallet = ISimpleCryptoObject & ISimpleCryptoWalletProperties;\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class ZchainGetAccountResponse {\n    public readonly balance!: number;\n    readonly [key: string]: unknown;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { QueryCache } from \"./QueryCache\";\nimport { RealCryptoWallet } from \"./RealCryptoWallet\";\nimport { SimpleCryptoWallet } from \"./SimpleCryptoWallet\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\nimport { ZchainGetAccountResponse } from \"./validation/schemas/ZchainGetAccountResponse.schema\";\n\n/** Represents a ZEC wallet. */\nexport class ZecWallet extends SimpleCryptoWallet {\n    public readonly type = \"Zcash\";\n\n    public constructor(parent: IParent, props: ISimpleCryptoWalletProperties) {\n        super(parent, RealCryptoWallet.getProperties(props, \"ZEC\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected async queryQuantity() {\n        const url = `https://api.zcha.in/v2/mainnet/accounts/${this.address}`;\n\n        return (await QueryCache.fetch(url, ZchainGetAccountResponse)).balance;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { BtcWallet } from \"./BtcWallet\";\nimport { BtgWallet } from \"./BtgWallet\";\nimport { CryptoWalletInputInfo } from \"./CryptoWalletInputInfo\";\nimport { DashWallet } from \"./DashWallet\";\nimport { Erc20TokensWallet } from \"./Erc20TokensWallet\";\nimport { EtcWallet } from \"./EtcWallet\";\nimport { EthWallet } from \"./EthWallet\";\nimport { GoldAsset } from \"./GoldAsset\";\nimport { LtcWallet } from \"./LtcWallet\";\nimport { MiscAssetInputInfo } from \"./MiscAssetInputInfo\";\nimport { PalladiumAsset } from \"./PalladiumAsset\";\nimport { PlatinumAsset } from \"./PlatinumAsset\";\nimport { PreciousMetalAssetInputInfo } from \"./PreciousMetalAssetInputInfo\";\nimport { SilverAsset } from \"./SilverAsset\";\nimport { erc20TokensWalletTypeNames, IErc20TokensObject } from \"./validation/schemas/IErc20TokensWallet.schema\";\nimport { IErc20TokensWalletProperties } from \"./validation/schemas/IErc20TokensWalletProperties.schema\";\nimport { IMiscObject, miscAssetTypeNames } from \"./validation/schemas/IMiscAsset.schema\";\nimport { IPreciousMetalObject, preciousMetalAssetTypeNames } from \"./validation/schemas/IPreciousMetalAsset.schema\";\nimport { ISimpleCryptoObject, simpleCryptoWalletTypeNames } from \"./validation/schemas/ISimpleCryptoWallet.schema\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\nimport { ObjectUnion } from \"./validation/schemas/ObjectUnion.schema\";\nimport { ZecWallet } from \"./ZecWallet\";\n\n// cSpell:ignore xpub, ypub, Mtub, Ltub, drkp, zcha\nconst btcHint =\n    \"The wallets public address, single or xpub (ypub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to blockchain.info to query the balance.</strong>\";\n\nconst ltcHint =\n    \"The wallets single public address (neither Mtub nor Ltub are supported). \" +\n    \"<strong style='color:red'>Will be sent to blockcypher.com to query the balance.</strong>\";\n\nconst etcHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to blockscout.com to query the balance.</strong>\";\n\nconst ethHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to ethplorer.io to query the ETH balance.</strong>\";\n\nconst erc20Hint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to ethplorer.io to query ERC20 token balances.</strong>\";\n\nconst btgHint =\n    \"The wallets single public address (ypub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to bitcoingold.org to query the balance.</strong>\";\n\nconst dashHint =\n    \"The wallets single public address (drkp is not supported). \" +\n    \"<strong style='color:red'>Will be sent to blockcypher.com to query the balance.</strong>\";\n\nconst zecHint =\n    \"The wallets single public address (xpub is not supported). \" +\n    \"<strong style='color:red'>Will be sent to zcha.in to query the balance.</strong>\";\n\ntype Converters<P, S, E, M, PR, SR, ER, MR> = [\n    (value: P, info: PreciousMetalAssetInputInfo) => PR,\n    (value: S, info: CryptoWalletInputInfo<ISimpleCryptoWalletProperties>) => SR,\n    (value: E, info: CryptoWalletInputInfo<IErc20TokensWalletProperties>) => ER,\n    (value: M, info: MiscAssetInputInfo) => MR,\n];\n\nexport class ObjectConverter {\n    public static readonly infos = [\n        new PreciousMetalAssetInputInfo(\"Silver\", SilverAsset),\n        new PreciousMetalAssetInputInfo(\"Palladium\", PalladiumAsset),\n        new PreciousMetalAssetInputInfo(\"Platinum\", PlatinumAsset),\n        new PreciousMetalAssetInputInfo(\"Gold\", GoldAsset),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Bitcoin\", ctor: BtcWallet, addressHint: btcHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Litecoin\", ctor: LtcWallet, addressHint: ltcHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Ethereum Classic\", ctor: EtcWallet, addressHint: etcHint, quantityDecimals: 18 }),\n        new CryptoWalletInputInfo<IErc20TokensWalletProperties>(\n            { type: \"ERC20 Tokens\", ctor: Erc20TokensWallet, addressHint: erc20Hint }),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Ethereum\", ctor: EthWallet, addressHint: ethHint, quantityDecimals: 18 }),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Bitcoin Gold\", ctor: BtgWallet, addressHint: btgHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Dash\", ctor: DashWallet, addressHint: dashHint, quantityDecimals: 8 }),\n        new CryptoWalletInputInfo<ISimpleCryptoWalletProperties>(\n            { type: \"Zcash\", ctor: ZecWallet, addressHint: zecHint, quantityDecimals: 8 }),\n        new MiscAssetInputInfo(),\n    ] as const;\n\n    public static convert<\n        P extends IPreciousMetalObject,\n        S extends ISimpleCryptoObject,\n        E extends IErc20TokensObject,\n        M extends IMiscObject,\n        PR, SR, ER, MR,\n    >(\n        rawObject: P | S | E | M,\n        [convertPreciousMetalObject, convertSimpleCryptoObject, convertErc20TokensObject, convertMiscObject]:\n            Converters<P, S, E, M, PR, SR, ER, MR>,\n    ) {\n        // TODO: This is rather unwieldy. Once we switch over to schema-based validation completely, some of this should\n        // go away...\n        if (ObjectConverter.is<P>(rawObject, preciousMetalAssetTypeNames)) {\n            const info = ObjectConverter.getInfo<PreciousMetalAssetInputInfo>(rawObject.type);\n\n            return [info, convertPreciousMetalObject(rawObject, info)] as const;\n        } else if (ObjectConverter.is<S>(rawObject, simpleCryptoWalletTypeNames)) {\n            const info = ObjectConverter.getInfo<CryptoWalletInputInfo<ISimpleCryptoWalletProperties>>(rawObject.type);\n\n            return [info, convertSimpleCryptoObject(rawObject, info)] as const;\n        } else if (ObjectConverter.is<E>(rawObject, erc20TokensWalletTypeNames)) {\n            const info = ObjectConverter.getInfo<CryptoWalletInputInfo<IErc20TokensWalletProperties>>(rawObject.type);\n\n            return [info, convertErc20TokensObject(rawObject, info)] as const;\n        } else if (ObjectConverter.is<M>(rawObject, miscAssetTypeNames)) {\n            const info = ObjectConverter.getInfo<MiscAssetInputInfo>(rawObject.type);\n\n            return [info, convertMiscObject(rawObject, info)] as const;\n        } else {\n            throw ObjectConverter.getUnhandledError(rawObject);\n        }\n    }\n\n    public static is<T extends ObjectUnion>(\n        rawObject: ObjectUnion, types: ReadonlyArray<T[\"type\"]>): rawObject is T {\n        return types.includes(rawObject.type);\n    }\n\n    private static getInfo<T extends (typeof ObjectConverter.infos)[number]>(type: T[\"type\"]) {\n        const result = ObjectConverter.infos.find<T>((info: AssetInputInfo): info is T => info.type === type);\n\n        if (!result) {\n            // TODO: Can't we do this statically?\n            throw new Error(\"InputInfo not found!\");\n        }\n\n        return result;\n    }\n\n    private static getUnhandledError(value: never) {\n        return new Error(value);\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAuxProperties } from \"./IAuxProperties\";\nimport { ObjectConverter } from \"./ObjectConverter\";\nimport { AssetTypeName } from \"./validation/schemas/AssetTypeName.schema\";\nimport { AssetUnion } from \"./validation/schemas/AssetUnion.schema\";\nimport { CurrencyName } from \"./validation/schemas/CurrencyName.schema\";\nimport { IMiscAsset, miscAssetTypeNames } from \"./validation/schemas/IMiscAsset.schema\";\nimport { IPreciousMetalAsset, preciousMetalAssetTypeNames } from \"./validation/schemas/IPreciousMetalAsset.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\nimport { WeightUnitName } from \"./validation/schemas/WeightUnitName.schema\";\n\n/** Represents the data being edited in the asset editor. */\nexport class AssetEditorData implements Partial<IAuxProperties<string>> {\n    public type: AssetTypeName | \"\";\n    public description?: string;\n    public location?: string;\n    public address?: string;\n    public weight?: string;\n    public weightUnit?: WeightUnitName;\n    public fineness?: string;\n    public value?: string;\n    public valueCurrency?: CurrencyName;\n    public quantity?: string;\n    public notes?: string;\n\n    /** @internal */\n    // The high ABC is due to the number of properties that need to be assigned. Breaking this up would not improve\n    // readability.\n    // codebeat:disable[ABC]\n    public constructor(asset?: AssetUnion) {\n        this.type = AssetEditorData.getType(asset);\n        this.description = AssetEditorData.getDescription(asset);\n        this.location = AssetEditorData.getLocation(asset);\n        this.address = AssetEditorData.getAddress(asset);\n        this.weight = AssetEditorData.getWeight(asset);\n        this.weightUnit = AssetEditorData.getWeightUnit(asset);\n        this.fineness = AssetEditorData.getFineness(asset);\n        this.value = AssetEditorData.getValue(asset);\n        this.valueCurrency = AssetEditorData.getValueCurrency(asset);\n        this.quantity = AssetEditorData.getQuantity(asset);\n        this.notes = AssetEditorData.getNotes(asset);\n    }\n    // codebeat:enable[ABC]\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getType(asset?: AssetUnion) {\n        return asset && asset.type || \"\";\n    }\n\n    private static getDescription(asset?: AssetUnion) {\n        return asset && asset.description;\n    }\n\n    private static getLocation(asset?: AssetUnion) {\n        return asset && asset.location;\n    }\n\n    private static getAddress(asset?: AssetUnion) {\n        return asset && (\"address\" in asset) && asset.address || undefined;\n    }\n\n    private static getWeight(asset?: AssetUnion) {\n        return AssetEditorData.isPreciousMetalAsset(asset) ? asset.weight.toString() : undefined;\n    }\n\n    private static getWeightUnit(asset?: AssetUnion) {\n        return AssetEditorData.isPreciousMetalAsset(asset) ? WeightUnit[asset.weightUnit] as WeightUnitName : undefined;\n    }\n\n    private static getFineness(asset?: AssetUnion) {\n        return AssetEditorData.isPreciousMetalAsset(asset) ? asset.fineness.toString() : undefined;\n    }\n\n    private static getValue(asset?: AssetUnion) {\n        return AssetEditorData.isMiscAsset(asset) ? asset.value.toString() : undefined;\n    }\n\n    private static getValueCurrency(asset?: AssetUnion) {\n        return AssetEditorData.isMiscAsset(asset) ? asset.valueCurrency : undefined;\n    }\n\n    private static getQuantity(asset?: AssetUnion) {\n        return asset && (\"quantity\" in asset) && asset.quantity.toString() || undefined;\n    }\n\n    private static getNotes(asset?: AssetUnion) {\n        return asset && asset.notes;\n    }\n\n    private static isPreciousMetalAsset(asset?: AssetUnion): asset is IPreciousMetalAsset {\n        return AssetEditorData.isType<IPreciousMetalAsset>(preciousMetalAssetTypeNames, asset);\n    }\n\n    private static isMiscAsset(asset?: AssetUnion): asset is IMiscAsset {\n        return AssetEditorData.isType<IMiscAsset>(miscAssetTypeNames, asset);\n    }\n\n    private static isType<T extends AssetUnion>(\n        types: ReadonlyArray<T[\"type\"]>, rawAsset?: AssetUnion,\n    ): rawAsset is T {\n        return (rawAsset && ObjectConverter.is<T>(rawAsset, types)) || false;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { ObjectConverter } from \"./ObjectConverter\";\n\n// tslint:disable-next-line: max-classes-per-file\nexport class AssetInput {\n    /** Provides information objects for each of the supported asset types. */\n    public static readonly infos = ObjectConverter.infos;\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IParent } from \"./Asset\";\nimport { AssetEditorData } from \"./AssetEditorData\";\nimport { ObjectConverter } from \"./ObjectConverter\";\nimport { IErc20TokensWalletProperties } from \"./validation/schemas/IErc20TokensWalletProperties.schema\";\nimport { IMiscAssetProperties } from \"./validation/schemas/IMiscAssetProperties.schema\";\nimport { IPreciousMetalAssetProperties } from \"./validation/schemas/IPreciousMetalAssetProperties.schema\";\nimport { ISimpleCryptoWalletProperties } from \"./validation/schemas/ISimpleCryptoWalletProperties.schema\";\nimport { WeightUnit } from \"./validation/schemas/WeightUnit.schema\";\n\nclass AssetProperties {\n    public get description() {\n        return AssetProperties.validate(\"description\", this.data.description);\n    }\n\n    public get location() {\n        return this.data.location;\n    }\n\n    public get address() {\n        return this.data.address;\n    }\n\n    public get weight() {\n        return Number.parseFloat(AssetProperties.validate(\"weight\", this.data.weight));\n    }\n\n    public get weightUnit() {\n        return WeightUnit[AssetProperties.validate(\"weightUnit\", this.data.weightUnit)];\n    }\n\n    public get fineness() {\n        return Number.parseFloat(AssetProperties.validate(\"fineness\", this.data.fineness));\n    }\n\n    public get value() {\n        return Number.parseFloat(AssetProperties.validate(\"value\", this.data.value));\n    }\n\n    public get valueCurrency() {\n        return AssetProperties.validate(\"valueCurrency\", this.data.valueCurrency);\n    }\n\n    public get quantity() {\n        return this.data.quantity ? Number.parseFloat(this.data.quantity) : undefined;\n    }\n\n    public get notes() {\n        return this.data.notes;\n    }\n\n    public constructor(protected readonly data: AssetEditorData) {\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected static validate<T extends string | undefined>(name: string, value: T): Exclude<T, undefined | \"\"> {\n        if (!value) {\n            throw new Error(`Unexpected ${name}.`);\n        }\n\n        return value as Exclude<T, undefined | \"\">;\n    }\n}\n\n// tslint:disable-next-line: max-classes-per-file\nclass RequiredQuantityAssetProperties extends AssetProperties {\n    public get quantity() {\n        return Number.parseFloat(AssetProperties.validate(\"quantity\", this.data.quantity));\n    }\n}\n\n// tslint:disable-next-line: max-classes-per-file\nclass RequiredAddressAssetProperties extends AssetProperties {\n    public get address() {\n        return AssetProperties.validate(\"address\", this.data.address);\n    }\n}\n\n// tslint:disable-next-line: only-arrow-functions\nexport function getPreciousMetalProperties(data: AssetEditorData): IPreciousMetalAssetProperties {\n    return new RequiredQuantityAssetProperties(data);\n}\n\n// tslint:disable-next-line: only-arrow-functions\nexport function getSimpleCryptoWalletProperties(data: AssetEditorData): ISimpleCryptoWalletProperties {\n    if (data.address) {\n        return new RequiredAddressAssetProperties(data);\n    } else if (data.quantity) {\n        return new RequiredQuantityAssetProperties(data);\n    } else {\n        throw new Error(\"Invalid data!\");\n    }\n}\n\n// tslint:disable-next-line: only-arrow-functions\nexport function getErc20TokensWalletProperties(data: AssetEditorData): IErc20TokensWalletProperties {\n    return new RequiredAddressAssetProperties(data);\n}\n\n// tslint:disable-next-line: only-arrow-functions\nexport function getMiscAssetProperties(data: AssetEditorData): IMiscAssetProperties {\n    return new RequiredQuantityAssetProperties(data);\n}\n\n// tslint:disable-next-line: only-arrow-functions\nexport function createAsset(parent: IParent, data: AssetEditorData) {\n    if (data.type === \"\") {\n        throw new Error(\"Invalid asset type!\");\n    }\n\n    return ObjectConverter.convert(\n        { type: data.type },\n        [\n            (value, info) => ((p: IParent) => info.createAsset(p, getPreciousMetalProperties(data)) as Asset),\n            (value, info) => ((p: IParent) => info.createAsset(p, getSimpleCryptoWalletProperties(data))),\n            (value, info) => ((p: IParent) => info.createAsset(p, getErc20TokensWalletProperties(data))),\n            (value, info) => ((p: IParent) => info.createAsset(p, getMiscAssetProperties(data))),\n        ],\n    )[1](parent);\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"../model/Asset\";\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { Currency } from \"../model/validation/schemas/Currency.schema\";\nimport { WeightUnit } from \"../model/validation/schemas/WeightUnit.schema\";\n\n/**\n * Defines how an asset with no properties needs to be \"input\".\n * @description This is a virtual asset that is only useful to define how the [[AssetEditor]] UI looks like when no\n * asset type has been selected yet.\n */\nexport class NoAssetInputInfo extends AssetInputInfo {\n    public readonly type = \"\";\n    public readonly description = new TextInputInfo();\n    public readonly location = new TextInputInfo();\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo<typeof WeightUnit>();\n    public readonly fineness = new TextInputInfo();\n    public readonly value = new TextInputInfo();\n    public readonly valueCurrency = new SelectInputInfo<typeof Currency>();\n    public readonly quantity = new TextInputInfo();\n    public readonly notes = new TextInputInfo();\n\n    /** @internal */\n    public constructor() {\n        super();\n    }\n\n    // tslint:disable-next-line: prefer-function-over-method\n    public createAsset(): Asset {\n        throw new Error(\"Can't create asset.\");\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":!_vm.large}},[_c('v-select',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"items\":_vm.items,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop, Vue } from \"vue-property-decorator\";\n\n/** Defines common component functionality. */\nexport class ComponentBase<T> extends Vue {\n    @Prop()\n    public value?: T;\n\n    /**\n     * Provides the value.\n     * @description Provides whatever is set for `value`, but ensures that the value cannot be undefined.\n     */\n    public get checkedValue() {\n        if (this.value === undefined) {\n            throw new Error(\"No value set.\");\n        }\n\n        return this.value;\n    }\n\n    public set checkedValue(value: T) {\n        this.$emit(\"input\", value);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** Gets the control with the supplied ref. */\n    protected getControl(ref: string) {\n        return this.$refs[ref] as Vue;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop } from \"vue-property-decorator\";\n\nimport { AssetPropertyName } from \"../model/AssetInterfaces\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { InputUtility } from \"../model/Input\";\nimport { InputInfo } from \"../model/InputInfo\";\nimport { PrimitiveInputInfo } from \"../model/PrimitiveInputInfo\";\n\nimport { ComponentBase } from \"./ComponentBase\";\n\n/** Defines the base for all controls that simplify common functionality like e.g. validation. */\nexport abstract class ControlBase<T extends PrimitiveInputInfo> extends ComponentBase<IAuxProperties<string> | string> {\n    @Prop()\n    public info?: InputInfo;\n\n    @Prop()\n    public property?: AssetPropertyName;\n\n    public get isPresent() {\n        return this.primitiveInputInfo.isPresent;\n    }\n\n    public get isRequired() {\n        return this.primitiveInputInfo.isRequired;\n    }\n\n    public get label() {\n        return this.primitiveInputInfo.label;\n    }\n\n    public get hint() {\n        return this.primitiveInputInfo.hint;\n    }\n\n    public get propertyValue() {\n        return InputUtility.isComposite(this.checkedValue) ?\n            this.checkedValue[this.checkedProperty] : this.checkedValue;\n    }\n\n    public set propertyValue(value: string) {\n        if (InputUtility.isComposite(this.checkedValue)) {\n            this.checkedValue[this.checkedProperty] = value;\n        } else {\n            this.checkedValue = value;\n        }\n    }\n\n    public validate() {\n        return this.checkedInfo.validate(false, this.checkedValue, this.property);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected abstract get primitiveInputInfo(): T;\n\n    protected get checkedInfo() {\n        if (this.info === undefined) {\n            throw new Error(\"No info set!\");\n        }\n\n        return this.info;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get checkedProperty() {\n        if (this.property === undefined) {\n            throw new Error(\"No property set!\");\n        }\n\n        return this.property;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport { SelectInputInfo, SelectInputInfoBase } from \"../model/SelectInputInfo\";\n\nimport { ControlBase } from \"./ControlBase\";\n\n@Component\n/** Implements a select control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class Select extends ControlBase<SelectInputInfoBase> {\n    @Prop()\n    public large?: boolean;\n\n    public get items() {\n        return this.primitiveInputInfo.items;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): SelectInputInfoBase {\n        return this.checkedInfo.get(SelectInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=1c155300&scoped=true&\"\nimport script from \"./Select.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./Select.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c155300\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib'\nimport { VSelect } from 'vuetify/lib'\ninstallComponents(component, {VFlex,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\"}},[_c('v-textarea',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\n\nimport { TextInputInfo } from \"../model/TextInputInfo\";\n\nimport { ControlBase } from \"./ControlBase\";\n\n@Component\n/** Implements a text area control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextArea extends ControlBase<TextInputInfo> {\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextArea.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextArea.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextArea.vue?vue&type=template&id=17323bf9&scoped=true&\"\nimport script from \"./TextArea.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./TextArea.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17323bf9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib'\nimport { VTextarea } from 'vuetify/lib'\ninstallComponents(component, {VFlex,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":!_vm.large}},[_c('v-text-field',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"type\":_vm.type,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport { TextInputInfo } from \"../model/TextInputInfo\";\n\nimport { ControlBase } from \"./ControlBase\";\n\n@Component\n/** Implements a text field control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextField extends ControlBase<TextInputInfo> {\n    @Prop()\n    public large?: boolean;\n\n    public get type() {\n        return this.primitiveInputInfo.type;\n    }\n\n    public get min() {\n        return this.primitiveInputInfo.min;\n    }\n\n    public get max() {\n        return this.primitiveInputInfo.max;\n    }\n\n    public get step() {\n        return this.primitiveInputInfo.step;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextField.vue?vue&type=template&id=02bdd4b9&scoped=true&\"\nimport script from \"./TextField.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./TextField.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02bdd4b9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VFlex,VTextField})\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\nimport { Asset, IParent } from \"../model/Asset\";\nimport { AssetEditorData } from \"../model/AssetEditorData\";\nimport { AssetInput } from \"../model/AssetInput\";\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { createAsset } from \"../model/AssetProperties\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { AssetType } from \"../model/validation/schemas/AssetType.schema\";\n\nimport { NoAssetInputInfo } from \"./NoAssetInputInfo\";\n// tslint:disable-next-line:no-default-import\nimport Select from \"./Select.vue\";\n// tslint:disable-next-line:no-default-import\nimport TextArea from \"./TextArea.vue\";\n// tslint:disable-next-line:no-default-import\nimport TextField from \"./TextField.vue\";\n\n@Component({ components: { Select, TextArea, TextField } })\n/** Implements the dialog used to edit assets. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetEditor extends Vue {\n    /** Provides a value indicating whether the asset editor is currently open. */\n    public isOpen = false;\n\n    /** Provides the title of the asset editor. */\n    public get title() {\n        return this.isExistingAsset ? \"Edit Asset\" : \"New Asset\";\n    }\n\n    /** Provides the asset type input information. */\n    public get typeInputInfo() {\n        return new SelectInputInfo({\n            label: \"Type\", hint: \"\", isPresent: true, isRequired: true, enumType: AssetType,\n            enumSchemaNames: [\"AssetTypeName\"],\n        });\n    }\n\n    /** Provides the currently selected asset type. */\n    public get type() {\n        return this.assetInfo.type;\n    }\n\n    public set type(value: string | undefined) {\n        this.assetInfo = AssetInput.infos.find((info) => info.type === value) || new NoAssetInputInfo();\n        this.data.type = this.assetInfo.type;\n    }\n\n    /** Provides information about the currently selected asset type. */\n    public assetInfo: AssetInputInfo = new NoAssetInputInfo();\n\n    /** Provides the data currently displayed in the asset editor. */\n    public data = new AssetEditorData();\n\n    public onSaveClicked(event: MouseEvent) {\n        if (!this.parent) {\n            throw new Error(\"No parent set!\");\n        }\n\n        if (this.isValid()) {\n            this.close(createAsset(this.parent, this.data));\n        }\n    }\n\n    public onCancelClicked(event: MouseEvent) {\n        this.close();\n    }\n\n    /** @internal */\n    public showDialog(parent: IParent, asset?: Asset) {\n        this.parent = parent;\n        this.isExistingAsset = !!asset;\n        this.assetInfo = AssetEditor.getAssetInfo(asset) || new NoAssetInputInfo();\n        this.data = new AssetEditorData(asset ? asset.editableAsset.toJSON() : undefined);\n        this.isOpen = true;\n\n        return new Promise<Asset | undefined>((resolve) => this.resolve = resolve);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getAssetInfo(asset: Asset | undefined) {\n        return asset ? AssetInput.infos.find((info) => info.type === asset.editableAsset.type) : undefined;\n    }\n\n    private parent?: IParent;\n    private isExistingAsset = false;\n    private resolve?: (value: Asset | undefined) => void;\n\n    private isValid() {\n        this.assetInfo.includeRelations = true;\n\n        try {\n            // tslint:disable-next-line:no-unsafe-any\n            return (this.$refs.form as any).validate();\n        } finally {\n            this.assetInfo.includeRelations = false;\n        }\n    }\n\n    private close(asset?: Asset) {\n        // This is necessary so that the Type field does not initially show an error next time we add a new asset.\n        // tslint:disable-next-line:no-unsafe-any\n        (this.$refs.form as any).reset();\n        // The following line ensures that the property is changed even if we happen to edit the same asset\n        // again. Said change is necessary so that the vue.js change detection is triggered after clearing all fields\n        // with the reset call above.\n        this.assetInfo = new NoAssetInputInfo();\n        this.isOpen = false;\n\n        if (!this.resolve) {\n            throw new Error(\"No resolve callback set!\");\n        }\n\n        this.resolve(asset);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssetEditor.vue?vue&type=template&id=2cc25028&scoped=true&\"\nimport script from \"./AssetEditor.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AssetEditor.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cc25028\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VForm,VLayout,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{on:{\"click\":_vm.onRowClicked}},[_c('td',{class:_vm.getClass('expand')},[(_vm.checkedValue.isExpandable)?_c('div',[(!_vm.checkedValue.isExpanded)?_c('v-icon',[_vm._v(\"expand_more\")]):_vm._e(),(_vm.checkedValue.isExpanded)?_c('v-icon',[_vm._v(\"expand_less\")]):_vm._e()],1):_vm._e()]),_c('td',{class:_vm.getClass(_vm.groupBy),attrs:{\"title\":_vm.groupByHint}},[_vm._v(_vm._s(_vm.groupByContent))]),_c('td',{class:_vm.getClass(_vm.otherGroupBys[0]),attrs:{\"title\":_vm.otherGroupByHints[0]}},[_vm._v(_vm._s(_vm.otherGroupByContents[0]))]),_c('td',{class:_vm.getClass('description'),attrs:{\"title\":_vm.checkedValue.notes}},[_vm._v(_vm._s(_vm.checkedValue.description))]),_c('td',{class:_vm.getClass('unit')},[_vm._v(_vm._s(_vm.checkedValue.unit))]),_c('td',{class:_vm.getClass('finenessInteger')},[_vm._v(_vm._s(_vm.finenessInteger))]),_c('td',{class:_vm.getClass('finenessFraction')},[_vm._v(_vm._s(_vm.finenessFraction))]),_c('td',{class:_vm.getClass('unitValueInteger')},[_vm._v(_vm._s(_vm.unitValueInteger))]),_c('td',{class:_vm.getClass('unitValueFraction'),attrs:{\"title\":_vm.checkedValue.unitValueHint}},[_vm._v(_vm._s(_vm.unitValueFraction))]),_c('td',{class:_vm.getClass('quantityInteger')},[_vm._v(_vm._s(_vm.quantityInteger))]),_c('td',{class:_vm.getClass('quantityFraction'),attrs:{\"title\":_vm.checkedValue.quantityHint}},[_vm._v(_vm._s(_vm.quantityFraction))]),_c('td',{class:_vm.getClass('totalValueInteger')},[_vm._v(_vm._s(_vm.totalValueInteger))]),_c('td',{class:_vm.getClass('totalValueFraction')},[_vm._v(_vm._s(_vm.totalValueFraction))]),_c('td',{class:_vm.getClass('percentInteger')},[_vm._v(_vm._s(_vm.percentInteger))]),_c('td',{class:_vm.getClass('percentFraction')},[_vm._v(_vm._s(_vm.percentFraction))]),_c('td',{class:_vm.getClass('more')},[(_vm.checkedValue.hasActions)?_c('v-menu',[_c('v-btn',{staticClass:\"mx-0\",attrs:{\"slot\":\"activator\",\"icon\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_c('v-list',[_c('v-list-tile',{on:{\"click\":_vm.onEditClicked}},[_c('v-list-tile-title',[_vm._v(\"Edit\")])],1),_c('v-list-tile',{on:{\"click\":_vm.onDeleteClicked}},[_c('v-list-tile-title',[_vm._v(\"Delete\")])],1)],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"../model/Asset\";\nimport { AssetPropertyNames } from \"../model/AssetPropertyNames\";\nimport { CalculatedAssetPropertyNames } from \"../model/CalculatedAssetPropertyNames\";\nimport { IOrdering } from \"../model/Ordering\";\nimport { GroupBy } from \"../model/validation/schemas/GroupBy.schema\";\n\nimport { AssetListRowPropertyName, ColumnName } from \"./AssetListRow.vue\";\n\nexport class ColumnInfo {\n    /** Provides the maximum number of optional columns that can be displayed. */\n    public static get maxOptionalCount() {\n        return ColumnInfo.allColumnCounts.length - 1;\n    }\n\n    /** @internal */\n    public static readonly expandName = \"expand\";\n\n    /** @internal */\n    public static readonly moreName = \"more\";\n\n    /** @internal */\n    public static readonly grandTotalLabelName = \"grandTotalLabel\";\n\n    /** @internal */\n    public static getRawCount(optionalColumnCount: number) {\n        return ColumnInfo.rawColumnCounts[optionalColumnCount];\n    }\n\n    /** @internal */\n    public static getClass(columnName: ColumnName, ordering: IOrdering, optionalColumnCount: number) {\n        const result = new Array<string>(\n            ...ColumnInfo.getHidden(columnName, ordering.groupBy, optionalColumnCount),\n            ...ColumnInfo.getAlignment(columnName),\n            ...ColumnInfo.getPadding(columnName, ordering.groupBy, ordering.otherGroupBys),\n            ...ColumnInfo.getTotal(columnName),\n        );\n\n        if (result.length === 0) {\n            throw new Error(`Unknown column: ${columnName}`);\n        }\n\n        return result;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly finenessIntegerName = ColumnInfo.getName(\"finenessInteger\");\n    private static readonly finenessFractionName = ColumnInfo.getName(\"finenessFraction\");\n    private static readonly unitValueIntegerName = ColumnInfo.getName(\"unitValueInteger\");\n    private static readonly unitValueFractionName = ColumnInfo.getName(\"unitValueFraction\");\n    private static readonly quantityIntegerName = ColumnInfo.getName(\"quantityInteger\");\n    private static readonly quantityFractionName = ColumnInfo.getName(\"quantityFraction\");\n    private static readonly totalValueIntegerName = ColumnInfo.getName(\"totalValueInteger\");\n    private static readonly totalValueFractionName = ColumnInfo.getName(\"totalValueFraction\");\n    private static readonly percentIntegerName = ColumnInfo.getName(\"percentInteger\");\n    private static readonly percentFractionName = ColumnInfo.getName(\"percentFraction\");\n\n    private static readonly allColumns = new Map<GroupBy, ColumnName[]>([\n        [AssetPropertyNames.type, ColumnInfo.getColumns(AssetPropertyNames.type)],\n        [AssetPropertyNames.location, ColumnInfo.getColumns(AssetPropertyNames.location)],\n    ]);\n\n    /**\n     * From the full list of columns (full, integer and fraction) returned by `getColumns`, contains the number of\n     * currently visible columns with the index being the number of currently visible optional full columns. For\n     * example, if no optional full columns are currently visible (i.e. index = 0), the first 7 columns of whatever\n     * is returned by `getColumns` will be shown. Note that said list contains real table columns\n     * as well as \"virtual\" columns. Examples of real table columns are \"totalValueInteger\" and \"unit\" while\n     * \"totalValue\" and \"fineness\" are virtual columns.\n     */\n    private static readonly allColumnCounts = [ 7, 10, 11, 12, 15, 18, 19, 22 ];\n\n    /**\n     * Contains the number of real table columns shown with the index being the number of currently visible optional\n     * full columns.\n     */\n    private static readonly rawColumnCounts = [ 5, 7, 8, 9, 11, 13, 14, 16 ];\n\n    private static getName(name: AssetListRowPropertyName) {\n        return name;\n    }\n\n    private static getColumns(groupBy: GroupBy) {\n        const result: ColumnName[] = [\n            ColumnInfo.expandName, AssetPropertyNames.type,\n            CalculatedAssetPropertyNames.percent, ColumnInfo.percentIntegerName, ColumnInfo.percentFractionName,\n            ColumnInfo.moreName, ColumnInfo.grandTotalLabelName, CalculatedAssetPropertyNames.totalValue,\n            ColumnInfo.totalValueIntegerName, ColumnInfo.totalValueFractionName,\n            AssetPropertyNames.location, CalculatedAssetPropertyNames.unit,\n            Asset.quantityName, ColumnInfo.quantityIntegerName, ColumnInfo.quantityFractionName,\n            CalculatedAssetPropertyNames.unitValue, ColumnInfo.unitValueIntegerName, ColumnInfo.unitValueFractionName,\n            AssetPropertyNames.description,\n            Asset.finenessName, ColumnInfo.finenessIntegerName, ColumnInfo.finenessFractionName,\n        ];\n\n        if (groupBy === AssetPropertyNames.location) {\n            result[1] = AssetPropertyNames.location;\n            result[10] = AssetPropertyNames.type;\n        }\n\n        return result;\n    }\n\n    private static getHidden(columnName: ColumnName, groupBy: GroupBy, optionalColumnCount: number) {\n        const allColumns = ColumnInfo.allColumns.get(groupBy);\n\n        if (!allColumns) {\n            throw new Error(\"Unknown groupBy!\");\n        }\n\n        if (allColumns.indexOf(columnName) >= ColumnInfo.allColumnCounts[optionalColumnCount]) {\n            // TODO: Can't this be done with one class?\n            return [ \"hidden-sm-and-up\", \"hidden-xs-only\" ];\n        }\n\n        return [];\n    }\n\n    // Obviously the metrics could be improved by breaking the method into multiple parts but doing so would make the\n    // code less readable.\n    // codebeat:disable[ABC,CYCLO,LOC]\n    private static getPadding(columnName: string | undefined, groupBy: string, otherGroupBys: GroupBy[]) {\n        const columnPadding = 3;\n        const leftClass = `pl-${columnPadding}`;\n        const rightClass = `pr-${columnPadding}`;\n\n        switch (columnName) {\n            case ColumnInfo.expandName:\n                return [ leftClass, \"pr-2\" ];\n            case groupBy:\n                return [ \"pl-0\", rightClass ];\n            case otherGroupBys[0]:\n            case AssetPropertyNames.description:\n            case CalculatedAssetPropertyNames.unit:\n            case Asset.finenessName:\n            case CalculatedAssetPropertyNames.unitValue:\n            case Asset.quantityName:\n            case CalculatedAssetPropertyNames.totalValue:\n            case ColumnInfo.grandTotalLabelName:\n                return [ leftClass, rightClass ];\n            case CalculatedAssetPropertyNames.percent:\n            case ColumnInfo.finenessIntegerName:\n            case ColumnInfo.unitValueIntegerName:\n            case ColumnInfo.quantityIntegerName:\n            case ColumnInfo.totalValueIntegerName:\n            case ColumnInfo.percentIntegerName:\n                return [ leftClass, \"pr-0\" ];\n            case ColumnInfo.finenessFractionName:\n            case ColumnInfo.unitValueFractionName:\n            case ColumnInfo.quantityFractionName:\n            case ColumnInfo.totalValueFractionName:\n                return [ \"pl-0\", rightClass ];\n            case ColumnInfo.percentFractionName:\n                return [ \"pl-0\", \"pr-0\" ];\n            case ColumnInfo.moreName:\n                return [ \"pl-1\", rightClass ];\n            default:\n                return [];\n        }\n    }\n    // codebeat:enable[ABC,CYCLO,LOC]\n\n    // Obviously the metrics could be improved by breaking the method into multiple parts but doing so would make the\n    // code less readable.\n    // codebeat:disable[ABC,CYCLO]\n    private static getAlignment(columnName: string | undefined) {\n        switch (columnName) {\n            case AssetPropertyNames.type:\n            case AssetPropertyNames.description:\n            case AssetPropertyNames.location:\n            case CalculatedAssetPropertyNames.unit:\n            case ColumnInfo.finenessFractionName:\n            case ColumnInfo.unitValueFractionName:\n            case ColumnInfo.quantityFractionName:\n            case ColumnInfo.totalValueFractionName:\n            case ColumnInfo.percentFractionName:\n            case ColumnInfo.grandTotalLabelName:\n                return [ \"text-xs-left\" ];\n            case ColumnInfo.finenessIntegerName:\n            case ColumnInfo.unitValueIntegerName:\n            case ColumnInfo.quantityIntegerName:\n            case ColumnInfo.totalValueIntegerName:\n            case ColumnInfo.percentIntegerName:\n                return [ \"text-xs-right\" ];\n            default:\n                return [];\n        }\n    }\n    // codebeat:enable[ABC,CYCLO]\n\n    private static getTotal(columnName: string | undefined) {\n        switch (columnName) {\n            case CalculatedAssetPropertyNames.totalValue:\n            case ColumnInfo.totalValueIntegerName:\n            case ColumnInfo.totalValueFractionName:\n            case CalculatedAssetPropertyNames.percent:\n            case ColumnInfo.percentIntegerName:\n            case ColumnInfo.percentFractionName:\n            case ColumnInfo.grandTotalLabelName:\n                return [ \"total\" ];\n            default:\n                return [];\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class Format {\n    /** @internal */\n    public static integer(num: number | undefined, decimals: number) {\n        if ((num === undefined) || Number.isNaN(num)) {\n            return \"\";\n        } else {\n            const formatted = Format.format(num, decimals);\n\n            return formatted.substring(0, Format.getDecimalPointPosition(formatted));\n        }\n    }\n\n    /** @internal */\n    public static fraction(num: number | undefined, decimals: number) {\n        if (num === undefined) {\n            return \"\";\n        } else if (Number.isNaN(num)) {\n            return \"Error\";\n        } else {\n            const formatted = Format.format(num, decimals);\n\n            return formatted.substring(Format.getDecimalPointPosition(formatted));\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static format(num: number, decimals: number) {\n        return num.toLocaleString(\n            undefined, { maximumFractionDigits: decimals, minimumFractionDigits: decimals, useGrouping: true });\n    }\n\n    private static getDecimalPointPosition(formatted: string) {\n        const decimalPointPosition = formatted.lastIndexOf(\".\");\n\n        return decimalPointPosition < 0 ? formatted.length : decimalPointPosition;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport { Asset, AssetDisplayPropertyName } from \"../model/Asset\";\nimport { PreciousMetalAssetInputInfo } from \"../model/PreciousMetalAssetInputInfo\";\nimport { GroupBy } from \"../model/validation/schemas/GroupBy.schema\";\n\nimport { ColumnInfo } from \"./ColumnInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\ntype PropertyNames<T> = { [K in keyof T]: T[K] extends string ? K : never }[keyof T];\ntype Diff<T, U> = T extends U ? never : T;\nexport type AssetListRowPropertyName = Diff<PropertyNames<AssetListRow>, PropertyNames<ComponentBase<Asset>>>;\n\n// This could easily be fixed by adding methods in two extending classes, but doing so seems strange at best. Most\n// methods are trivial, so their number shouldn't matter that much.\n// codebeat:disable[TOO_MANY_FUNCTIONS]\n\n@Component\n/**\n * Implements the UI for a single row of the asset list.\n * @description Most of the members split asset properties into the integral and fractional parts. This is necessary\n * so that the UI can justify the values on the decimal point.\n */\n// tslint:disable-next-line:no-default-export\nexport default class AssetListRow extends ComponentBase<Asset> {\n    /** Gets the number of required columns. */\n    public static get requiredColumnCount() {\n        return 3;\n    }\n\n    @Prop()\n    public visibleColumnCount?: number;\n\n    public get groupBy() {\n        return this.checkedValue.parent.assets.ordering.groupBy;\n    }\n\n    public get groupByContent() {\n        return this.checkedValue[this.groupBy];\n    }\n\n    public get groupByHint() {\n        return this.getHint(this.groupBy);\n    }\n\n    public get otherGroupBys() {\n        return this.checkedValue.parent.assets.ordering.otherGroupBys;\n    }\n\n    public get otherGroupByContents() {\n        return this.otherGroupBys.map((g) => this.checkedValue[g]);\n    }\n\n    public get otherGroupByHints() {\n        return this.otherGroupBys.map((g) => this.getHint(g));\n    }\n\n    public get finenessInteger() {\n        return this.checkedValue.fineness === undefined ? \"\" : Math.trunc(this.checkedValue.fineness).toString();\n    }\n\n    public get finenessFraction() {\n        return this.checkedValue.fineness === undefined ?\n            \"\" : this.checkedValue.fineness.toLocaleString(undefined, AssetListRow.finenessFormatOptions).substr(1);\n    }\n\n    public get unitValueInteger() {\n        return Format.integer(this.checkedValue.unitValue, 2);\n    }\n\n    public get unitValueFraction() {\n        return Format.fraction(this.checkedValue.unitValue, 2);\n    }\n\n    public get quantityInteger() {\n        return Format.integer(this.checkedValue.quantity, this.checkedValue.displayDecimals);\n    }\n\n    public get quantityFraction() {\n        return Format.fraction(this.checkedValue.quantity, this.checkedValue.displayDecimals);\n    }\n\n    public get totalValueInteger() {\n        return Format.integer(this.checkedValue.totalValue, 2);\n    }\n\n    public get totalValueFraction() {\n        return Format.fraction(this.checkedValue.totalValue, 2);\n    }\n\n    public get percentInteger() {\n        return Format.integer(this.checkedValue.percent, 1);\n    }\n\n    public get percentFraction() {\n        return Format.fraction(this.checkedValue.percent, 1);\n    }\n\n    public getClass(columnName: ColumnName) {\n        return ColumnInfo.getClass(\n            columnName, this.checkedValue.parent.assets.ordering, this.checkedOptionalColumnCount);\n    }\n\n    /** Instructs the asset group to be expanded/collapsed. */\n    public onRowClicked(event: MouseEvent) {\n        this.checkedValue.expand();\n    }\n\n    /** Instructs the parent UI element to open the asset editor dialog with the given asset. */\n    public onEditClicked(event: MouseEvent) {\n        this.$emit(\"edit\", this.checkedValue);\n    }\n\n    /** Instructs the parent UI element to delete the given asset from the list. */\n    public onDeleteClicked(event: MouseEvent) {\n        this.$emit(\"delete\", this.checkedValue);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly finenessFormatOptions = {\n        maximumFractionDigits: 6,\n        minimumFractionDigits: 1,\n        useGrouping: true,\n    };\n\n    private getHint(groupBy: GroupBy) {\n        switch (groupBy) {\n            case \"type\":\n                return \"\";\n            case \"location\":\n                return this.checkedValue.locationHint;\n            default:\n                throw new Error(\"Unknown groupBy!\");\n        }\n    }\n\n    private get checkedOptionalColumnCount() {\n        if (this.visibleColumnCount === undefined) {\n            throw new Error(\"No optional column count set!\");\n        }\n\n        return this.visibleColumnCount;\n    }\n}\n// codebeat:enable[TOO_MANY_FUNCTIONS]\n\nexport type ColumnName = AssetDisplayPropertyName | AssetListRowPropertyName |\n    typeof ColumnInfo.expandName | typeof ColumnInfo.moreName | typeof ColumnInfo.grandTotalLabelName;\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssetListRow.vue?vue&type=template&id=9e2807a4&scoped=true&\"\nimport script from \"./AssetListRow.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AssetListRow.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./AssetListRow.vue?vue&type=style&index=0&id=9e2807a4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e2807a4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VIcon,VList,VListTile,VListTileTitle,VMenu})\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\n\nimport { Asset } from \"../model/Asset\";\nimport { Model } from \"../model/Model\";\nimport { Ordering } from \"../model/Ordering\";\nimport { SortBy } from \"../model/validation/schemas/SortBy.schema\";\n\n// tslint:disable-next-line:no-default-import\nimport AssetEditor from \"./AssetEditor.vue\";\n// tslint:disable-next-line:no-default-import\nimport AssetListRow, { ColumnName } from \"./AssetListRow.vue\";\nimport { ColumnInfo } from \"./ColumnInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\ninterface IPagination {\n    sortBy: SortBy;\n    descending: boolean;\n    rowsPerPage: -1;\n}\n\n@Component({ components: { AssetListRow, AssetEditor } })\n/** Implements the asset list UI. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetList extends ComponentBase<Model> {\n    /** Provides the information required for sorting and paginating the table. */\n    public get pagination(): IPagination {\n        return this.paginationImpl || (this.paginationImpl = {\n            sortBy: this.checkedValue.assets.ordering.sort.by,\n            descending: this.checkedValue.assets.ordering.sort.descending,\n            rowsPerPage: -1,\n        });\n    }\n\n    public set pagination(pagination: IPagination) {\n        this.paginationImpl = pagination;\n        this.checkedValue.assets.ordering.sort = { by: pagination.sortBy, descending: pagination.descending };\n    }\n\n    public get isLoading() {\n        return (this.checkedValue.assets.grandTotalValue === undefined);\n    }\n\n    public get grandTotalValueInteger() {\n        return Format.integer(this.checkedValue.assets.grandTotalValue, 2);\n    }\n\n    public get grandTotalValueFraction() {\n        return Format.fraction(this.checkedValue.assets.grandTotalValue, 2);\n    }\n\n    /** Provides a value indicating how many optional columns are currently visible. */\n    public get optionalColumnCount() {\n        return this.optionalColumnCountImpl;\n    }\n\n    public get grandTotalLabelColumnCount() {\n        // This is the minimal column span for the grand total label.\n        let result = 2;\n\n        if (this.optionalColumnCount >= 1) {\n            // We need to add to the minimum the number of columns that are added *after* the total value column has\n            // appeared.\n            result += (ColumnInfo.getRawCount(this.optionalColumnCount) - ColumnInfo.getRawCount(1));\n        }\n\n        return result;\n    }\n\n    public getHeaderClass(columnName: ColumnName) {\n        const result = ColumnInfo.getClass(columnName, this.checkedValue.assets.ordering, this.optionalColumnCount);\n\n        // Sortable columns\n        if (Ordering.isSortBy(columnName)) {\n            const sort = this.checkedValue.assets.ordering.sort;\n            result.push(\"column\", \"sortable\", sort.descending ? \"desc\" : \"asc\");\n\n            if (sort.by === columnName) {\n                result.push(\"active\");\n            }\n        }\n\n        return result;\n    }\n\n    public getFooterClass(columnName: ColumnName) {\n        return ColumnInfo.getClass(columnName, this.checkedValue.assets.ordering, this.optionalColumnCount);\n    }\n\n    /** Changes the sorting for the given property. */\n    public changeSort(sortBy: SortBy) {\n        const currentSort = this.checkedValue.assets.ordering.sort;\n        this.checkedValue.assets.ordering.sort = (currentSort.by === sortBy) ?\n            { by: currentSort.by, descending: !currentSort.descending } : { by: sortBy, descending: false };\n    }\n\n    public async onAdd() {\n        const newAsset = await this.assetEditor.showDialog(this.checkedValue);\n\n        if (newAsset) {\n            this.checkedValue.assets.add(newAsset);\n        }\n    }\n\n    public async onEdit(asset: Asset) {\n        const changedAsset = await this.assetEditor.showDialog(this.checkedValue, asset);\n\n        if (changedAsset) {\n            this.checkedValue.assets.replace(asset, changedAsset);\n        }\n    }\n\n    public onDelete(asset: Asset) {\n        this.checkedValue.assets.delete(asset);\n    }\n\n    public mounted() {\n        this.timer = setInterval(() => this.onIntervalElapsed(), 100);\n    }\n\n    public beforeDestroy() {\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private paginationImpl?: IPagination;\n    private optionalColumnCountImpl = ColumnInfo.maxOptionalCount;\n\n    private timer?: NodeJS.Timer;\n    private previousOffset: number = Number.NaN;\n\n    private get assetEditor() {\n        return this.getControl(\"editor\") as AssetEditor;\n    }\n\n    private onIntervalElapsed() {\n        const element = this.$el as HTMLElement;\n\n        if (this.previousOffset === element.offsetLeft) {\n            if ((this.optionalColumnCountImpl > 0) && (element.offsetLeft < 0)) {\n                --this.optionalColumnCountImpl;\n            } else if ((this.optionalColumnCountImpl < ColumnInfo.maxOptionalCount) &&\n                (element.offsetLeft * 2 > element.offsetWidth /\n                    (AssetListRow.requiredColumnCount + this.optionalColumnCountImpl) * 3)) {\n                ++this.optionalColumnCountImpl;\n            }\n        }\n\n        this.previousOffset = element.offsetLeft;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AssetList.vue?vue&type=template&id=420ce7a4&scoped=true&\"\nimport script from \"./AssetList.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./AssetList.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./AssetList.vue?vue&type=style&index=0&id=420ce7a4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420ce7a4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VProgressLinear } from 'vuetify/lib'\ninstallComponents(component, {VDataTable,VIcon,VLayout,VProgressLinear})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"600px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Untested Browser\")]),_c('v-card-text',[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.applicationTitle)+\" is regularly tested on \"),_c('strong',[_vm._v(\"Brave\")]),_vm._v(\" and \"),_c('strong',[_vm._v(\"Firefox\")]),_vm._v(\" only.\\n        While it should work on your browser, there's the possibility of browser-specific bugs.\\n      \")]),_c('p',[_vm._v(\"\\n        I would recommend to use Brave or Firefox because most other popular browsers are proprietary software.\\n        That is, at least part of the behavior of your browser is probably determined by source code that is not\\n        publicly available. Because the makers of proprietary software tend to focus on features suitable to increase\\n        the market share of their product, sound software design and user data privacy often take a back seat. They\\n        usually get away with that practice because the behavior of their software cannot be independently verified.\\n      \")]),_c('p',[_c('strong',[_vm._v(\"\\n          TL;DR To maximize your privacy, please consider using \"+_vm._s(_vm.applicationTitle)+\" on Brave or Firefox and\\n          refrain from using services that sync your browser data across devices.\\n        \")])]),_c('v-checkbox',{attrs:{\"label\":\"Don't show this again\"},model:{value:(_vm.dontShowDialog),callback:function ($$v) {_vm.dontShowDialog=$$v},expression:\"dontShowDialog\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.isOpen = false}}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\nimport { Application } from \"../model/Application\";\n\n@Component\n/** Implements the dialog informing the user about untested browsers. */\n// tslint:disable-next-line:no-default-export\nexport default class BrowserDialog extends Vue {\n    public get applicationTitle() {\n        return Application.title;\n    }\n\n    /** Provides a value indicating whether the dialog is currently open. */\n    public isOpen = !this.dontShowDialog;\n\n    public get dontShowDialog() {\n        return !BrowserDialog.isUntestedBrowser ||\n            window.localStorage.getItem(BrowserDialog.dontShowBrowserDialogName) === true.toString();\n    }\n\n    public set dontShowDialog(value: boolean) {\n        window.localStorage.setItem(BrowserDialog.dontShowBrowserDialogName, value.toString());\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly dontShowBrowserDialogName = \"dontShowBrowserDialog\";\n\n    private static get isUntestedBrowser() {\n        const userAgent = window.navigator.userAgent.toLowerCase();\n\n        // cSpell: ignore crios\n        return !/firefox|electron/.test(userAgent) && (!/chrome|crios/.test(userAgent) || /edge|opr\\//.test(userAgent));\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowserDialog.vue?vue&type=template&id=7c3f0ca1&scoped=true&\"\nimport script from \"./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./BrowserDialog.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c3f0ca1\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VCheckbox } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VDialog,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"400px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Save As\")]),_c('v-card-text',[_c('v-form',{ref:\"form\",on:{\"submit\":function (e) { return e.preventDefault(); }}},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('TextField',{attrs:{\"large\":\"true\",\"info\":_vm.nameInfo},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onCancelClicked($event)}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.onSaveClicked($event)}}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\nimport { TextInputInfo } from \"../model/TextInputInfo\";\n\n// tslint:disable-next-line:no-default-import\nimport TextField from \"./TextField.vue\";\n\n@Component({ components: { TextField } })\n/** Implements the dialog used during Save As... */\n// tslint:disable-next-line:no-default-export\nexport default class SaveAsDialog extends Vue {\n    /** Provides the name being edited. */\n    public name = \"\";\n\n    /** Provides a value indicating whether the dialog is currently open. */\n    public isOpen = false;\n\n    /** Provides the name input information. */\n    public readonly nameInfo = new TextInputInfo({\n        label: \"Name\", hint: \"The name of the file.\", isPresent: true, isRequired: true, schemaName: \"Text\",\n    });\n\n    public onSaveClicked(event: MouseEvent) {\n        if (this.isValid()) {\n            this.close(this.name);\n        }\n    }\n\n    public onCancelClicked(event: MouseEvent) {\n        this.close(undefined);\n    }\n\n    public showDialog(name: string) {\n        this.name = name;\n        this.isOpen = true;\n\n        return new Promise<string | undefined>((resolve) => this.resolve = resolve);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private resolve?: (value: string | undefined) => void;\n\n    private isValid() {\n        // tslint:disable-next-line:no-unsafe-any\n        return (this.$refs.form as any).validate();\n    }\n\n    private close(value: string | undefined) {\n        this.isOpen = false;\n\n        if (!this.resolve) {\n            throw new Error(\"No resolve callback set!\");\n        }\n\n        this.resolve(value);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaveAsDialog.vue?vue&type=template&id=04a597f2&scoped=true&\"\nimport script from \"./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./SaveAsDialog.vue.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a597f2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VForm,VLayout,VSpacer})\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { AssetGroup } from \"./AssetGroup\";\nimport { ISort } from \"./validation/schemas/ISort.schema\";\nimport { SortBy } from \"./validation/schemas/SortBy.schema\";\n\nexport class AssetCollectionUtility {\n    public static sort(groups: AssetGroup[], sort: ISort) {\n        groups.sort((l, r) => AssetCollectionUtility.compare(l, r, sort));\n\n        for (const group of groups) {\n            group.assets.sort((l, r) => AssetCollectionUtility.compare(l, r, sort));\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static compare(left: Asset, right: Asset, sort: ISort) {\n        return (sort.descending ? -1 : 1) * AssetCollectionUtility.compareImpl(left, right, sort.by);\n    }\n\n    private static compareImpl(left: Asset, right: Asset, sortBy: SortBy) {\n        const leftProperty = left[sortBy];\n        const rightProperty = right[sortBy];\n\n        if (leftProperty === rightProperty) {\n            return 0;\n        } else if (leftProperty === undefined) {\n            return -1;\n        } else if (rightProperty === undefined) {\n            return 1;\n        } else if (leftProperty < rightProperty) {\n            return -1;\n        } else {\n            return 1;\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IParent } from \"./Asset\";\nimport { AssetUnion } from \"./validation/schemas/AssetUnion.schema\";\n\n// This could easily be fixed by overriding abstract methods in two extending classes, but doing so seems strange at\n// best. Most method implementations are trivial, so their number shouldn't matter that much.\n// codebeat:disable[TOO_MANY_FUNCTIONS]\nexport class AssetGroup extends Asset {\n    public isExpanded = false;\n\n    public get isExpandable() {\n        return true;\n    }\n\n    public get type() {\n        return this.coalesce((a) => a.type) || \"\";\n    }\n\n    public get description() {\n        return this.coalesce((a) => a.description) || \"\";\n    }\n\n    public get location() {\n        return this.coalesce((a) => a.location) || \"\";\n    }\n\n    public get unit() {\n        return this.coalesce((a) => a.unit) || \"\";\n    }\n\n    public get fineness() {\n        return this.coalesce((a) => a.fineness);\n    }\n\n    public get quantity() {\n        return (this.type && this.unit) ?\n            this.assets.reduce<number | undefined>((s, a) => AssetGroup.add(s, a.quantity), 0) : undefined;\n    }\n\n    public get quantityHint() {\n        return this.coalesce((a) => a.quantityHint) || \"\";\n    }\n\n    public get displayDecimals() {\n        return this.coalesce((a) => a.displayDecimals) || 0;\n    }\n\n    public get notes() {\n        return this.assets.reduce((s, a) => `${s}${a.notes}\\n`, \"\");\n    }\n\n    public get unitValue() {\n        return this.coalesce((a) => a.unitValue);\n    }\n\n    public get unitValueHint() {\n        return this.coalesce((a) => a.unitValueHint) || \"\";\n    }\n\n    public get totalValue() {\n        return this.assets.reduce<number | undefined>((s, a) => AssetGroup.add(s, a.totalValue), 0);\n    }\n\n    public get hasActions() {\n        return false;\n    }\n\n    public constructor(parent: IParent, public readonly assets: Asset[]) {\n        super(parent);\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    public toJSON(): AssetUnion {\n        throw new Error(`${AssetGroup.name} cannot be serialized.`);\n    }\n\n    /** @internal */\n    public expand() {\n        this.isExpanded = !this.isExpanded;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static add(addend1: number | undefined, addend2: number | undefined) {\n        return (addend1 === undefined) || (addend2 === undefined) ? undefined : addend1 + addend2;\n    }\n\n    private coalesce<T>(getProperty: (asset: Asset) => T): T | undefined {\n        let previous: T | undefined;\n\n        for (let index = 0; index < this.assets.length; ++index) {\n            if (index === 0) {\n                previous = getProperty(this.assets[index]);\n            } else if (getProperty(this.assets[index]) !== previous) {\n                return undefined;\n            }\n        }\n\n        return previous;\n    }\n}\n// codebeat:enable[TOO_MANY_FUNCTIONS]\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Provides the means to execute tasks strictly sequentially. */\nexport class TaskQueue {\n    /** Queues and executes the supplied task.\n     * @description First waits for possibly still queued tasks to complete in the sequence they were queued and then\n     * calls `executeTask`, waits for the returned promise to settle and then returns the result.\n     * @returns The promise returned by `executeTask`.\n     */\n    public async queue<T>(executeTask: () => Promise<T>) {\n        const current = this.executeAfterPrevious(executeTask);\n        this.previous = current;\n\n        try {\n            return await current;\n        } finally {\n            // The following condition can only be true if no other task has been queued while we've been waiting for\n            // current to settle. IOW, current was the last task in the queue and the queue is now empty.\n            if (this.previous === current) {\n                // Without the following statement, continued use of a TaskQueue object would create a memory leak in\n                // the sense that no involved promise would ever be eligible for GC, because the current promise would\n                // always reference the previous promise, which in turn would reference the promise before the previous\n                // promise and so on. Here, we break that chain when the queue becomes empty.\n                this.previous = Promise.resolve();\n            }\n        }\n    }\n\n    /** Waits for all currently queued tasks to complete. */\n    public async idle(): Promise<void> {\n        try {\n            await this.previous;\n        // tslint:disable-next-line: no-empty\n        } catch {\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private previous: Promise<any> = Promise.resolve();\n\n    private async executeAfterPrevious<T>(createTask: () => Promise<T>) {\n        await this.idle();\n\n        return createTask();\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IParent } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetCollectionUtility } from \"./AssetCollectionUtility\";\nimport { AssetGroup } from \"./AssetGroup\";\nimport { Ordering } from \"./Ordering\";\nimport { TaskQueue } from \"./TaskQueue\";\nimport { GroupBy } from \"./validation/schemas/GroupBy.schema\";\nimport { ISort } from \"./validation/schemas/ISort.schema\";\n\ninterface INotifiableParent extends IParent {\n    notifyChanged(): void;\n}\n\ninterface IAssetCollectionParameters {\n    parent: INotifiableParent;\n    bundles: AssetBundle[];\n    groupBy?: GroupBy;\n    sort?: ISort;\n}\n\nexport class AssetCollection {\n    public readonly ordering: Ordering;\n\n    /** Provides the grouped assets. */\n    public get grouped() {\n        const result: Asset[] = [];\n\n        for (const group of this.groups) {\n            result.push(group);\n\n            if (group.isExpanded) {\n                result.push(...group.assets);\n            }\n        }\n\n        return result;\n    }\n\n    public get isEmpty() {\n        return this.groups.length === 0;\n    }\n\n    /** Provides the sum of all asset total values. */\n    public get grandTotalValue() {\n        return this.groups.reduce<number | undefined>(\n            (s, a) => s === undefined ? undefined : (a.totalValue === undefined ? undefined : s + a.totalValue), 0);\n    }\n\n    public constructor(params: IAssetCollectionParameters) {\n        this.ordering = new Ordering({\n            onGroupChanged: () => this.onGroupChanged(),\n            onSortChanged: () => AssetCollectionUtility.sort(this.groups, this.ordering.sort),\n            groupBy: params.groupBy,\n            sort: params.sort,\n        });\n\n        this.parent = params.parent;\n        this.bundles = params.bundles;\n        this.update(...this.bundles);\n    }\n\n    /** Bundles and adds `asset` to the list of asset bundles. */\n    public add(asset: Asset) {\n        const bundle = asset.bundle();\n        this.bundles.push(bundle);\n        this.update(bundle);\n        this.parent.notifyChanged();\n    }\n\n    /** Deletes `asset`. */\n    public delete(asset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(asset) >= 0);\n\n        if (index >= 0) {\n            const bundle = this.bundles[index];\n            bundle.deleteAsset(asset);\n\n            if (bundle.assets.length === 0) {\n                this.bundles.splice(index, 1);\n            }\n\n            this.update();\n            this.parent.notifyChanged();\n        }\n    }\n\n    /** Replaces the bundle containing `oldAsset` with a bundle containing `newAsset`. */\n    public replace(oldAsset: Asset, newAsset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(oldAsset) >= 0);\n\n        if (index >= 0) {\n            const bundle = newAsset.bundle();\n            // Apparently, Vue cannot detect the obvious way of replacing (this.bundles[index] = bundle):\n            // https://codingexplained.com/coding/front-end/vue-js/array-change-detection\n            this.bundles.splice(index, 1, bundle);\n            this.update(bundle);\n            this.parent.notifyChanged();\n        }\n    }\n\n    public idle() {\n        return this.taskQueue.idle();\n    }\n\n    /** @internal */\n    public toJSON() {\n        return this.bundles.map((bundle) => bundle.toJSON());\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static async queryBundleData(bundle: AssetBundle, id: number) {\n        await bundle.queryData();\n\n        return id;\n    }\n\n    private readonly taskQueue = new TaskQueue();\n    private readonly groups = new Array<AssetGroup>();\n    private readonly bundles: AssetBundle[];\n    private readonly parent: INotifiableParent;\n\n    private onGroupChanged() {\n        this.groups.length = 0;\n        this.update();\n    }\n\n    private update(...newBundles: AssetBundle[]) {\n        this.taskQueue.queue(() => this.updateImpl(newBundles)).catch((error) => console.error(error));\n    }\n\n    private async updateImpl(newBundles: AssetBundle[]) {\n        this.updateGroups();\n        const promises = new Map<number, Promise<number>>(\n            newBundles.map<[number, Promise<number>]>((b, i) => [i, AssetCollection.queryBundleData(b, i)]));\n\n        while (promises.size > 0) {\n            await this.waitForResponses(promises);\n        }\n    }\n\n    private async waitForResponses(promises: Map<number, Promise<number>>) {\n        const delayId = Number.MAX_SAFE_INTEGER;\n\n        if (!promises.has(delayId)) {\n            promises.set(delayId, new Promise((resolve) => setTimeout(resolve, 1000, delayId)));\n        }\n\n        const index = await Promise.race(promises.values());\n\n        if (index === delayId) {\n            this.updateGroups();\n        }\n\n        promises.delete(index);\n    }\n\n    private updateGroups() {\n        const newGroups = this.getGroups();\n\n        // Remove no longer existing groups\n        for (let index = 0; index < this.groups.length;) {\n            if (!newGroups.has(this.groups[index][this.ordering.groupBy])) {\n                this.groups.splice(index, 1);\n            } else {\n                ++index;\n            }\n        }\n\n        // Update existing groups with new assets\n        for (const newGroup of newGroups) {\n            const existingGroup = this.groups.find((g) => g[this.ordering.groupBy] === newGroup[0]);\n\n            if (existingGroup === undefined) {\n                this.groups.push(new AssetGroup(this.parent, newGroup[1]));\n            } else {\n                existingGroup.assets.splice(0, existingGroup.assets.length, ...newGroup[1]);\n            }\n        }\n\n        AssetCollectionUtility.sort(this.groups, this.ordering.sort);\n    }\n\n    private getGroups() {\n        const result = new Map<string, Asset[]>();\n\n        for (const bundle of this.bundles) {\n            this.addGroups(result, bundle.assets);\n        }\n\n        return result;\n    }\n\n    private addGroups(result: Map<string, Asset[]>, assets: Asset[]) {\n        for (const asset of assets) {\n            const groupName = asset[this.ordering.groupBy];\n            const groupAssets = result.get(groupName);\n\n            if (groupAssets === undefined) {\n                result.set(groupName, [asset]);\n            } else {\n                groupAssets.push(asset);\n            }\n        }\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Application } from \"./Application\";\nimport { IParent } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetCollection } from \"./AssetCollection\";\nimport { EnumInfo } from \"./EnumInfo\";\nimport { ExchangeRate } from \"./ExchangeRate\";\nimport { QueryUtility } from \"./QueryUtility\";\nimport { Currency } from \"./validation/schemas/Currency.schema\";\nimport { CurrencyName } from \"./validation/schemas/CurrencyName.schema\";\nimport { GroupBy } from \"./validation/schemas/GroupBy.schema\";\nimport { ISort } from \"./validation/schemas/ISort.schema\";\nimport { TaggedModel } from \"./validation/schemas/TaggedModel.schema\";\n\nexport interface IModelParameters {\n    readonly name?: string;\n    readonly wasSavedToFile?: boolean;\n    readonly hasUnsavedChanges?: boolean;\n    readonly currency?: CurrencyName;\n    readonly groupBy?: GroupBy;\n    readonly sort?: ISort;\n    readonly createBundles: Array<(parent: IParent) => AssetBundle>;\n}\n\nexport type IModel = Required<TaggedModel>;\n\n/** Represents the main model of the application. */\nexport class Model implements IParent {\n    /** Provides the name of the asset collection. */\n    public name: string;\n\n    /** Provides the file extension. */\n    public readonly fileExtension = \".assets\";\n\n    public get fileName() {\n        return `${this.name}${this.fileExtension}`;\n    }\n\n    public wasSavedToFile: boolean;\n\n    public get hasUnsavedChanges() {\n        return this.hasUnsavedChangesImpl;\n    }\n\n    public set hasUnsavedChanges(value: boolean) {\n        if (value !== this.hasUnsavedChangesImpl) {\n            this.hasUnsavedChangesImpl = value;\n\n            if (this.onChanged) {\n                this.onChanged();\n            }\n        }\n    }\n\n    public get title() {\n        return `${this.name}${this.hasUnsavedChanges ? \" (Modified)\" : \"\"} - ${Application.title}`;\n    }\n\n    /** Provides the available currencies to value the assets in. */\n    public get currencies() {\n        return EnumInfo.getMemberNames(Currency);\n    }\n\n    /** Provides the selected currency. */\n    public get currency() {\n        return this.currencyImpl;\n    }\n\n    /** Provides the selected currency. */\n    public set currency(currency: CurrencyName) {\n        if (this.currencyImpl !== currency) {\n            this.currencyImpl = currency;\n            this.onCurrencyChanged();\n        }\n    }\n\n    public readonly assets: AssetCollection;\n\n    /**\n     * cSpell: ignore usdxxx\n     * Provides the USD exchange rate of the currently selected currency (USDXXX, where XXX is the currently selected\n     * currency).\n     */\n    public exchangeRate: number | undefined = 1;\n\n    /** Provides the method that is called when the model has changed. */\n    public onChanged?: (() => void);\n\n    public constructor(params?: IModelParameters) {\n        this.name = (params && params.name) || \"Unnamed\";\n        this.wasSavedToFile = (params && params.wasSavedToFile) || false;\n        this.hasUnsavedChangesImpl = (params && params.hasUnsavedChanges) || false;\n        this.currency = (params && params.currency) || this.currencyImpl;\n        this.assets = new AssetCollection({\n            parent: this,\n            bundles: (params && params.createBundles.map((c) => c(this))) || [],\n            groupBy: params && params.groupBy,\n            sort: params && params.sort,\n        });\n    }\n\n    /** Returns a JSON-formatted string representing the model. */\n    public toJsonString() {\n        return JSON.stringify(this, undefined, 2);\n    }\n\n    /** @internal */\n    public notifyChanged() {\n        this.hasUnsavedChangesImpl = true;\n\n        if (this.onChanged) {\n            this.onChanged();\n        }\n    }\n\n    /** @internal */\n    public toJSON(): IModel {\n        return {\n            version: 1,\n            name: this.name,\n            wasSavedToFile: this.wasSavedToFile,\n            hasUnsavedChanges: this.hasUnsavedChanges,\n            currency: this.currency,\n            groupBy: this.assets.ordering.groupBy,\n            sort: this.assets.ordering.sort,\n            bundles: this.assets.toJSON(),\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private hasUnsavedChangesImpl: boolean;\n\n    private currencyImpl: CurrencyName = this.currencies[0];\n\n    private onCurrencyChanged() {\n        this.onCurrencyChangedImpl().catch((reason) => console.error(reason));\n    }\n\n    private async onCurrencyChangedImpl() {\n        this.exchangeRate = undefined;\n        // Status is intentionally ignored\n        ({ result: this.exchangeRate } = await QueryUtility.execute(() => ExchangeRate.get(Currency[this.currency])));\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetBundleUnion } from \"./AssetBundleUnion.schema\";\nimport { CurrencyName } from \"./CurrencyName.schema\";\nimport { GroupBy } from \"./GroupBy.schema\";\nimport { ISort } from \"./ISort.schema\";\n\nexport class TaggedModel {\n    public readonly version!: 1;\n    public readonly name?: string;\n    public readonly wasSavedToFile?: boolean;\n    public readonly hasUnsavedChanges?: boolean;\n    public readonly currency?: CurrencyName;\n    public readonly groupBy?: GroupBy;\n    public readonly sort?: ISort;\n    public readonly bundles!: AssetBundleUnion[];\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IParent } from \"./Asset\";\nimport { Model } from \"./Model\";\nimport { ObjectConverter } from \"./ObjectConverter\";\nimport { AssetBundleUnion } from \"./validation/schemas/AssetBundleUnion.schema\";\nimport { IErc20TokensWallet } from \"./validation/schemas/IErc20TokensWallet.schema\";\nimport { IMiscAsset } from \"./validation/schemas/IMiscAsset.schema\";\nimport { IPreciousMetalAsset } from \"./validation/schemas/IPreciousMetalAsset.schema\";\nimport { ISimpleCryptoWallet } from \"./validation/schemas/ISimpleCryptoWallet.schema\";\nimport { TaggedModel } from \"./validation/schemas/TaggedModel.schema\";\nimport { Validator } from \"./validation/Validator\";\n\nexport class ModelParser {\n    /**\n     * Returns a [[Model]] object that is equivalent to the passed JSON string or returns a string that describes why\n     * the parse process failed.\n     * @description This is typically called with a string that was returned by [[toJsonString]].\n     * @param json The string to parse\n     */\n    public static parse(json: string) {\n        try {\n            return ModelParser.parseBundles(Validator.fromJson(json, TaggedModel));\n        } catch (e) {\n            if (e instanceof Error) {\n                return e.message;\n            } else {\n                throw e;\n            }\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static parseBundles(\n        { name, wasSavedToFile, hasUnsavedChanges, currency, groupBy, sort, bundles }: TaggedModel,\n    ) {\n        const params = {\n            name, wasSavedToFile, hasUnsavedChanges, currency, groupBy, sort,\n            createBundles: bundles.map((bundle) => ModelParser.createBundle(bundle)),\n        };\n\n        return new Model(params);\n    }\n\n    private static createBundle(rawBundle: AssetBundleUnion) {\n        return ObjectConverter.convert(rawBundle.primaryAsset, [\n            (asset: IPreciousMetalAsset, info) =>\n                ((parent: IParent) => info.createAsset(parent, asset).bundle(rawBundle)),\n            (asset: ISimpleCryptoWallet, info) =>\n                ((parent: IParent) => info.createAsset(parent, asset).bundle(rawBundle)),\n            (asset: IErc20TokensWallet, info) =>\n                ((parent: IParent) => info.createAsset(parent, asset).bundle(rawBundle)),\n            (asset: IMiscAsset, info) => ((parent: IParent) => info.createAsset(parent, asset).bundle(rawBundle)),\n        ])[1];\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Model } from \"./model/Model\";\nimport { ModelParser } from \"./model/ModelParser\";\n\nexport class Parser {\n    public static parse(json: string | null) {\n        const model = json ? ModelParser.parse(json) : undefined;\n\n        if (model instanceof Model) {\n            return model;\n        } else if (model) {\n            alert(model);\n        }\n\n        return undefined;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Model } from \"./model/Model\";\nimport { Parser } from \"./Parser\";\n\nexport class LocalStorage {\n    public static load() {\n        const localStorageKey = window.sessionStorage.getItem(LocalStorage.sessionLocalStorageKey);\n\n        return localStorageKey ? LocalStorage.loadExistingSession(localStorageKey) : LocalStorage.loadNewSession();\n    }\n\n    public static save(model: Model) {\n        // Apparently, there's no reliable way to prevent the user from closing a browser window that contains unsaved\n        // changes. Both Chromium and Firefox currently refuse to show a confirmation dialog that is opened in a\n        // \"beforeunload\" handler and the documentation for the event warns that this could be the case. Therefore, the\n        // only way to prevent the loss of unsaved data is to save our data either continuously or in the \"beforeunload\"\n        // handler. We could either save through window.localStorage or download to the users hard drive (via the same\n        // mechanism as when the user invokes the \"Save...\" menu entry). However, the latter is bound to surprise at\n        // least some users and doesn't seem to work on some browsers anyway (e.g. Firefox). Our only remaining option\n        // is to therefore save to local storage.\n        // Obviously, just saving to local storage under one key (e.g. \"assets\") only works reliably if the user\n        // confines herself to not ever work with the application in more than one browser window. Since we seem to have\n        // no way of preventing or detecting use in multiple browser windows, the storage mechanism must ideally satisfy\n        // the following requirements:\n        // 1. No committed but as of yet unsaved change in any browser window is ever lost if the user closes a tab,\n        //    closes the whole browser or reloads the page at any time.\n        // 2. It must be trivial to regain access to unsaved changes.\n        // It appears that both requirements can be satisfied with the following mechanism:\n        // - Data is always saved to local storage in a \"beforeunload\" handler under a monotonously increasing key,\n        //   which is then also stored through window.sessionStorage.\n        // - When the page loads, session storage is first checked for a saved key. If one exists, data under said key\n        //   is then loaded from local storage. This ensures that the same data is always displayed\n        //   before and after a page reload. If session storage does not contain a key, data under the largest key is\n        //   loaded from local storage.\n        // - Successfully loaded data is always *deleted* from local storage immediately. This ensures that navigating\n        //   to the application in additional browser windows will never load the same data in more than one browser\n        //   window.\n        // The above should ensure that the application can be used much like a normal desktop application. Even if the\n        // application is used in multiple tabs when the browser is closed, data in said tabs will be reloaded next\n        // time the user navigates to the application in the same number of tabs/windows. This is nicely complemented\n        // by the fact that many browsers have an option to automatically reload all previously open tabs when the\n        // browser is started.\n        // Unfortunately, the beforeunload handler doesn't seem to ever be called on Android when the user closes the\n        // browser, neither on Chrome, Firefox nor Edge. Luckily, at least reload works.\n        window.sessionStorage.setItem(LocalStorage.sessionLocalStorageKey, LocalStorage.saveImpl(model));\n    }\n\n    public static openNewWindow(model: Model | undefined) {\n        const url = new URL(window.location.pathname, window.location.origin);\n        url.searchParams.append(\n            LocalStorage.sessionLocalStorageKey,\n            model ? LocalStorage.saveImpl(model) : LocalStorage.emptyModelLocalStorageKey);\n        url.searchParams.append(LocalStorage.sessionForceLoadFromLocalStorageKey, (!!model).toString());\n        window.open(url.href);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly emptyModelLocalStorageKey = \"0\";\n    private static readonly sessionLocalStorageKey = \"localStorageKey\";\n    private static readonly sessionForceLoadFromLocalStorageKey = \"forceLoadFromLocalStorage\";\n\n    private static loadExistingSession(localStorageKey: string) {\n        if ((localStorageKey !== LocalStorage.emptyModelLocalStorageKey) &&\n            // tslint:disable-next-line:deprecation\n            ((window.performance.navigation.type === window.performance.navigation.TYPE_RELOAD) ||\n            (window.sessionStorage.getItem(LocalStorage.sessionForceLoadFromLocalStorageKey) === true.toString()))) {\n            // Session storage can only be non-empty because the user either reloaded the page or because Open...\n            // or New was clicked. Both call openNewWindow, which opens a new window with parameters attached to the\n            // URL. Code in main.ts transfers any URL parameters into session storage and then uses\n            // window.location.replace to reload without the parameters.\n            return LocalStorage.loadModel(localStorageKey);\n        }\n\n        return new Model();\n    }\n\n    private static loadNewSession() {\n        const oldKeys = LocalStorage.getOldKeys();\n\n        // Sort the array in descending direction, so that the modified model that was last saved will be loaded.\n        oldKeys.sort((l, r) => l < r ? 1 : -1);\n\n        for (const oldKey of oldKeys) {\n            const model = LocalStorage.loadModel(oldKey.toString());\n\n            if (model.hasUnsavedChanges) {\n                // The main goal of this whole mechanism is to prevent data loss, which is why, in a new session, we\n                // only ever load models that have unsaved changes. Models that have been written into a file but\n                // were nevertheless later saved to local storage as part of the browser being closed do not need to\n                // be considered here.\n                return model;\n            }\n        }\n\n        return new Model();\n    }\n\n    private static saveImpl(model: Model) {\n        let key: string | undefined = LocalStorage.emptyModelLocalStorageKey;\n\n        if (!model.assets.isEmpty) {\n            const json = model.toJsonString();\n\n            // tslint:disable-next-line:no-empty\n            while (!(key = LocalStorage.trySaveToLocalStorage(json))) {\n            }\n        }\n\n        return key;\n    }\n\n    private static loadModel(localStorageKey: string) {\n        const result = Parser.parse(window.localStorage.getItem(localStorageKey));\n\n        if (result) {\n            while (window.sessionStorage.length > 0) {\n                window.sessionStorage.removeItem(window.sessionStorage.key(0) || \"\");\n            }\n\n            window.localStorage.removeItem(localStorageKey);\n\n            return result;\n        }\n\n        return new Model();\n    }\n\n    private static trySaveToLocalStorage(json: string) {\n        // We need a key that is unique and monotonously increasing. When a browser is closed with the application\n        // running in multiple tabs, it is likely that two tabs will get the same value from Date.now(). The random\n        // component should reduce the likelihood of a collision.\n        const uniqueNumber = Math.trunc((Date.now() + Math.random()) * Math.pow(2, 10));\n\n        if (!Number.isSafeInteger(uniqueNumber)) {\n            // Make sure all digits are significant. Since Date.now() currently returns a value with 41 binary digits,\n            // adding another 10 binary digits should keep us well below the 53 binary digits commonly supported for\n            // safe integers.\n            throw new Error(\"Can't create unique key.\");\n        }\n\n        const uniqueKey = uniqueNumber.toString();\n\n        if (window.localStorage.getItem(uniqueKey)) {\n            return undefined;\n        }\n\n        window.localStorage.setItem(uniqueKey, json);\n\n        // There's still a low probability that two browser tabs arrive at the same key at the same time and an\n        // overwrite happens. Verifying the written should reduce this further.\n        return window.localStorage.getItem(uniqueKey) === json ? uniqueKey : undefined;\n    }\n\n    private static getOldKeys() {\n        // Put all old keys into the following array.\n        const result = new Array<number>();\n\n        for (let index = 0; index < window.localStorage.length; ++index) {\n            const oldKey = window.localStorage.key(index);\n            let oldKeyNumber: number | undefined;\n\n            if (oldKey && (oldKeyNumber = Number.parseInt(oldKey, 10))) {\n                result.push(oldKeyNumber);\n            }\n        }\n\n        return result;\n    }\n}\n","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\n// tslint:disable-next-line:no-default-import\nimport AboutDialog from \"./components/AboutDialog.vue\";\n// tslint:disable-next-line:no-default-import\nimport AssetList from \"./components/AssetList.vue\";\n// tslint:disable-next-line:no-default-import\nimport BrowserDialog from \"./components/BrowserDialog.vue\";\n// tslint:disable-next-line:no-default-import\nimport SaveAsDialog from \"./components/SaveAsDialog.vue\";\nimport { LocalStorage } from \"./LocalStorage\";\nimport { Model } from \"./model/Model\";\nimport { QueryCache } from \"./model/QueryCache\";\nimport { Parser } from \"./Parser\";\n\n@Component({ components: { AboutDialog, AssetList, BrowserDialog, SaveAsDialog } })\n// tslint:disable-next-line:no-default-export\nexport default class App extends Vue {\n    public isDrawerVisible = false;\n    public model: Model;\n\n    public constructor() {\n        super();\n        this.model = App.initModel(LocalStorage.load());\n        window.addEventListener(\"beforeunload\", (ev) => this.onBeforeUnload(ev));\n    }\n\n    public onMenuClicked() {\n        this.isDrawerVisible = !this.isDrawerVisible;\n    }\n\n    public onNewClicked() {\n        this.isDrawerVisible = false;\n        LocalStorage.openNewWindow(undefined);\n    }\n\n    public onOpenClicked() {\n        this.isDrawerVisible = false;\n        this.fileInput.click();\n    }\n\n    public async onFileInputChanged() {\n        try {\n            await this.onFileInputChangedImpl();\n        } finally {\n            this.fileInput.value = \"\";\n        }\n    }\n\n    public async onSaveClicked() {\n        if (this.model.wasSavedToFile) {\n            this.isDrawerVisible = false;\n            this.write();\n        } else {\n            await this.onSaveAsClicked();\n        }\n    }\n\n    public async onSaveAsClicked() {\n        this.isDrawerVisible = false;\n        const newName = await (this.$refs.saveAsDialog as SaveAsDialog).showDialog(this.model.name);\n\n        if (newName !== undefined) {\n            this.model.name = newName;\n            this.model.wasSavedToFile = true;\n            this.write();\n        }\n    }\n\n    public onAboutClicked() {\n        this.isDrawerVisible = false;\n        (this.$refs.aboutDialog as AboutDialog).showDialog();\n    }\n\n    public onRefreshClicked() {\n        QueryCache.clear();\n        this.model = App.initModel(Parser.parse(this.model.toJsonString()) || new Model());\n    }\n\n    public get groupBys() {\n        return this.model.assets.ordering.groupByLabels;\n    }\n\n    public get groupBy() {\n        return this.model.assets.ordering.groupByLabel;\n    }\n\n    public set groupBy(groupBy: string) {\n        const rawGroupBy = this.model.assets.ordering.groupBys.find((g) => g === groupBy.toLowerCase());\n\n        if (rawGroupBy !== undefined) {\n            this.model.assets.ordering.groupBy = rawGroupBy;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static read(blob: Blob) {\n        return new Promise<string>((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (ev) => resolve(reader.result as string);\n            reader.onerror = (ev) => reject(\"Unable to read file.\");\n            reader.readAsText(blob);\n        });\n    }\n\n    private static initModel(model: Model) {\n        model.onChanged = () => document.title = model.title;\n        document.title = model.title;\n\n        return model;\n    }\n\n    private get fileInput() {\n        return this.$refs.fileInput as HTMLInputElement;\n    }\n\n    private async onFileInputChangedImpl() {\n        const files = this.fileInput.files;\n\n        if (!files || (files.length !== 1)) {\n            return;\n        }\n\n        const file = files[0];\n        const model = Parser.parse(await App.read(file));\n\n        if (!model) {\n            return;\n        }\n\n        const name = file.name.endsWith(model.fileExtension) ?\n            file.name.substring(0, file.name.length - model.fileExtension.length) : file.name;\n\n        if (name.length > 0) {\n            model.name = name;\n        }\n\n        if (this.model.hasUnsavedChanges) {\n            LocalStorage.openNewWindow(model);\n        } else {\n            this.model = App.initModel(model);\n        }\n    }\n\n    private write() {\n        this.model.hasUnsavedChanges = false;\n        const blob = new Blob([ this.model.toJsonString() ], { type : \"application/json\" });\n\n        if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveBlob(blob, this.model.fileName);\n        } else {\n            const elem = window.document.createElement(\"a\");\n\n            // We should call window.URL.revokeObjectURL as soon as the user has either successfully downloaded the\n            // file or cancelled the download, but there seems to be no reliable way to detect these events. According\n            // to the docs the objects will be garbage collected anyway when the user closes the tab or navigates away.\n            // Given the currently small size of these downloads, not calling revokeObjectURL is probably good enough.\n            elem.href = window.URL.createObjectURL(blob);\n            elem.download = this.model.fileName;\n            document.body.appendChild(elem);\n            elem.click();\n            document.body.removeChild(elem);\n        }\n    }\n\n    private onBeforeUnload(ev: BeforeUnloadEvent) {\n        LocalStorage.save(this.model);\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3b2d8429&\"\nimport script from \"./App.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./App.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/travis/build/andreashuber69/net-worth/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarSideIcon } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VContainer,VContent,VIcon,VLayout,VList,VListTile,VListTileAction,VListTileContent,VListTileTitle,VMenu,VNavigationDrawer,VSpacer,VToolbar,VToolbarSideIcon,VToolbarTitle})\n","// tslint:disable:file-name-casing\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport Vue from \"vue\";\n// tslint:disable-next-line:no-submodule-imports\nimport Vuetify from \"vuetify/lib\";\n// cSpell: ignore styl\n// tslint:disable-next-line:no-import-side-effect no-submodule-imports\nimport \"vuetify/src/stylus/app.styl\";\n\nVue.use(Vuetify, {\n  iconfont: \"md\",\n});\n","// tslint:disable:file-name-casing\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line:no-submodule-imports ordered-imports\nimport * as OfflinePluginRuntime from \"offline-plugin/runtime\";\nimport Vue from \"vue\";\n\n// tslint:disable-next-line:no-default-import ordered-imports\nimport App from \"./App.vue\";\n// tslint:disable-next-line:no-import-side-effect\nimport \"./assets/material-icons.css\";\n// tslint:disable-next-line:no-import-side-effect\nimport \"./assets/roboto-fontface.css\";\n// tslint:disable-next-line:no-import-side-effect\nimport \"./plugins/vuetify\";\n\nOfflinePluginRuntime.install();\nVue.config.productionTip = false;\n\nnew Vue({\n    render: (h) => h(App),\n}).$mount(\"#app\");\n","module.exports = __webpack_public_path__ + \"img/bitcoingold.32da808e.png\";","module.exports = __webpack_public_path__ + \"img/background.03f488ed.png\";","module.exports = __webpack_public_path__ + \"img/blockcypher.2fc542e8.svg\";","module.exports = __webpack_public_path__ + \"img/blockchain.90495685.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=420ce7a4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=420ce7a4&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/blockscout.23a708dc.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARsAAAAqCAYAAACDfP+dAAAKeklEQVR4nO2deZBcRRnAfzM7m2R1cQNZVJZNFIioqICKaBVHjIkcRgRPxJSWqFUIHhhFTGFQRDyqUKNikXiSQqsEhOABpEqihqMihxJ3lyPgRlSSIAIBN8deyax/fPPYt2+6Z/p4783ubP+q+o/tea/7+3r2fdP99dffAzv2A34E/AY40fLeQCAQMKIFeBoYq5Qy8N6GShQIBJqSyxk3NFHZAcxspFCBQGBq0GJ4XRdwNTAjUd8G7AVuS1OoGswBXgZ0V2TqAg4Ansy43y7gNOA/wJ4U2z0cWAz8CxhJsd1mIIzNNOU6qmc1URkC5mfQZxtwPnArsBnYXUOGB4FFGcgA8H1gX6WfEeDilNq9iXH5dwNnp9RuMxDGZppyMvqHPCq/T7G/dmA58IRBv/Hy6xRliGij2shtAwqe7R5Ctfx/9myzWQhjM02ZBfRj9rC/P4X+CsDNhv0ly/9S6D/J2zR9He3Z7rmKNsvIMnG6E8amSSnW+fwi4DBFvcpHshLo8JTnAuQBd+FRz75V6PTx1VN1fwF4gWe7zUAYmyallrE5HLhQUf8n1GvoFwNf85Dl5Z733+JxbyAQyJhSjc+upHpbewQ4D3HYrgXelfj8XGAN8BcHWY4HWmt8vg94AJlV7QCGK/VDwPWk6zcKBAIpozM2H0C9u3M5YmhAdopOQhy6EUXgh8CxiHGw4TWa+kFkeXUNYmTyYh5wguazJVTvwA0gs6vdHn2+D3iqzjVlxHm+FXFWP+3RXy1agIOQMINuZBmjcowPVuSIymBG8vhQQGbe84C56JfBQ8C/ke32bdj/D5tQQsbzJRVZZiJ+0dsR/5QtBeDASptzEd+WbgNjFNiO6PgY6X9X1rp1AI9T7aTbguzOxFmmuG4M+LSDoH/QtJWG49mWNchDbeuk3gW8x6D95Q5t68oeYCNwJuZxUzqKFfnvQuKnXOTZDlyGGCoXdGNziGU7BeCMii7DDnqMAn9DxtV397EInAX0oh/XLchxIFNORVwaQxY6Jcsm5BRAPd9tZrr9QHPDqYprW5AvRLUz1GUp9N81/c62bMeXDmS56PoF3mTQR5rGJl4eBT7mqPcC4JEUZRkGVmNvANMwNguAnhR16UOW+S4chyz/Tfo5w6C94xEjkeb/zQPAwXnrdgzjAWzxcn2NDt+EehZwraXgOmMzy7IdX07UyGFanjDoIytjE5WlljrPRXxhWciy0lIWX2MzD1lup63Hf4EXWepyIOpVgq5caqBb/HximuU27H4YvHQrIo7d5EU7qW/1Vms6ONlC+MlibNqQpYnrl3adQR9ZG5s9mMcClYC7M5bHxvj5GJsW4M4M9VhnoQfA7yzbX1KjrRlk/z19Li/dPqm5aJlBx7NRR/z2Y24sJouxAfE5DGjkqVX+gdmxiayNzRiwwVDXo3KQ5Y+GsoCfsXlHDrq80VCPV1q2eye1fTan56CbafiIk27RbtRBqGNcepCzQfV4FrGKP0/UHwZ8Eb/zRGeS3kG8XmSNWY8VyHgsB76k+PyzyNjEGQD+igyuK0uRw571KAKdyKHUpUiMUpLXIY7NevIcpanfiTjK70J2yPZqrisgfq6XIo7CYxTXvLaODGlxpKZ+B/Az4D5kuVjWXFcA9kfG5BxkqZDk1cgMox6v0tQPIDmh7q3IVUac6ps110fovqdHkEPSDyPPoU63iIMRn9ZHFZ/pdoSTeOm2jmprVEb8MTaodpRGgVcY3Kub2aRdfmuhz1maNhZYtKEirR0XkOn1ek17Jgdkv625980OsrQg8U4+uvmMzTWK+4bRPxy10M34TH1Ql2juP8lBFoAbFG1tZWLoiQ23aOQz2RG7RHNvTd2KwAeBUxSf/Rj5VbPhPKpnISXMdmjy4jTEIdosjAA/0Xym+zWM062o2435MizOPuRsmwrb3UkXjlDU9WE2m03SgzrmyeSHE2TWmaSM/CC7oOr3PiTcwoUNmvpkeIsKJ92KwMcV9aPI8seWh1E70Vx+sbPEdsY22dEFAtrEbcQZdRXE815fVA+KzwFdlS6myeJUAbNl3AMFk7mkovYagZNuJWT7KkkrEiFs62uZj9pBOmTZTtYk/S2BwFRkEfV9PToOSFMQE0rILtQSqnd9LkJ8AaZZ+FqBX6JeQ65wFTAD+hCnWiAw1WlHvTkwKSkhux+LEKMSnx4VgV8g636TM0mXod6JuBr7wK44l6LfCbGlB71PIRCY7owhO0qZEBmXjcBXgK8mPu9GnI/J091JFgOfV9T3A5/wERD4BpNvGRYINCMPkuGzFj+A9XXkdGaSdyIxBzo6kdlL8rDaKHJ63NVbHggE8qGMbIWrYm9SI75sKiMBYr1IYFOclcAdiOVLchXqE74rkOCeQCCQDbfifvA2zi5ySN+S3MLaigh/Q6K+DXH+Hst40iqATwFvV7S7Hsl9kwbthGVUIKBiD5KbZkqgymOxFkmAleRIJhqQ5N8RTwEfwj5s/zFNvWtO4kBj0EXr7syh72cUdfMc25qJOsm6qo88UB1jeV7uUnigS5qzDHhIUR/NZKKZjirA6WzUsTv16NXUr0bOXeURgRpwpwi8AXV+6n1IwGfW9Cnq5iM7mjZh/c9HjnGoAunud5ArDVSxYScgmze+SdNyQZcWdBDJkHcP1QblKiRKWBUafgXuRxN0xqYN+FaljCD5PFyjMPuAVcjx+ICeduxOapeQma4u3WY/E5ffWaEzBBcjqWW3IL4J3f9PAclgMB+9cWqUsVE9H7MQl8ezwD+RaOl4VHEPsnmzKWvhTKiV8LwX2c5OnvruRM5T6a535XbkH7JWOPgM3NNNgmzln4IkQcr6lb1TmRKwMMX2XBLgu7CxxmdtyIltH/aSny5J7kB2eFUvBZiNOn/RQuAzwKFk86ojK+rlHr0CsyC4QeSEtM+vVz9muXN8KQBvyaGfgPAM8IWc+robs5QornyZxj20DyEn4l04PU1BXDFJdGzig1mGelvcllXYpxN1wdSxts2y3hTV/SO4z7Z08mx3bC9NzsFuvHzH5kKyWTZsAL5pcb1q7H3/b76D22um037BXxa6Pcdi9G8bWJtWJxVakGDA+zX9pVFUaRV0siRz87qkK0jSSXUmet+X7CWTlQ+gdnAmuZZsxvge7NLCRsyhemxs03F2IH6aNPL1PonMKGzzxixUtPU9yzZUtCITgM0Gskcl7eRlWen2HGsUHewiu9OjBSR6+buIQbsXST3q8oqVqPQhOXdsuIDxJPDDwIfdVZrAqphcA7g9mHE+wvgrS8rIlN+ENIzNAPLjcDPyckNV7JUN8Td87ESdb8mEdiR7wU+RpF6bkVw9Oj2GkCRu65HMfufjnpyqhMyGorYfR59J0IUi8G5k2Xgj4ktKPh+bEJ9N2mStG61MzFpfJuPw5klEJ/B6qiOrfelG0ne6/kMn2R+R84UW96iMTaNiSeJ0IWPjmpNnMlBAcjkdTWNyaWdJ5rp1IAcz1wFvzaKDQO5MVmMTCASajGBsArng89rNQPMy1mgBAs1HMDYB1Zkbk7d6BgJWBGMTUMVt3Ji7FIGmJ5nwKjA9OQI5CzcH+BVydKRRmfsDTcr/AWrx3sg+Tk57AAAAAElFTkSuQmCC\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=9e2807a4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=9e2807a4&scoped=true&lang=css&\"","// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\ndeclare var opr: any;\ndeclare var InstallTrigger: any;\ndeclare var safari: any;\n\nexport class Browser {\n    public static get isCompatible() {\n        // The following detection is accurate for desktop browsers only. For many mobile browsers, especially the ones\n        // based on Chromium, this method will return true no matter what version of browser it runs on. For now, this\n        // might be \"good enough\", as users tend to update their phones much more often than their desktop computers. A\n        // phone therefore has a higher probability to come with a suitable browser.\n        if (Browser.isFirefox && (Browser.getVersion(\" Firefox/\") < 47)) {\n            return false;\n        }\n\n        if (Browser.isSafari && (Browser.getVersion(\" Version/\") < 10)) {\n            return false;\n        }\n\n        if (Browser.isIE) {\n            return false;\n        }\n\n        // Blink is true for Chrome, Chromium and other Chromium-based browsers like Opera and Yandex, all of which have\n        // a Chrome version in their userAgent string\n        if (Browser.isBlink && (Browser.getVersion(\" Chrome/\") < 54)) {\n            return false;\n        }\n\n        return true;\n    }\n\n    // https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n\n    // Opera 8.0+\n    public static readonly isOpera =\n        // tslint:disable-next-line:no-unsafe-any\n        (!!(window as any).opr && !!opr.addons) || !!(window as any).opera || navigator.userAgent.indexOf(\" OPR/\") >= 0;\n\n    // Firefox 1.0+\n    public static readonly isFirefox = typeof InstallTrigger !== \"undefined\";\n\n    // Safari 3.0+ \"[object HTMLElementConstructor]\"\n    public static readonly isSafari =\n        // tslint:disable-next-line:no-unsafe-any\n        /constructor/i.test((window as any).HTMLElement) ||\n        // tslint:disable-next-line:only-arrow-functions no-unsafe-any\n        (function(p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(\n            // tslint:disable-next-line:no-string-literal no-unsafe-any\n            !((window as any)[\"safari\"]) || (typeof safari !== \"undefined\" && safari.pushNotification));\n\n    // Internet Explorer 6-11\n    // tslint:disable-next-line:binary-expression-operand-order\n    public static readonly isIE = /*@cc_on!@*/false || !!(document as any).documentMode;\n\n    // Edge 20+\n    public static readonly isEdge = !Browser.isIE && !!(window as any).StyleMedia;\n\n    // Chrome 1+\n    // cSpell: ignore webstore\n    // tslint:disable-next-line:no-unsafe-any\n    public static readonly isChrome = !!(window as any).chrome && !!(window as any).chrome.webstore;\n\n    // Blink engine detection\n    public static readonly isBlink = (Browser.isChrome || Browser.isOpera) && !!(window as any).CSS;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getVersion(versionPrefix: string) {\n        const userAgent = window.navigator.userAgent;\n        const versionIndex = userAgent.indexOf(versionPrefix);\n\n        return versionIndex >= 0 ? parseInt(userAgent.substr(versionIndex + versionPrefix.length), 10) : Number.NaN;\n    }\n}\n","// tslint:disable:file-name-casing\n// Copyright (C) 2018-2019 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Browser } from \"./Browser\";\nimport { Application } from \"./model/Application\";\n\nif (Browser.isCompatible) {\n    if (window.location.search) {\n        new URLSearchParams(window.location.search).forEach((value, key) => window.sessionStorage.setItem(key, value));\n        window.location.replace(new URL(window.location.pathname, window.location.origin).href);\n    } else {\n        // tslint:disable-next-line:no-require-imports no-var-requires\n        require(\"./app-main\");\n    }\n} else {\n    const appElement = document.getElementById(\"app\");\n\n    if (appElement) {\n        appElement.innerHTML = `\n            <div style=\"padding: 20px; font-size:large\">\n                <p><strong>${Application.title} doesn't work on this browser.</strong></p>\n                <p>\n                    It is recommended to use ${Application.title} from within a recent version of an\n                    <strong>open-source</strong> browser like <strong>Brave</strong> or <strong>Firefox</strong>.\n                </p>\n                <p>\n                    ${Application.title} should also work on recent incarnations of proprietary browsers like Chrome,\n                    Opera, Safari, Edge and probably others.\n                </p>\n                <p>&nbsp;</p>\n                <p>&nbsp;</p>\n                <p><strong>${Application.title} ${Application.version}</strong></p>\n                <p>userAgent: ${window.navigator.userAgent}</p>\n                <p>isOpera: ${Browser.isOpera}</p>\n                <p>isFirefox: ${Browser.isFirefox}</p>\n                <p>isSafari: ${Browser.isSafari}</p>\n                <p>isIE: ${Browser.isIE}</p>\n                <p>isEdge: ${Browser.isEdge}</p>\n                <p>isChrome: ${Browser.isChrome}</p>\n                <p>isBlink: ${Browser.isBlink}</p>\n            </div>\n        `;\n    }\n}\n","module.exports = __webpack_public_path__ + \"img/quandl.c53e90c0.svg\";"],"sourceRoot":""}