{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AssetList.vue?3084","webpack:///./src/assets/quandl.svg","webpack:///./src/components/TextField.vue?6f94","webpack:///./src/components/AssetListRow.vue?1c4a","webpack:///./src/components/Select.vue?f5dd","webpack:///./src/components/AssetEditor.vue?cca2","webpack:///./src/assets/blockchain.svg","webpack:///./src/App.vue?8b0d","webpack:///./src/assets/coinmarketcap.svg","webpack:///./src/model/WeightUnit.ts","webpack:///./src/App.vue?dcfe","webpack:///./src/components/AssetList.vue?6417","webpack:///./src/components/AssetEditor.vue?c47c","webpack:///./src/model/AssetBundle.ts","webpack:///./src/model/QueryCache.ts","webpack:///./src/model/Value.ts","webpack:///./src/model/BlockchainRequest.ts","webpack:///./src/model/Asset.ts","webpack:///./src/model/CoinMarketCapRequest.ts","webpack:///./src/model/CryptoWallet.ts","webpack:///./src/model/BtcWallet.ts","webpack:///./src/model/Input.ts","webpack:///./src/model/InputInfo.ts","webpack:///./src/model/AssetInputInfo.ts","webpack:///./src/model/PrimitiveInputInfo.ts","webpack:///./src/model/SelectInputInfo.ts","webpack:///./src/model/TextInputInfo.ts","webpack:///./src/model/CryptoWalletInputInfo.ts","webpack:///./src/model/QuandlRequest.ts","webpack:///./src/model/PreciousMetalAsset.ts","webpack:///./src/model/GoldAsset.ts","webpack:///./src/model/PreciousMetalAssetInputInfo.ts","webpack:///./src/model/SilverAsset.ts","webpack:///./src/model/SingleAssetBundle.ts","webpack:///./src/model/Model.ts","webpack:///./src/components/AssetEditorData.ts","webpack:///./src/components/AssetProperties.ts","webpack:///./src/components/ComponentBase.ts","webpack:///./src/components/NoAssetInputInfo.ts","webpack:///./src/components/Select.vue?8f9e","webpack:///./src/components/ControlBase.ts","webpack:///./src/components/Select.vue.ts","webpack:///./src/components/Select.vue.ts?4a31","webpack:///./src/components/Select.vue","webpack:///./src/components/TextField.vue?591d","webpack:///./src/components/TextField.vue.ts","webpack:///./src/components/TextField.vue.ts?9d65","webpack:///./src/components/TextField.vue","webpack:///./src/components/AssetEditor.vue.ts","webpack:///./src/components/AssetEditor.vue.ts?7903","webpack:///./src/components/AssetEditor.vue","webpack:///./src/components/AssetListRow.vue?32f4","webpack:///./src/components/Format.ts","webpack:///./src/components/AssetListRow.vue.ts","webpack:///./src/components/AssetListRow.vue.ts?883a","webpack:///./src/components/AssetListRow.vue","webpack:///./src/components/AssetList.vue.ts","webpack:///./src/components/AssetList.vue.ts?352f","webpack:///./src/components/AssetList.vue","webpack:///./src/App.vue.ts","webpack:///./src/App.vue.ts?7de1","webpack:///./src/App.vue","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetList_vue_vue_type_style_index_0_id_022fff8e_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextField_vue_vue_type_style_index_0_id_65676c42_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetListRow_vue_vue_type_style_index_0_id_67ee829e_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Select_vue_vue_type_style_index_0_id_60a48c9a_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AssetEditor_vue_vue_type_style_index_0_id_f7d4fe80_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default","WeightUnit","render","_vm","this","_h","$createElement","_c","_self","attrs","id","temporary","app","model","callback","$$v","isDrawerVisible","expression","dense","on","click","onOpenClicked","_v","ref","staticStyle","display","type","accept","change","onFileInputChanged","onSaveClicked","$event","stopPropagation","onMenuIconClicked","staticClass","items","currencies","single-line","$set","height","fill-height","fluid","row","href","target","src","alt","staticRenderFns","AssetListvue_type_template_id_022fff8e_scoped_true_render","checkedValue","assets","pagination","loading","isLoading","hide-actions","update:pagination","scopedSlots","_u","fn","props","class","sortDirection","getActive","changeSort","small","colspan","_s","selectedCurrency","item","edit","onEdit","delete","onDelete","slot","indeterminate","totalValueInteger","totalValueFraction","AssetListvue_type_template_id_022fff8e_scoped_true_staticRenderFns","AssetEditorvue_type_template_id_f7d4fe80_scoped_true_render","persistent","max-width","isOpen","color","dark","title","grid-list-md","wrap","large","info","typeInputInfo","assetInfo","nativeOn","onResetClicked","onCancelClicked","AssetEditorvue_type_template_id_f7d4fe80_scoped_true_staticRenderFns","AssetBundle","QueryCache","fetch","query","cache","fetchImpl","set","_b","_a","JSON","parse","_d","sent","text","error","Map","Value","isObject","isArray","Array","hasNumberProperty","propertyName","hasProperty","hasStringProperty","hasObjectProperty","hasArrayProperty","getPropertyTypeMismatch","actual","expected","addPropertyName","getTypeMismatch","actualType","getTypeName","expectedType","getUnknownValue","rest","BlockchainRequest_BlockchainRequest","BlockchainRequest","addresses","join","execute","getFinalBalance","response","finalBalance","Number","NaN","transactionCount","address","balance","n_tx","isNaN","final_balance","Asset","parent","properties","quantityDecimals","unitValueUsd","undefined","description","location","multiply","exchangeRate","quantity","unitValue","factor1","factor2","CoinMarketCapRequest_CoinMarketCapRequest","CoinMarketCapRequest","coin","invert","getPrice","price","parseFloat","price_usd","superType","CryptoWallet_CryptoWallet","_super","CryptoWallet","currencySymbol","_this","queryUnitValue","catch","reason","console","__extends","toJSON","BtcWallet_BtcWallet","BtcWallet","queryQuantity","BtcWallet_extends","delay","milliseconds","Promise","resolve","setTimeout","locationHint","add","addChain","chain","index","batch","getBatch","offset","node","fromBase58","derive","getAddress","InputUtility","isComposite","input","InputInfo_InputInfo","InputInfo","validate","strict","validateComposite","validatePrimitive","AssetInputInfo_AssetInputInfo","AssetInputInfo","createBundleCallback","includeRelations","AssetInputInfo_extends","createBundle","Error","ctor","validateAll","results","weight","weightUnit","fineness","message","singleResult","validateRelations","PrimitiveInputInfo","label","hint","isPresent","isRequired","PrimitiveInputInfo_extends","validateContent","SelectInputInfo","SelectInputInfo_extends","TextInputInfo","min","max","step","TextInputInfo_extends","isNumber","numericValue","EPSILON","format","bottom","lower","Math","floor","upper","maxError","getMaxError","lowerText","upperText","epsilonFactor","toLocaleString","maximumFractionDigits","log10","abs","CryptoWalletInputInfo_CryptoWalletInputInfo","CryptoWalletInputInfo","pow","CryptoWalletInputInfo_extends","QuandlRequest_QuandlRequest","QuandlRequest","path","dataset","array","WeightUnits","toString","unit","Gram","Kilogram","Grain","TroyOunce","AvdpOunce","toWeightUnit","str","unitMap","getAllStrings","keys","getMapEntries","weightUnitProperty","PreciousMetalAsset_superType","PreciousMetalAsset_PreciousMetalAsset","PreciousMetalAsset","quandlPath","pureGramsPerUnit","PreciousMetalAsset_extends","getUnit","toFixed","GoldAsset","GoldAsset_extends","PreciousMetalAssetInputInfo_PreciousMetalAssetInputInfo","PreciousMetalAssetInputInfo","from","PreciousMetalAssetInputInfo_extends","SilverAsset","SilverAsset_extends","SingleAssetBundle","asset","SingleAssetBundle_extends","deleteAsset","indexOf","map","Model_Model","Model","onChanged","bundles","selectedCurrencyImpl","currencyMap","next","json","rawModel","e","selectedCurrencyName","findIndex","currency","bundlesName","__values","done","rawBundle","rawBundle_1","rawBundle_1_1","rawAsset","bundle","parseAsset","onCurrencyChanged","reduce","concat","toJsonString","stringify","addBundle","b","replaceBundle","oldAsset","newBundle","typeName","assetInfos","find","validationResult","hasProperties","raw","request","AssetEditorData_AssetEditorData","AssetEditorData","getQuantity","AssetProperties_AssetProperties","AssetProperties","ComponentBase_ComponentBase","ComponentBase","ComponentBase_extends","$emit","getControl","$refs","__decorate","vue_property_decorator","NoAssetInputInfo_NoAssetInputInfo","NoAssetInputInfo","NoAssetInputInfo_extends","Selectvue_type_template_id_60a48c9a_scoped_true_render","xs12","sm6","required","rules","propertyValue","_e","Selectvue_type_template_id_60a48c9a_scoped_true_staticRenderFns","ControlBase_ControlBase","ControlBase","ControlBase_extends","primitiveInputInfo","checkedProperty","checkedInfo","ControlBase_decorate","Select_vuevue_type_script_lang_ts_Select","Select","Select_vuevue_type_script_lang_ts_extends","Select_vuevue_type_script_lang_ts_decorate","components_Select_vuevue_type_script_lang_ts","component","componentNormalizer","components_Select","TextFieldvue_type_template_id_65676c42_scoped_true_render","TextFieldvue_type_template_id_65676c42_scoped_true_staticRenderFns","TextField_vuevue_type_script_lang_ts_TextField","TextField","TextField_vuevue_type_script_lang_ts_extends","TextField_vuevue_type_script_lang_ts_decorate","components_TextField_vuevue_type_script_lang_ts","TextField_component","components_TextField","AssetEditor_vuevue_type_script_lang_ts_AssetEditor","AssetEditor","arguments","editedAsset","AssetEditor_vuevue_type_script_lang_ts_extends","event","reset","isValid","save","close","interface","AssetEditor_vuevue_type_script_lang_ts_decorate","components","components_AssetEditor_vuevue_type_script_lang_ts","AssetEditor_component","components_AssetEditor","AssetListRowvue_type_template_id_67ee829e_scoped_true_render","finenessInteger","finenessFraction","unitValueInteger","unitValueFraction","quantityInteger","quantityFraction","icon","onEditClicked","onDeleteClicked","AssetListRowvue_type_template_id_67ee829e_scoped_true_staticRenderFns","Format","integer","num","decimals","formatted","substring","getDecimalPointPosition","fraction","minimumFractionDigits","useGrouping","decimalPointPosition","lastIndexOf","AssetListRow_vuevue_type_script_lang_ts_AssetListRow","AssetListRow","AssetListRow_vuevue_type_script_lang_ts_extends","trunc","substr","endsWith","totalValue","confirm","AssetListRow_vuevue_type_script_lang_ts_decorate","components_AssetListRow_vuevue_type_script_lang_ts","AssetListRow_component","components_AssetListRow","AssetList_vuevue_type_script_lang_ts_AssetList","AssetList","sortBy","descending","rowsPerPage","AssetList_vuevue_type_script_lang_ts_extends","a","AssetList_vuevue_type_script_lang_ts_decorate","components_AssetList_vuevue_type_script_lang_ts","AssetList_component","components_AssetList","App_vuevue_type_script_lang_ts_App","App","App_1","loadFromLocalStorage","onModelChanged","App_vuevue_type_script_lang_ts_extends","fileInput","blob","Blob","write","files","read","filename","navigator","msSaveOrOpenBlob","msSaveBlob","elem","document","createElement","URL","createObjectURL","download","body","appendChild","removeChild","reject","reader","FileReader","onload","ev","onerror","readAsText","defaultModel","saveToLocalStorage","alert","localStorage","setItem","localStorageKey","getItem","App_vuevue_type_script_lang_ts_decorate","src_App_vuevue_type_script_lang_ts","App_component","src_App","vue_runtime_esm","config","productionTip","use","vuetify_default","h","$mount"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,aAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,kBAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,MAAA,OAEAU,4GCtJkc0C,EAAA,uFCAlc9B,EAAAD,QAAAJ,EAAA8B,EAAA,wFCAkcM,EAAA,uFCAGC,EAAA,uFCANC,EAAA,8DCAKC,EAAA,wBCApclC,EAAAD,QAAAJ,EAAA8B,EAAA,0FCAkZU,EAAA,+CCAlZnC,EAAAD,QAAAJ,EAAA8B,EAAA,uICaYW,mCCbZC,aAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,SAAAA,EAAA,uBAAwCE,OAAOE,UAAA,GAAAC,IAAA,IAAwBC,OAAQlC,MAAAwB,EAAA,gBAAAW,SAAA,SAAAC,GAAqDZ,EAAAa,gBAAAD,GAAwBE,WAAA,qBAA+BV,EAAA,UAAeE,OAAOS,MAAA,MAAYX,EAAA,eAAoBY,IAAIC,MAAAjB,EAAAkB,iBAA2Bd,EAAA,sBAAAA,EAAA,UAAAJ,EAAAmB,GAAA,yBAAAf,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAmB,GAAA,aAAAf,EAAA,SAA0JgB,IAAA,YAAAC,aAA6BC,QAAA,QAAiBhB,OAAQiB,KAAA,OAAAC,OAAA,SAA+BR,IAAKS,OAAAzB,EAAA0B,uBAAiC,OAAAtB,EAAA,eAA4BY,IAAIC,MAAAjB,EAAA2B,iBAA2BvB,EAAA,sBAAAA,EAAA,UAAAJ,EAAAmB,GAAA,cAAAf,EAAA,uBAAAA,EAAA,qBAAAJ,EAAAmB,GAAA,6BAAAf,EAAA,aAAmKE,OAAOG,IAAA,MAAUL,EAAA,uBAA4BY,IAAIC,MAAA,SAAAW,GAAkD,OAAzBA,EAAAC,kBAAyB7B,EAAA8B,kBAAAF,OAAuCxB,EAAA,mBAAAJ,EAAAmB,GAAA,mBAAAf,EAAA,YAAAA,EAAA,mBAAAA,EAAA,YAAsG2B,YAAA,OAAAzB,OAA0B0B,MAAAhC,EAAAU,MAAAuB,WAAAC,cAAA,IAA8CxB,OAAQlC,MAAAwB,EAAAU,MAAA,iBAAAC,SAAA,SAAAC,GAA4DZ,EAAAmC,KAAAnC,EAAAU,MAAA,mBAAAE,IAA6CE,WAAA,6BAAsC,OAAAV,EAAA,aAAAA,EAAA,eAAAA,EAAA,aAA4DE,OAAO9B,MAAAwB,EAAAU,UAAmB,OAAAN,EAAA,YAAyBE,OAAOG,IAAA,GAAA2B,OAAA,UAA0BhC,EAAA,eAAoBE,OAAO+B,cAAA,GAAAC,MAAA,MAA6BlC,EAAA,YAAiBE,OAAOiC,IAAA,MAAUnC,EAAA,UAAe2B,YAAA,uBAAiC/B,EAAAmB,GAAA,8CAAAf,EAAA,UAAAA,EAAA,KAA4E2B,YAAA,OAAAzB,OAA0BkC,KAAA,4BAAAC,OAAA,YAAsDrC,EAAA,OAAYE,OAAOoC,IAAArF,EAAA,QAAA+E,OAAA,KAAAO,IAAA,yBAAqFvC,EAAA,KAAY2B,YAAA,OAAAzB,OAA0BkC,KAAA,0BAAAC,OAAA,YAAoDrC,EAAA,OAAYE,OAAOoC,IAAArF,EAAA,QAAA+E,OAAA,KAAAO,IAAA,uBAAgFvC,EAAA,KAAY2B,YAAA,OAAAzB,OAA0BkC,KAAA,qBAAAC,OAAA,YAA+CrC,EAAA,OAAYE,OAAOoC,IAAArF,EAAA,QAAA+E,OAAA,KAAAO,IAAA,oBAAuEvC,EAAA,YAAAA,EAAA,UAAAA,EAAA,KAA0C2B,YAAA,OAAAzB,OAA0BkC,KAAA,kDAAAC,OAAA,YAA4EzC,EAAAmB,GAAA,kEACz2EyB,iBCDAC,EAAA,WAA0B,IAAA7C,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,eAAmCgB,IAAA,SAAAd,OAAoB9B,MAAAwB,EAAA8C,gBAA0B1C,EAAA,gBAAqB2B,YAAA,cAAAzB,OAAiC0B,MAAAhC,EAAA8C,aAAAC,OAAAC,WAAAhD,EAAAgD,WAAAC,QAAAjD,EAAAkD,UAAAC,eAAA,IAAsGnC,IAAKoC,oBAAA,SAAAxB,GAAqC5B,EAAAgD,WAAApB,IAAuByB,YAAArD,EAAAsD,KAAsBxE,IAAA,UAAAyE,GAAA,SAAAC,GAAiC,OAAApD,EAAA,MAAiBqD,OAAA,+BAAAzD,EAAA0D,cAAA1D,EAAA2D,UAAA,SAAA3C,IAAqFC,MAAA,SAAAW,GAAyB5B,EAAA4D,WAAA,YAAyB5D,EAAAmB,GAAA,mBAAAf,EAAA,UAAyCE,OAAOuD,MAAA,MAAY7D,EAAAmB,GAAA,sBAAAf,EAAA,MAAwCqD,OAAA,8CAAAzD,EAAA0D,cAAA1D,EAAA2D,UAAA,gBAAA3C,IAA2GC,MAAA,SAAAW,GAAyB5B,EAAA4D,WAAA,mBAAgC5D,EAAAmB,GAAA,0BAAAf,EAAA,UAAgDE,OAAOuD,MAAA,MAAY7D,EAAAmB,GAAA,sBAAAf,EAAA,MAAwCqD,OAAA,kDAAAzD,EAAA0D,cAAA1D,EAAA2D,UAAA,aAAA3C,IAA4GC,MAAA,SAAAW,GAAyB5B,EAAA4D,WAAA,gBAA6B5D,EAAAmB,GAAA,uBAAAf,EAAA,UAA6CE,OAAOuD,MAAA,MAAY7D,EAAAmB,GAAA,sBAAAf,EAAA,MAAwC2B,YAAA,oCAA8C/B,EAAAmB,GAAA,UAAAf,EAAA,MAA4B2B,YAAA,qBAAAzB,OAAwCwD,QAAA,OAAe9D,EAAAmB,GAAA,cAAAf,EAAA,MAAgC2B,YAAA,qBAAAzB,OAAwCwD,QAAA,OAAe9D,EAAAmB,GAAA,cAAAf,EAAA,MAAAJ,EAAAmB,GAAA,IAAAnB,EAAA+D,GAAA/D,EAAA8C,aAAAkB,kBAAA,OAAA5D,EAAA,MAAqG2B,YAAA,qBAAAzB,OAAwCwD,QAAA,OAAe9D,EAAAmB,GAAA,cAAAf,EAAA,MAAgCqD,OAAA,wBAAAzD,EAAA0D,cAAA1D,EAAA2D,UAAA,eAAArD,OAAuFwD,QAAA,KAAc9C,IAAKC,MAAA,SAAAW,GAAyB5B,EAAA4D,WAAA,kBAA+B5D,EAAAmB,GAAA,0BAAAf,EAAA,UAAgDE,OAAOuD,MAAA,MAAY7D,EAAAmB,GAAA,kBAAAf,EAAA,MAAAJ,EAAAmB,GAAA,IAAAnB,EAAA+D,GAAA/D,EAAA8C,aAAAkB,kBAAA,iBAAA5D,EAAA,MAAAJ,EAAAmB,GAAA,iBAA2IrC,IAAA,QAAAyE,GAAA,SAAAC,GAA+B,OAAApD,EAAA,gBAA2BE,OAAO9B,MAAAgF,EAAAS,MAAmBjD,IAAKkD,KAAAlE,EAAAmE,OAAAC,OAAApE,EAAAqE,mBAAgDjE,EAAA,qBAA0BE,OAAOgE,KAAA,WAAAC,cAAA,IAAqCD,KAAA,aAAiBlE,EAAA,YAAiBkE,KAAA,WAAclE,EAAA,MAAW2B,YAAA,UAAoB/B,EAAAmB,GAAA,iBAAAf,EAAA,MAAmC2B,YAAA,mBAA6B3B,EAAA,MAAW2B,YAAA,uBAAiC3B,EAAA,MAAW2B,YAAA,uBAAiC3B,EAAA,MAAW2B,YAAA,qBAAAzB,OAAwCwD,QAAA,OAAe1D,EAAA,MAAW2B,YAAA,qBAAAzB,OAAwCwD,QAAA,OAAe1D,EAAA,MAAW2B,YAAA,qBAAAzB,OAAwCwD,QAAA,OAAe1D,EAAA,MAAW2B,YAAA,6BAAuC/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAwE,sBAAApE,EAAA,MAAmD2B,YAAA,4BAAsC/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAyE,uBAAArE,EAAA,iBAC9tFsE,KCDAC,EAAA,WAA0B,IAAA3E,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,OAAOsE,WAAA,GAAAC,YAAA,SAAoCnE,OAAQlC,MAAAwB,EAAA,OAAAW,SAAA,SAAAC,GAA4CZ,EAAA8E,OAAAlE,GAAeE,WAAA,YAAsBV,EAAA,SAAc2B,YAAA,OAAAzB,OAA0BgE,KAAA,YAAAS,MAAA,UAAAC,KAAA,IAA+CV,KAAA,cAAkBtE,EAAAmB,GAAA,eAAAf,EAAA,UAAAA,EAAA,gBAAAA,EAAA,QAAmE2B,YAAA,aAAuB/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAiF,YAAA7E,EAAA,eAAAA,EAAA,UAA+DgB,IAAA,SAAWhB,EAAA,eAAoBE,OAAO4E,eAAA,MAAmB9E,EAAA,YAAiBE,OAAO6E,KAAA,MAAW/E,EAAA,UAAeE,OAAO8E,MAAA,GAAAC,KAAArF,EAAAsF,eAAoC5E,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAuB,KAAAX,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,eAA8CwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,YAA2CwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,WAA0CwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,UAAyCwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,UAAoBV,EAAA,UAAeE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,cAA6CwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,YAA2CwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,UAAoBV,EAAA,aAAkBE,OAAO+E,KAAArF,EAAAuF,UAAArG,SAAA,YAA2CwB,OAAQlC,MAAAwB,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAtE,KAAAkF,GAAaE,WAAA,WAAoB,eAAAV,EAAA,kBAAAA,EAAA,SAAmDoF,UAAUvE,MAAA,SAAAW,GAAyB,OAAA5B,EAAAyF,eAAA7D,OAAoC5B,EAAAmB,GAAA,WAAAf,EAAA,YAAAA,EAAA,SAA+CoF,UAAUvE,MAAA,SAAAW,GAAyB,OAAA5B,EAAA2B,cAAAC,OAAmC5B,EAAAmB,GAAA,UAAAf,EAAA,SAA+BoF,UAAUvE,MAAA,SAAAW,GAAyB,OAAA5B,EAAA0F,gBAAA9D,OAAqC5B,EAAAmB,GAAA,yBACplEwE,KCmBAC,EAAA,oBAAAA,KASA,OAAAA,EATA,myCCLAC,EAAA,oBAAAA,KA0BA,OAxBkBA,EAAAC,MAAd,SAAoBC,GAChB,IAAIhJ,EAASkD,KAAK+F,MAAM5H,IAAI2H,GAO5B,OALKhJ,IACDA,EAASkD,KAAKgG,UAAUF,GACxB9F,KAAK+F,MAAME,IAAIH,EAAOhJ,IAGnBA,GAOU8I,EAAAI,UAArB,SAA+BF,mGAEE,6BAAlBI,GAAAC,EAAAC,MAAKC,OAAa,EAAMjH,OAAOyG,MAAMC,WAA1B,SAAOQ,EAAAC,OAA2BC,eAApD,SAAON,EAAAtJ,MAAAuJ,GAAWG,EAAAC,iBAIlB,oBAASE,MAAO,0DARAb,EAAAG,MAAQ,IAAIW,IAWxCd,EA1BA,GCiBAe,EAAA,oBAAAA,KAsFA,OA/EkBA,EAAAC,SAAd,SAAuBrI,GACnB,OAAOA,aAAiBnC,QAIduK,EAAAE,QAAd,SAAsBtI,GAClB,OAAOuI,MAAMD,QAAQtI,IAIXoI,EAAAI,kBAAd,SACIxI,EAAmCyI,GAGnC,OAAOhH,KAAKiH,YAAY1I,EAAOyI,IAAiD,kBAAxBzI,EAAMyI,IAIpDL,EAAAO,kBAAd,SACI3I,EAAmCyI,GAGnC,OAAOhH,KAAKiH,YAAY1I,EAAOyI,IAAiD,kBAAxBzI,EAAMyI,IAIpDL,EAAAQ,kBAAd,SACI5I,EAAmCyI,GACnC,OAAOhH,KAAKiH,YAAY1I,EAAOyI,IAAiBhH,KAAK4G,SAASrI,EAAMyI,KAI1DL,EAAAS,iBAAd,SACI7I,EAAmCyI,GACnC,OAAOhH,KAAKiH,YAAY1I,EAAOyI,IAAiBhH,KAAK6G,QAAQtI,EAAMyI,KAIzDL,EAAAU,wBAAd,SAAyCL,EAAsBM,EAAoCC,GAC/F,OAAIvH,KAAK4G,SAASU,GACPtH,KAAKwH,gBAAgBR,EAAchH,KAAKyH,gBAAgBH,EAAON,GAAeO,IAE9EvH,KAAKyH,gBAAgBH,OAKtBX,EAAAc,gBAAd,SAAiCH,EAAoCC,GACjE,IAAMG,EAAaf,EAAMgB,YAAYL,GAC/BM,EAAejB,EAAMgB,YAAYJ,GAEvC,MAAO,mBAAmBG,EAAU,qCAAqCE,EAAY,KAI3EjB,EAAAkB,gBAAd,SAA8Bb,EAAsBzI,GAChD,OAAOyB,KAAKwH,gBAAgBR,EAAc,kBAAkBzI,EAAK,OAKtDoI,EAAAM,YAAf,SACI1I,EAAmCyI,GACnC,OAAOhH,KAAK4G,SAASrI,IAAUA,EAAMjC,eAAe0K,IAGzCL,EAAAa,gBAAf,SAA+BR,EAAsBc,GACjD,MAAO,IAAId,EAAY,MAAMc,GAGlBnB,EAAAgB,YAAf,SAA2BpJ,GACvB,GAAc,OAAVA,EACA,MAAO,OAGX,IAAM+C,SAAc/C,EAEpB,MAAgB,WAAT+C,EAAqBwF,MAAMD,QAAQtI,GAAS,QAAU,SAAY+C,GAEjFqF,EAtFA,uxCCNAoB,EAAA,WAII,SAAAC,EAAmBC,GACfjI,KAAKiI,UAAYA,EAAUC,KAAK,KA+BxC,OA5BiBF,EAAA3L,UAAA8L,QAAb,2GAEQ,OADGjC,GAAAC,EAAA6B,GAAkBI,iBACrB,EAAMxC,EAAWC,MAAM,0CAA0C7F,KAAKiI,UAAS,sBADnF,SAAO/B,EAAAtJ,MAAAuJ,GACHhG,EAAAoG,gBAKOyB,EAAAI,gBAAf,SAA+BC,GAC3B,IAAMvL,GAAWwL,aAAcC,OAAOC,IAAKC,iBAAkB,GAE7D,GAAI9B,EAAMC,SAASyB,GACf,IAAK,IAAMK,KAAWL,EAClB,GAAIA,EAAS/L,eAAeoM,GAAU,CAClC,IAAMC,EAAUN,EAASK,GAErB/B,EAAMI,kBAAkB4B,EAAS,kBAAoBhC,EAAMI,kBAAkB4B,EAAS,UACtF7L,EAAO2L,kBAAoBE,EAAQC,KACnC9L,EAAOwL,cAAgBC,OAAOM,MAAM/L,EAAOwL,cAAgB,EAAIxL,EAAOwL,cAClEK,EAAQG,cAAgB,KAM5C,OAAOhM,GAIfkL,EApCA,GCOAe,EAAA,WAqDI,SAAAA,EAAsBC,EAAgBC,EAA8CC,GAAAlJ,KAAAkJ,mBAR1ElJ,KAAAmJ,kBAAmCC,EASzCpJ,KAAKgJ,OAASA,EACdhJ,KAAKqJ,YAAcJ,EAAWI,YAC9BrJ,KAAKsJ,SAAWL,EAAWK,SAQnC,OAlDIlN,OAAA6B,eAAW8K,EAAA1M,UAAA,oBAAX,WACI,MAAO,oCAaXD,OAAA6B,eAAW8K,EAAA1M,UAAA,iBAAX,WACI,OAAO0M,EAAMQ,SAASvJ,KAAKmJ,aAAcnJ,KAAKgJ,OAAOQ,+CAIzDpN,OAAA6B,eAAW8K,EAAA1M,UAAA,kBAAX,WACI,OAAO0M,EAAMQ,SAASvJ,KAAKyJ,SAAUzJ,KAAK0J,4CA2B/BX,EAAAQ,SAAf,SAAwBI,EAA6BC,GACjD,YAAoBR,IAAZO,QAAuCP,IAAZQ,OAAyBR,EAAYO,EAAUC,GAE1Fb,EAhEA,uxCChBAc,EAAA,WAMI,SAAAC,EAAoCC,EAA+BC,GAA/BhK,KAAA+J,OAA+B/J,KAAAgK,SAuBvE,OApBiBF,EAAAzN,UAAA8L,QAAb,6GAEQ,OADUjC,GAAAC,EAAA2D,GAAqBG,UAC/B,EAAMrE,EAAWC,MAAM,2CAA2C7F,KAAK+J,KAAI,aAE/E,OAHMG,EAAQhE,EAAAtJ,MAAAuJ,GACVhG,EAAAoG,UAEJ,EAAOvG,KAAKgK,OAAS,EAAIE,EAAQA,SAKtBJ,EAAAG,SAAf,SAAwB5B,GACpB,GAAI1B,EAAME,QAAQwB,IAAkC,IAApBA,EAASpM,OAAe,CACpD,IAAMsC,EAAQ8J,EAAS,GAEvB,GAAI1B,EAAMO,kBAAkB3I,EAAO,aAC/B,OAAOgK,OAAO4B,WAAW5L,EAAM6L,WAIvC,OAAQ7B,OAAOC,KAEvBsB,EA7BA,okDCKMO,EAAY,gBASlBC,EAAA,SAAAC,GAiDI,SAAAC,EACIxB,EACAC,EACiBwB,EACjBvB,EACAa,GALJ,IAAAW,EAOIH,EAAAhO,KAAAyD,KAAMgJ,EAAQC,EAAYC,IAAiBlJ,YAJ1B0K,EAAAD,iBA1BLC,EAAAL,UAAYG,EAAaH,UA+BrCK,EAAKhC,QAAUO,EAAWP,QAC1BgC,EAAKjB,SAAWR,EAAWQ,SAC3BiB,EAAKC,eAAeZ,GAAMa,MAAM,SAACC,GAAW,OAAAC,QAAQrE,MAAMoE,OAQlE,OAnE2CE,EAAAP,EAAAD,GAMvCnO,OAAA6B,eAAWuM,EAAAnO,UAAA,oBAAX,WACI,OAAO2D,KAAK0I,QAAU1I,KAAK0I,QAAU,oCAGzCtM,OAAA6B,eAAWuM,EAAAnO,UAAA,YAAX,WACI,OAAO2D,KAAKyK,gDAGhBrO,OAAA6B,eAAWuM,EAAAnO,UAAA,gBAAX,6CAOAD,OAAA6B,eAAWuM,EAAAnO,UAAA,iBAAX,WACI,OAAO2D,sCAOJwK,EAAAnO,UAAA2O,OAAP,WACI,OACI1J,KAAMtB,KAAKsB,KACX+H,YAAarJ,KAAKqJ,YAClBC,SAAUtJ,KAAKsJ,SACfZ,QAAS1I,KAAK0I,QAAU1I,KAAK0I,aAAUU,EACvCK,SAAUzJ,KAAK0I,aAAUU,EAAYpJ,KAAKyJ,WA6BpCe,EAAAnO,UAAAsO,eAAd,SAA6BZ,iGACL,OAApB5D,EAAAnG,MAAoB,EAAM,IAAI6J,EAAqBE,GAAM,GAAO5B,yBAAhEhC,EAAKgD,aAAejD,EAAAK,iBA/DDiE,EAAAH,UAAYA,EAiEvCG,EAnEA,CAA2CzB,okDCb3CkC,EAAA,SAAAV,GAYI,SAAAW,EAAmBlC,EAAgBC,GAAnC,IAAAyB,EACIH,EAAAhO,KAAAyD,KAAMgJ,EAAQC,EAAY,MAAO,EAAG,YAAUjJ,YAVlC0K,EAAApJ,KAAO4J,EAAU5J,KAW7BoJ,EAAKS,gBAAgBP,MAAM,SAACC,GAAW,OAAAC,QAAQrE,MAAMoE,OAkD7D,OAhE+BO,EAAAF,EAAAX,GAmBZW,EAAAG,MAAf,SAAqBC,GACjB,OAAO,IAAIC,QAAc,SAACC,GAAY,OAAAC,WAAWD,EAASF,MAGhDJ,EAAA7O,UAAA8O,cAAd,0GACQnL,KAAK0L,aAED1L,KAAK0L,aAAazP,QAAU,KAC5B,EAAM+D,KAAK2L,KAAM3L,KAAK0L,iBADtB,MAFJ,mBAGIvF,EAAAI,oBAEA,SAAM2E,EAAUG,MAAM,aAGtB,OAHAlF,EAAAI,QAGA,EAAMvG,KAAK4L,SAAS,WACpB,OADAzF,EAAAI,QACA,EAAMvG,KAAK4L,SAAS,WAApBzF,EAAAI,wCAKE2E,EAAA7O,UAAAsP,IAAd,SAAkB1D,iGACC,SAAM,IAAIF,EAAkBE,GAAWE,kBAGtD,OAHMrL,EAASqJ,EAAAI,OACfvG,KAAKyJ,eAA8BL,IAAlBpJ,KAAKyJ,SAAyB,EAAIzJ,KAAKyJ,UAAY3M,EAAOwL,cAE3E,EAAmC,IAA5BxL,EAAO2L,wBAGJyC,EAAA7O,UAAAuP,SAAd,SAAuBC,mGACfC,EAAQ,mBAIL,SAAM9L,KAAK2L,IAAII,EAAQ/L,KAAKgM,SAASH,EAAOC,gBAA5C3F,EAAAI,OAAmD,oCAAEuF,GAASC,EAAM9P,oCAIvEiP,EAAA7O,UAAA2P,SAAR,SAAiBH,EAAeI,GAI5B,IAHA,IAAMC,EAAOzJ,EAAA,UAAO0J,WAAWnM,KAAK0L,cAAcU,OAAOP,GACnD/O,EAAS,IAAIgK,MAAc,IAExBgF,EAAQ,EAAGA,EAAQhP,EAAOb,SAAU6P,EACzChP,EAAOgP,GAASI,EAAKE,OAAOH,EAASH,GAAOO,aAGhD,OAAOvP,GA7DYoO,EAAA5J,KAAO,iBA+DlC4J,EAhEA,CAA+BZ,GCA/BgC,EAAA,oBAAAA,KAIA,OAHkBA,EAAAC,YAAd,SAA0BC,GACtB,OAAOA,aAAiBpQ,QAEhCkQ,EAJA,GCIAG,EAAA,oBAAAC,KAoCA,OA5BWA,EAAArQ,UAAAsQ,SAAP,SAAgBC,EAAiBJ,EAAcxF,GAC3C,OAAIsF,EAAaC,YAAYC,GAClBxM,KAAK6M,kBAAkBD,EAAQJ,EAAOxF,GAEtChH,KAAK8M,kBAAkBF,EAAQJ,EAAOxF,IAc3C0F,EAAArQ,UAAAyQ,kBAAV,SACIF,EAAiBJ,EAAmCxF,GACpD,MAAO,qEAID0F,EAAArQ,UAAAwQ,kBAAV,SACID,EAAiBJ,EAAuBxF,GACxC,MAAO,qEAEf0F,EApCA,gTCWAK,EAAA,SAAAxC,GAsFI,SAAAyC,EAAuCC,GAAvC,IAAAvC,EACIH,EAAAhO,KAAAyD,OAAOA,YAD4B0K,EAAAuC,uBAlEhCvC,EAAAwC,kBAAmB,IAuF9B,OA3G6CC,EAAAH,EAAAzC,GAuBlCyC,EAAA3Q,UAAA+Q,aAAP,SAAoBpE,EAAgBC,GAChC,IAAKjJ,KAAKiN,qBACN,MAAM,IAAII,MAAM,0CAGpB,OAAOrN,KAAKiN,qBAAqBjE,EAAQC,IAGtC+D,EAAA3Q,UAAA8B,IAAP,SAAyCmP,EAAoBtG,GACzD,QAAqBoC,IAAjBpC,EACA,MAAM,IAAIqG,MAAM,wEAGpB,IAAMvQ,EAASkD,KAAKgH,GAEpB,KAAMlK,aAAkBwQ,GACpB,MAAM,IAAID,MACN,sBAAsBC,EAAKxP,KAAI,mDAAmDkJ,EAAY,KAGtG,OAAOlK,GAGJkQ,EAAA3Q,UAAAkR,YAAP,SAAmBf,GACf,IAAKF,EAAaC,YAAYC,GAC1B,OAAO7F,EAAMc,gBAAgB+E,MAGjCxM,KAAKkN,kBAAmB,EAExB,IACI,IAAMM,GACFnE,YAAarJ,KAAK6M,mBAAkB,EAAML,EAAO,eACjDlD,SAAUtJ,KAAK6M,mBAAkB,EAAML,EAAO,YAC9C9D,QAAS1I,KAAK6M,mBAAkB,EAAML,EAAO,WAC7CiB,OAAQzN,KAAK6M,mBAAkB,EAAML,EAAO,UAC5CkB,WAAY1N,KAAK6M,mBAAkB,EAAML,EAAO,cAChDmB,SAAU3N,KAAK6M,mBAAkB,EAAML,EAAO,YAC9C/C,SAAUzJ,KAAK6M,mBAAkB,EAAML,EAAO,aAG9CoB,EAAU,GAEd,IAAK,IAAM/O,KAAO2O,EACd,GAAIA,EAAQlR,eAAeuC,GAAM,CAC7B,IAAM/B,EAAS0Q,EAAQ3O,IAER,IAAX/B,IACA8Q,GAAc/O,EAAG,KAAK/B,EAAM,MAMxC,OAAO8Q,IAAoB,UAE3B5N,KAAKkN,kBAAmB,IAYtBF,EAAA3Q,UAAAwQ,kBAAV,SAA4BD,EAAiBJ,EAAuBxF,GAChE,QAAqBoC,IAAjBpC,EACA,MAAM,IAAIqG,MAAM,wEAGpB,IAAMQ,EAAe7N,KAAKgH,GAAc2F,SAASC,EAAQJ,EAAMxF,QAAeoC,GAE9E,OAAyB,IAAjByE,GAA0B7N,KAAKkN,iBACnClN,KAAK8N,kBAAkBtB,EAAOxF,GAAgB6G,GAK5Cb,EAAA3Q,UAAAyR,kBAAV,SAA4BtB,EAAuBxF,GAC/C,OAAO,GAEfgG,EA3GA,CAA6CP,gTChB7CsB,EAAA,SAAAxD,GAgBI,SAAAwD,EACoBC,EAA+BC,EAC/BC,EAAoCC,GAFxD,IAAAzD,EAGIH,EAAAhO,KAAAyD,OAAOA,YAFS0K,EAAAsD,QAA+BtD,EAAAuD,OAC/BvD,EAAAwD,YAAoCxD,EAAAyD,eA2B5D,OA7CiDC,EAAAL,EAAAxD,GACtCwD,EAAA1R,UAAA8B,IAAP,SAAyCmP,EAAoBtG,GACzD,QAAqBoC,IAAjBpC,EACA,MAAM,IAAIqG,MAAM,sEAGpB,KAAMrN,gBAAgBsN,GAClB,MAAM,IAAID,MAAM,sBAAsBC,EAAKxP,KAAI,oCAGnD,OAAOkC,MAaD+N,EAAA1R,UAAAyQ,kBAAV,SACIF,EAAiBJ,EAAmCxF,GACpD,QAAqBoC,IAAjBpC,EACA,MAAM,IAAIqG,MAAM,sEAGpB,OAAKrN,KAAKkO,iBAIK9E,IAAVoD,GAAmC,OAAVA,GAAsC,kBAAVA,GAAyC,IAAjBA,EAAMvQ,QAC7E+D,KAAKmO,YAAa,8BAGtBnO,KAAKqO,gBAAgBzB,EAAQJ,KAK9BuB,EAAA1R,UAAAgS,gBAAV,SAA0BzB,EAAiBJ,GACvC,OAAO,GAEfuB,EA7CA,CAAiDtB,gTCFjD6B,EAAA,SAAA/D,GAEI,SAAA+D,EACIN,EAAYC,EAAWC,EAAmBC,EAAoCpM,QAA9E,IAAAiM,MAAA,SAAY,IAAAC,MAAA,SAAW,IAAAC,OAAA,QAAmB,IAAAC,OAAA,QAAoC,IAAApM,UADlF,IAAA2I,EAEIH,EAAAhO,KAAAyD,KAAMgO,EAAOC,EAAMC,EAAWC,IAAWnO,YADqC0K,EAAA3I,UAGtF,OANqCwM,EAAAD,EAAA/D,GAMrC+D,EANA,CAAqCP,gTCIrCS,EAAA,SAAAjE,GAEI,SAAAiE,EACIR,EAAYC,EAAWC,EAAmBC,EAC1BM,EAA8BC,EAAqBC,QADnE,IAAAX,MAAA,SAAY,IAAAC,MAAA,SAAW,IAAAC,OAAA,QAAmB,IAAAC,OAAA,GAD9C,IAAAzD,EAGIH,EAAAhO,KAAAyD,KAAMgO,EAAOC,EAAMC,EAAWC,IAAWnO,YADzB0K,EAAA+D,MAA8B/D,EAAAgE,MAAqBhE,EAAAiE,SAwE3E,OA5EmCC,EAAAJ,EAAAjE,GAQ/BnO,OAAA6B,eAAWuQ,EAAAnS,UAAA,YAAX,WACI,OAAO2D,KAAK6O,SAAW,SAAW,wCAa5BL,EAAAnS,UAAAgS,gBAAV,SAA0BzB,EAAiBJ,GACvC,GAAsB,kBAAVA,GAAyC,kBAAVA,EACvC,MAAO,6CAGX,GAAII,GAA6B,kBAAVJ,IAAwBxM,KAAK6O,SAChD,MAAO,2BAA2BrC,EAAK,wCACbxM,KAAK6O,SAAW,SAAW,UAAQ,KAGjE,GAAI7O,KAAK6O,SAAU,CACf,IAAMC,EAAgC,kBAAVtC,EAAqBA,EAAQjE,OAAO4B,WAAWqC,GAE3E,QAAkBpD,IAAbpJ,KAAKyO,KAAuBzO,KAAKyO,IAAMK,EAAevG,OAAOwG,QAC9D,MAAO,0CAA0CP,EAAcQ,OAAOhP,KAAKyO,KAAI,IAGnF,QAAkBrF,IAAbpJ,KAAK0O,KAAuBI,EAAe9O,KAAK0O,IAAMnG,OAAOwG,QAC9D,MAAO,uCAAuCP,EAAcQ,OAAOhP,KAAK0O,KAAI,IAGhF,IAAMO,OAAsB7F,IAAbpJ,KAAKyO,IAAoBzO,KAAKyO,IAAM,EAC7CE,OAAqBvF,IAAdpJ,KAAK2O,KAAqB3O,KAAK2O,KAAO,EAC7CO,EAAQC,KAAKC,OAAON,EAAeG,GAAUN,GAAQA,EAAOM,EAC5DI,EAAQH,EAAQP,EAGhBW,EAAWd,EAAce,YAAYF,EAAO,GAElD,GAAKP,EAAeI,EAAQI,GAAcD,EAAQP,EAAeQ,EAAW,CACxE,IAAME,EAAYhB,EAAcQ,OAAOE,EAAO,GACxCO,EAAYjB,EAAcQ,OAAOK,EAAO,GAE9C,MAAO,gEAAgEG,EAAS,QAAQC,EAAS,KAIzG,OAAOlF,EAAAlO,UAAMgS,gBAAe9R,KAAAyD,KAAC4M,EAAQJ,IAKzCpQ,OAAA6B,eAAYuQ,EAAAnS,UAAA,gBAAZ,WACI,YAAqB+M,IAAbpJ,KAAKyO,UAAoCrF,IAAbpJ,KAAK0O,UAAqCtF,IAAdpJ,KAAK2O,sCAG1DH,EAAAQ,OAAf,SAAsBzQ,EAAemR,GACjC,YADiC,IAAAA,MAAA,GAC1BnR,EAAMoR,oBACTvG,GAAawG,sBAAuBT,KAAKC,OAAOD,KAAKU,MAAM7P,KAAKuP,YAAYhR,EAAOmR,QAG5ElB,EAAAe,YAAf,SAA2BhR,EAAemR,GACtC,YADsC,IAAAA,MAAA,GAC/BP,KAAKT,IAAIS,KAAKW,IAAIvR,GAASmR,EAAe,GAAKnH,OAAOwG,SAErEP,EA5EA,CAAmCT,gTCInCgC,EAAA,SAAAxF,GAcI,SAAAyF,EAAmC1O,EAAyB4H,EAA0BkE,GAAtF,IAAA1C,EACIH,EAAAhO,KAAAyD,KAAMoN,IAAapN,YADY0K,EAAApJ,OAbnBoJ,EAAArB,YAAc,IAAImF,EAC9B,cAAe,0EAA0E,GAAM,GACnF9D,EAAApB,SAAW,IAAIkF,EAC3B,WAAY,6FACZ,GAAM,GACM9D,EAAAhC,QAAU,IAAI8F,EAC1B,UAAW,8DAA8D,GAAM,GACnE9D,EAAA+C,OAAS,IAAIe,EACb9D,EAAAgD,WAAa,IAAIY,EACjB5D,EAAAiD,SAAW,IAAIa,EAM3B9D,EAAKjB,SAAW,IAAI+E,EAChB,WAAY,6BAA6B,GAAM,EAAO,OAAGpF,EAAW+F,KAAKc,IAAI,IAAK/G,MAY9F,OA7B2CgH,EAAAF,EAAAzF,GAsB7ByF,EAAA3T,UAAAyR,kBAAV,SAA4BtB,EAAuBxF,GAC/C,MAAuB,YAAjBA,GAAiD,aAAjBA,IAAmCwF,EAAM9D,WAAa8D,EAAM/C,SAI3Fc,EAAAlO,UAAMyR,kBAAiBvR,KAAAyD,KAACwM,EAAOxF,GAH3B,8BAA8BhH,KAAK0I,QAAQsF,MAAK,WAAWhO,KAAKyJ,SAASuE,MAAK,KAKjGgC,EA7BA,CAA2CjD,uxCCN3CoD,EAAA,WAMI,SAAAC,EAAoCC,EAA+BrG,GAA/BhK,KAAAqQ,OAA+BrQ,KAAAgK,SA6BvE,OA1BiBoG,EAAA/T,UAAA8L,QAAb,kHACQnI,KAAKqQ,KAAKpU,OAAS,GACF,EAAM2J,EAAWC,MAC9B,0CAA0C7F,KAAKqQ,KAAI,0CAFvD,YAKA,OAJMhI,EAAWlC,EAAAI,OAEX2D,EAAQkG,EAAcnG,SAAS5B,IAErC,EAAOrI,KAAKgK,OAAS,EAAIE,EAAQA,UAEjC,SAAO,SAMAkG,EAAAnG,SAAf,SAAwB5B,GACpB,GAAI1B,EAAMQ,kBAAkBkB,EAAU,YAClC1B,EAAMS,iBAAiBiB,EAASiI,QAAS,SAAWjI,EAASiI,QAAQ7U,KAAKQ,QAAU,EAAG,CACvF,IAAMsU,EAAQlI,EAASiI,QAAQ7U,KAAK,GAEpC,GAAIkL,EAAME,QAAQ0J,IAAWA,EAAMtU,QAAU,GAA2B,kBAAbsU,EAAM,GAC7D,OAAOA,EAAM,GAIrB,OAAOhI,OAAOC,KAEtB4H,EAnCA,ghCnBJA,SAAYvQ,GACRA,IAAA,kBACAA,IAAA,4BACAA,IAAA,4BACAA,IAAA,qCACAA,IAAA,wCALJ,CAAYA,WASZ,IAAA2Q,EAAA,oBAAAA,KA+CA,OA7CkBA,EAAAC,SAAd,SAAuBC,GACnB,OAAQA,GACJ,KAAK7Q,EAAW8Q,KACZ,MAAO,IACX,KAAK9Q,EAAW+Q,SACZ,MAAO,KACX,KAAK/Q,EAAWgR,MACZ,MAAO,KACX,KAAKhR,EAAWiR,UACZ,MAAO,OACX,KAAKjR,EAAWkR,UACZ,MAAO,KACX,QACI,MAAM,IAAI1D,MAAM,yBAKdmD,EAAAQ,aAAd,SAA2BC,GACvB,IAAMnU,EAASkD,KAAKkR,QAAQ/S,IAAI8S,GAEhC,IAAKnU,EACD,MAAM,IAAIuQ,MAAM,8BAGpB,OAAOvQ,GAIG0T,EAAAW,cAAd,WACI,OAAOnR,KAAKkR,QAAQE,QAOPZ,EAAAa,cAAjB,wFACqCxR,2DACzB0I,OAAO4B,WAAWmH,IACZ5D,EAAanF,OAAO4B,WAAWmH,IACrC,GAAQd,EAAYC,SAAS/C,GAAaA,MAF1C,mBAEAvN,EAAAoG,8DANYiK,EAAAU,QAAU,IAAIxK,IAAwB8J,EAAYa,iBAU9Eb,EA/CA,skDoBOMe,GAAY,iBASlBC,GAAA,SAAAjH,GA6CI,SAAAkH,EAAsBzI,EAAgBC,EAA2CyI,GAAjF,IAAAhH,EACIH,EAAAhO,KAAAyD,KAAMgJ,EAAQC,EAAY,IAAEjJ,YAxBhB0K,EAAAL,UAAYoH,EAAmBpH,UAyB3CK,EAAK+C,OAASxE,EAAWwE,OACzB/C,EAAKgD,WAAazE,EAAWyE,WAC7BhD,EAAKiD,SAAW1E,EAAW0E,SAC3BjD,EAAKjB,cAAmCL,IAAxBH,EAAWQ,SAAyBR,EAAWQ,SAAWlB,OAAOC,IACjFkC,EAAKiH,iBAAmBjH,EAAK+C,OAAS/C,EAAKgD,WAAahD,EAAKiD,SAC7DjD,EAAKC,eAAe+G,GAAY9G,MAAM,SAACC,GAAW,OAAAC,QAAQrE,MAAMoE,OAexE,OAnEiD+G,EAAAH,EAAAlH,GAQ7CnO,OAAA6B,eAAWwT,EAAApV,UAAA,YAAX,WACI,OAAOoV,EAAmBI,QAAQ7R,KAAKyN,OAAQzN,KAAK0N,6CAQxDtR,OAAA6B,eAAWwT,EAAApV,UAAA,iBAAX,WACI,OAAO2D,sCAOJyR,EAAApV,UAAA2O,OAAP,WACI,OACI1J,KAAMtB,KAAKsB,KACX+H,YAAarJ,KAAKqJ,YAClBC,SAAUtJ,KAAKsJ,SACfmE,OAAQzN,KAAKyN,OACbC,WAAY1N,KAAK0N,WACjBC,SAAU3N,KAAK2N,SACflE,SAAUzJ,KAAKyJ,WAwBRgI,EAAAI,QAAf,SAAuBpE,EAAgBiD,GACnC,OAAUjD,EAAOqE,QAAQ,GAAE,IAAItB,EAAYC,SAASC,IAK1Ce,EAAApV,UAAAsO,eAAd,SAA6B+G,qGAE0B,OADnDvL,EAAAnG,KACIkG,EAAAlG,KAAK2R,iBAAmB9R,EAAWiR,WAAY,EAAM,IAAIX,EAAcuB,GAAY,GAAOvJ,yBAD9FhC,EAAKgD,aACDjD,EAA+C/F,EAAAoG,iBA/DhCkL,EAAApH,UAAYkH,GAiEvCE,EAnEA,CAAiD1I,iTCtBjDgJ,GAAA,SAAAxH,GAUI,SAAAwH,EAAmB/I,EAAgBC,GAAnC,IAAAyB,EACIH,EAAAhO,KAAAyD,KAAMgJ,EAAQC,EAAY,mBAAiBjJ,YAR/B0K,EAAApJ,KAAOyQ,EAAUzQ,OAUrC,OAb+B0Q,GAAAD,EAAAxH,GACJwH,EAAAzQ,KAAO,OAYlCyQ,EAbA,CAA+BP,kTCM/BS,GAAA,SAAA1H,GAeI,SAAA2H,EAAmC5Q,EAA+B8L,GAAlE,IAAA1C,EACIH,EAAAhO,KAAAyD,KAAMoN,IAAapN,YADY0K,EAAApJ,OAdnBoJ,EAAArB,YAAc,IAAImF,EAC9B,cAAe,iDAAiD,GAAM,GAC1D9D,EAAApB,SAAW,IAAIkF,EAC3B,WAAY,oDAAoD,GAAM,GAC1D9D,EAAAhC,QAAU,IAAI8F,EACd9D,EAAA+C,OAAS,IAAIe,EACzB,SAAU,mDAAmD,GAAM,EAAM,UAAMpF,EAAW,MAC9EsB,EAAAgD,WAAa,IAAIY,EAC7B,OAAQ,oCAAoC,GAAM,EAAMxH,MAAMqL,KAAK3B,EAAYW,kBACnEzG,EAAAiD,SAAW,IAAIa,EAC3B,WAAY,gCAAgC,GAAM,EAAM,GAAK,EAAI,KAAM,MAC3D9D,EAAAjB,SAAW,IAAI+E,EAAc,WAAY,wBAAwB,GAAM,EAAM,KAMjG,OAlBiD4D,GAAAF,EAAA3H,GAkBjD2H,EAlBA,CAAiDnF,iTCNjDsF,GAAA,SAAA9H,GAUI,SAAA8H,EAAmBrJ,EAAgBC,GAAnC,IAAAyB,EACIH,EAAAhO,KAAAyD,KAAMgJ,EAAQC,EAAY,qBAAmBjJ,YARjC0K,EAAApJ,KAAO+Q,EAAY/Q,OAUvC,OAbiCgR,GAAAD,EAAA9H,GACN8H,EAAA/Q,KAAO,SAYlC+Q,EAbA,CAAiCb,kTCAjCe,GAAA,SAAAhI,GAOI,SAAAgI,EAAmBC,GAAnB,IAAA9H,EACIH,EAAAhO,KAAAyD,OAAOA,YACP0K,EAAK5H,QAAW0P,KAexB,OAxBuCC,GAAAF,EAAAhI,GAY5BgI,EAAAlW,UAAAqW,YAAP,SAAmBF,GACf,IAAM1G,EAAQ9L,KAAK8C,OAAO6P,QAAQH,GAE9B1G,GAAS,GACT9L,KAAK8C,OAAO3F,OAAO2O,EAAO,IAK3ByG,EAAAlW,UAAA2O,OAAP,WACI,OAAOhL,KAAK8C,OAAO8P,IAAI,SAACJ,GAAU,OAAAA,EAAMxH,YAEhDuH,EAxBA,CAAuC5M,o8CCYvCkN,GAAA,WA4FI,SAAAC,EAAoCC,GAAA/S,KAAA+S,YAH7B/S,KAAAwJ,aAAmC,EAwHzBxJ,KAAAgT,QAAU,IAAIlM,MAEvB9G,KAAAiT,qBAAuBH,EAAMI,YAAY9B,OAAO+B,OAAO5U,MAOnE,OA3MkBuU,EAAAzM,MAAd,SAAoB+M,EAAcL,eAC1BM,EAEJ,IACIA,EAAWjN,KAAKC,MAAM+M,GACxB,MAAOE,GACL,OAAQA,EAAY1F,QAGxB,IAAM2F,EAAuB,mBAE7B,IAAK5M,EAAMO,kBAAkBmM,EAAUE,GACnC,OAAO5M,EAAMU,wBAAwBkM,EAAsBF,EAAU,IAGzE,IAAM5S,EAAQ,IAAIqS,EAAMC,GAClBhP,EAAmBsP,EAAStP,iBAElC,GAAItD,EAAMuB,WAAWwR,UAAU,SAACC,GAAa,OAAAA,IAAa1P,IAAoB,EAC1E,OAAO4C,EAAMkB,gBAAgB0L,EAAsBxP,GAGvD,IAAM2P,EAAc,UAEpB,IAAK/M,EAAMS,iBAAiBiM,EAAUK,GAClC,OAAO/M,EAAMU,wBAAwBqM,EAAaL,MAGtD5S,EAAMsD,iBAAmBA,MAEzB,IAAwB,IAAA5D,EAAAwT,GAAAN,EAASL,SAAO1M,EAAAnG,EAAAgT,QAAA7M,EAAAsN,KAAAtN,EAAAnG,EAAAgT,OAAE,CAArC,IAAMU,EAASvN,EAAA/H,MAChB,IAAKoI,EAAME,QAAQgN,GACf,OAAOlN,EAAMc,gBAAgBoM,UAGjC,IAAuB,IAAAC,EAAAH,GAAAE,GAASE,EAAAD,EAAAX,QAAAY,EAAAH,KAAAG,EAAAD,EAAAX,OAAE,CAA7B,IAAMa,EAAQD,EAAAxV,MACT0V,EAASnB,EAAMoB,WAAWzT,EAAOuT,GAEvC,KAAMC,aAAkBtO,GACpB,OAAOsO,EAGXxT,EAAMuS,QAAQ7W,KAAK8X,wMAI3B,OAAOxT,GAIXrE,OAAA6B,eAAW6U,EAAAzW,UAAA,kBAAX,WACI,OAAOyK,MAAMqL,KAAKW,EAAMI,YAAY9B,yCAIxChV,OAAA6B,eAAW6U,EAAAzW,UAAA,wBAAX,WACI,OAAO2D,KAAKiT,0BAIhB,SAA4BQ,GACxBzT,KAAKiT,qBAAuBQ,EAC5BzT,KAAKmU,oBAAoBvJ,MAAM,SAACC,GAAW,OAAAC,QAAQrE,MAAMoE,sCAI7DzO,OAAA6B,eAAW6U,EAAAzW,UAAA,cAAX,WACI,OAAO2D,KAAKgT,QAAQoB,OAAO,SAACtX,EAAQmX,GAAW,OAAAnX,EAAOuX,OAAOJ,EAAOnR,SAAS,IAAIgE,wCAc9EgM,EAAAzW,UAAAiY,aAAP,WACI,OAAOlO,KAAKmO,UAAUvU,UAAMoJ,EAAW,IAIpC0J,EAAAzW,UAAAmY,UAAP,SAAiBP,GACbjU,KAAKgT,QAAQ7W,KAAK8X,GAClBjU,KAAK+S,aAIFD,EAAAzW,UAAAqW,YAAP,SAAmBF,GACf,IAAM1G,EAAQ9L,KAAKgT,QAAQQ,UAAU,SAACiB,GAAM,OAAAA,EAAE3R,OAAO6P,QAAQH,IAAU,IAEvE,GAAI1G,GAAS,EAAG,CACZ,IAAMmI,EAASjU,KAAKgT,QAAQlH,GAC5BmI,EAAOvB,YAAYF,GAEU,IAAzByB,EAAOnR,OAAO7G,QACd+D,KAAKgT,QAAQ7V,OAAO2O,EAAO,GAInC9L,KAAK+S,aAIFD,EAAAzW,UAAAqY,cAAP,SAAqBC,EAAiBC,GAClC,IAAM9I,EAAQ9L,KAAKgT,QAAQQ,UAAU,SAACiB,GAAM,OAAAA,EAAE3R,OAAO6P,QAAQgC,IAAa,IAEtE7I,GAAS,GAGT9L,KAAKgT,QAAQ7V,OAAO2O,EAAO,EAAG8I,GAGlC5U,KAAK+S,aAIFD,EAAAzW,UAAA2O,OAAP,WACI,OACIjH,iBAAkB/D,KAAK+D,iBACvBiP,QAAShT,KAAKgT,QAAQJ,IAAI,SAACqB,GAAW,OAAAA,EAAOjJ,aAuCtC8H,EAAA1F,aAAf,SACIpE,EAAgBC,EAAiCqE,GACjD,OAAO,IAAIiF,GAAkB,IAAIjF,EAAKtE,EAAQC,KAGnC6J,EAAAoB,WAAf,SAA0BzT,EAAeuT,GACrC,IAAMa,EAAW,OAEjB,IAAKlO,EAAMO,kBAAkB8M,EAAUa,GACnC,OAAOlO,EAAMU,wBAAwBwN,EAAUb,EAAU,IAG7D,IAAM1O,EAAYtF,KAAK8U,WAAWC,KAAK,SAAC3P,GAAS,OAAAA,EAAK9D,OAAS0S,EAAS1S,OAExE,IAAKgE,EACD,OAAOqB,EAAMkB,gBAAgBgN,EAAUb,EAAS1S,MAGpD,IAAM0T,EAAmB1P,EAAUiI,YAAYyG,GAE/C,OAAKhU,KAAKiV,cAAcD,EAAkBhB,GAInC1O,EAAU8H,aAAa3M,EAAOuT,GAH1BgB,GAMAlC,EAAAmC,cAAf,SAA6BD,EAAiCE,GAC1D,OAA4B,IAArBF,GAOGlC,EAAAzW,UAAA8X,kBAAd,6GAGwB,OAFpBnU,KAAKwJ,kBAAeJ,EACd+L,EAAUrC,EAAMI,YAAY/U,IAAI6B,KAAK+D,kBAC3CoC,EAAAnG,MAAoB,EAAMmV,EAAQhN,yBAAlChC,EAAKqD,aAAetD,EAAAK,iBAtNDuM,EAAAgC,YACnB,IAAI/E,EAAsB9E,EAAU3J,KAAM,EAAG,SAAC3D,EAAGuB,GAAM,OAAA4T,EAAM1F,aAAazP,EAAGuB,EAAG+L,KAChF,IAAIgH,GAA4BI,GAAY/Q,KAAM,SAAC3D,EAAGuB,GAAM,OAAA4T,EAAM1F,aAAazP,EAAGuB,EAAGmT,MACrF,IAAIJ,GAA4BF,GAAUzQ,KAAM,SAAC3D,EAAGuB,GAAM,OAAA4T,EAAM1F,aAAazP,EAAGuB,EAAG6S,OA4I/De,EAAAI,YAAc,IAAIxM,MACrC,MAAO,IAAIyJ,EAAc,IAAI,KAC7B,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,qBAAqB,KAC9C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,oBAAoB,KAC7C,MAAO,IAAIA,EAAc,kBAAkB,KAC3C,MAAO,IAAItG,EAAqB,WAAW,MA2CpDiJ,EA1NA,GCVAsC,GAAA,WAUI,SAAAC,EAAmB7C,GACXA,GACAxS,KAAKqJ,YAAcmJ,EAAMnJ,YACzBrJ,KAAKsJ,SAAWkJ,EAAMlJ,SAElBkJ,EAAMnI,YAAcmH,GAAmBnH,WACvCrK,KAAK0I,QAAU,GACf1I,KAAKyN,OAAS+E,EAAM/E,OAAOgD,WAC3BzQ,KAAK0N,WAAa8C,EAAYC,SAAS+B,EAAM9E,YAC7C1N,KAAK2N,SAAW6E,EAAM7E,SAAS8C,WAC/BzQ,KAAKyJ,SAAW4L,EAAgBC,YAAY9C,KAE5CxS,KAAK0I,QAAU8J,EAAM9J,QAAU8J,EAAM9J,QAAU,GAC/C1I,KAAKyN,OAAS,GACdzN,KAAK0N,WAAa,GAClB1N,KAAK2N,SAAW,GAChB3N,KAAKyJ,SAAWzJ,KAAK0I,QAAU,GAAK2M,EAAgBC,YAAY9C,MAGpExS,KAAKqJ,YAAc,GACnBrJ,KAAKsJ,SAAW,GAChBtJ,KAAK0I,QAAU,GACf1I,KAAKyN,OAAS,GACdzN,KAAK0N,WAAa,GAClB1N,KAAK2N,SAAW,GAChB3N,KAAKyJ,SAAY,IAS7B,OAHmB4L,EAAAC,YAAf,SAA2B9C,GACvB,YAA0BpJ,IAAnBoJ,EAAM/I,SAAyB+I,EAAM/I,SAASgH,WAAa,IAE1E4E,EA5CA,GCCAE,GAAA,WA8BI,SAAAC,EAAoC/Z,GAAAuE,KAAAvE,OAExC,OA/BIW,OAAA6B,eAAWuX,EAAAnZ,UAAA,mBAAX,WACI,OAAO2D,KAAKvE,KAAK4N,6CAGrBjN,OAAA6B,eAAWuX,EAAAnZ,UAAA,gBAAX,WACI,OAAO2D,KAAKvE,KAAK6N,0CAGrBlN,OAAA6B,eAAWuX,EAAAnZ,UAAA,eAAX,WACI,OAAO2D,KAAKvE,KAAKiN,QAAU1I,KAAKvE,KAAKiN,aAAUU,mCAGnDhN,OAAA6B,eAAWuX,EAAAnZ,UAAA,cAAX,WACI,OAAOkM,OAAO4B,WAAWnK,KAAKvE,KAAKgS,yCAGvCrR,OAAA6B,eAAWuX,EAAAnZ,UAAA,kBAAX,WACI,OAAOmU,EAAYQ,aAAahR,KAAKvE,KAAKiS,6CAG9CtR,OAAA6B,eAAWuX,EAAAnZ,UAAA,gBAAX,WACI,OAAOkM,OAAO4B,WAAWnK,KAAKvE,KAAKkS,2CAGvCvR,OAAA6B,eAAWuX,EAAAnZ,UAAA,gBAAX,WACI,OAAO2D,KAAKvE,KAAKgO,SAAWlB,OAAO4B,WAAWnK,KAAKvE,KAAKgO,eAAYL,mCAM5EoM,EAhCA,4uBCHAC,GAAA,SAAAlL,GAAA,SAAAmL,mDA+BA,OA/BsCC,GAAAD,EAAAnL,GAUlCnO,OAAA6B,eAAWyX,EAAArZ,UAAA,oBAAX,WACI,QAA4B+M,IAAvBpJ,KAAKzB,MACN,MAAM,IAAI8O,MAAM,iBAGpB,OAAQrN,KAAKzB,WAGjB,SAAwBA,GAEpByB,KAAK4V,MAAM,QAASrX,oCAMdmX,EAAArZ,UAAAwZ,WAAV,SAAqB1U,GAGjB,OAAOnB,KAAK8V,MAAM3U,IAzBtB4U,IAHC3Z,OAAA4Z,EAAA,KAAA5Z,yDA8BLsZ,EA/BA,CAAsCM,EAAA,oTCKtCC,GAAA,SAAA1L,GAWI,SAAA2L,IAAA,IAAAxL,EACIH,EAAAhO,KAAAyD,OAAOA,YAXK0K,EAAApJ,KAAO,GACPoJ,EAAArB,YAAc,IAAImF,EAClB9D,EAAApB,SAAW,IAAIkF,EACf9D,EAAAhC,QAAU,IAAI8F,EACd9D,EAAA+C,OAAS,IAAIe,EACb9D,EAAAgD,WAAa,IAAIY,EACjB5D,EAAAiD,SAAW,IAAIa,EACf9D,EAAAjB,SAAW,IAAI+E,IAMnC,OAdsC2H,GAAAD,EAAA3L,GActC2L,EAdA,CAAsCnJ,GCrBtCqJ,GAAA,WAA0B,IAAArW,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,UAAAI,EAAA,UAAoCE,OAAOgW,KAAA,GAAAC,KAAAvW,EAAAoF,SAA4BhF,EAAA,YAAiBE,OAAO2N,MAAAjO,EAAAiO,MAAAC,KAAAlO,EAAAkO,KAAAsI,SAAAxW,EAAAoO,WAAApM,MAAAhC,EAAAgC,MAAAyU,OAAAzW,EAAA4M,WAAqGlM,OAAQlC,MAAAwB,EAAA,cAAAW,SAAA,SAAAC,GAAmDZ,EAAA0W,cAAA9V,GAAsBE,WAAA,oBAA6B,GAAAd,EAAA2W,MAC3YC,+uBCoBAC,GAAA,SAAArM,GAAA,SAAAsM,yDA+DA,OA/DwEC,GAAAD,EAAAtM,GASpEnO,OAAA6B,eAAW4Y,EAAAxa,UAAA,iBAAX,WACI,OAAO2D,KAAK+W,mBAAmB7I,2CAGnC9R,OAAA6B,eAAW4Y,EAAAxa,UAAA,kBAAX,WACI,OAAO2D,KAAK+W,mBAAmB5I,4CAGnC/R,OAAA6B,eAAW4Y,EAAAxa,UAAA,aAAX,WACI,OAAO2D,KAAK+W,mBAAmB/I,uCAGnC5R,OAAA6B,eAAW4Y,EAAAxa,UAAA,YAAX,WACI,OAAO2D,KAAK+W,mBAAmB9I,sCAGnC7R,OAAA6B,eAAW4Y,EAAAxa,UAAA,qBAAX,WACI,OAAOiQ,EAAaC,YAAYvM,KAAK6C,cACjC7C,KAAK6C,aAAa7C,KAAKgX,iBAAmBhX,KAAK6C,kBAGvD,SAAyBtE,GACjB+N,EAAaC,YAAYvM,KAAK6C,cAC9B7C,KAAK6C,aAAa7C,KAAKgX,iBAAmBzY,EAE1CyB,KAAK6C,aAAetE,mCAIrBsY,EAAAxa,UAAAsQ,SAAP,WACI,OAAO3M,KAAKiX,YAAYtK,UAAS,EAAO3M,KAAK6C,aAAc7C,KAAKf,WAOpE7C,OAAA6B,eAAc4Y,EAAAxa,UAAA,mBAAd,WACI,QAAkB+M,IAAdpJ,KAAKoF,KACL,MAAM,IAAIiI,MAAM,gBAGpB,OAAOrN,KAAKoF,sCAKhBhJ,OAAA6B,eAAY4Y,EAAAxa,UAAA,uBAAZ,WACI,QAA6B+M,IAAzBpJ,KAAKf,SACL,MAAM,IAAIoO,MAAM,oBAGpB,OAAOrN,KAAKf,0CA3DhBiY,IADC9a,OAAA4Z,EAAA,KAAA5Z,oBACsB,2CAATqQ,OAAStG,GAAA/J,oCAKvB8a,IAHC9a,OAAA4Z,EAAA,KAAA5Z,4DA2DLya,EA/DA,CAAwEpB,6uBCDxE0B,GAAA,SAAA5M,GAAA,SAAA6M,mDAqBA,OArBoCC,GAAAD,EAAA7M,GAIhCnO,OAAA6B,eAAWmZ,EAAA/a,UAAA,aAAX,WACI,OAAO2D,KAAK+W,mBAAmBhV,uCAO5BqV,EAAA/a,UAAAsQ,SAAP,WACI,OAAOpC,EAAAlO,UAAMsQ,SAAQpQ,KAAAyD,OAKzB5D,OAAA6B,eAAcmZ,EAAA/a,UAAA,0BAAd,WACI,OAAO2D,KAAKiX,YAAY9Y,IAAImQ,EAAiBtO,KAAKf,2CAjBtDqY,IADClb,OAAA4Z,EAAA,KAAA5Z,0DADgBgb,EAAME,IAH1BtB,EAAA,MAGoBoB,GAqBrBA,EArBA,CAAoCR,UCpB6KW,GAAA,4BCQjNC,GAAApb,OAAAqb,GAAA,KAAArb,CACAmb,GACAnB,GACAO,IACA,EACA,KACA,WACA,MAIAe,GAAAF,WCnBAG,GAAA,WAA0B,IAAA5X,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,UAAAI,EAAA,UAAoCE,OAAOgW,KAAA,GAAAC,IAAA,MAAoBnW,EAAA,gBAAqBE,OAAO2N,MAAAjO,EAAAiO,MAAAC,KAAAlO,EAAAkO,KAAAsI,SAAAxW,EAAAoO,WAAA7M,KAAAvB,EAAAuB,KAAAmN,IAAA1O,EAAA0O,IAAAC,IAAA3O,EAAA2O,IAAAC,KAAA5O,EAAA4O,KAAA6H,OAAAzW,EAAA4M,WAA+IlM,OAAQlC,MAAAwB,EAAA,cAAAW,SAAA,SAAAC,GAAmDZ,EAAA0W,cAAA9V,GAAsBE,WAAA,oBAA6B,GAAAd,EAAA2W,MACjbkB,6nBCmBAC,GAAA,SAAAtN,GAAA,SAAAuN,mDA8BA,OA9BuCC,GAAAD,EAAAvN,GACnCnO,OAAA6B,eAAW6Z,EAAAzb,UAAA,YAAX,WACI,OAAO2D,KAAK+W,mBAAmBzV,sCAGnClF,OAAA6B,eAAW6Z,EAAAzb,UAAA,WAAX,WACI,OAAO2D,KAAK+W,mBAAmBtI,qCAGnCrS,OAAA6B,eAAW6Z,EAAAzb,UAAA,WAAX,WACI,OAAO2D,KAAK+W,mBAAmBrI,qCAGnCtS,OAAA6B,eAAW6Z,EAAAzb,UAAA,YAAX,WACI,OAAO2D,KAAK+W,mBAAmBpI,sCAO5BmJ,EAAAzb,UAAAsQ,SAAP,WACI,OAAOpC,EAAAlO,UAAMsQ,SAAQpQ,KAAAyD,OAKzB5D,OAAA6B,eAAc6Z,EAAAzb,UAAA,0BAAd,WACI,OAAO2D,KAAKiX,YAAY9Y,IAAIqQ,EAAexO,KAAKf,2CA5BnC6Y,EAASE,IAH7BhC,EAAA,MAGoB8B,GA8BrBA,EA9BA,CAAuClB,UCpB6KqB,GAAA,GCQpNC,cAAA9b,OAAAqb,GAAA,KAAArb,CACA6b,GACAN,GACAC,IACA,EACA,KACA,WACA,OAIAO,GAAAD,koBCSAE,GAAA,SAAA7N,GAHA,SAAA8N,IAAA,IAAA3N,EAAA,OAAAH,KAAA3N,MAAAoD,KAAAsY,YAAAtY,YAKW0K,EAAA7F,QAAS,EAsBT6F,EAAApF,UAA4B,IAAI2Q,GAGhCvL,EAAAjP,KAAO,IAAI2Z,GA4BV1K,EAAA6N,YAA4B,OAqCxC,OA5FyCC,GAAAH,EAAA9N,GAKrCnO,OAAA6B,eAAWoa,EAAAhc,UAAA,aAAX,WACI,OAAO2D,KAAKuY,YAAc,aAAe,6CAI7Cnc,OAAA6B,eAAWoa,EAAAhc,UAAA,qBAAX,WACI,OAAO,IAAIiS,EAAgB,OAAQ,IAAI,GAAM,EAAMuE,GAAMiC,WAAWlC,IAAI,SAACxN,GAAS,OAAAA,EAAK9D,yCAI3FlF,OAAA6B,eAAWoa,EAAAhc,UAAA,YAAX,WACI,OAAO2D,KAAKsF,UAAUhE,UAG1B,SAAgB/C,GACZyB,KAAKsF,UAAYuN,GAAMiC,WAAWC,KAAK,SAAC3P,GAAS,OAAAA,EAAK9D,OAAS/C,qCAS5D8Z,EAAAhc,UAAAmJ,eAAP,SAAsBiT,GAClBzY,KAAK0Y,SAGFL,EAAAhc,UAAAqF,cAAP,SAAqB+W,GACbzY,KAAK2Y,YACL3Y,KAAK4Y,OACL5Y,KAAK6Y,UAINR,EAAAhc,UAAAoJ,gBAAP,SAAuBgT,GACnBzY,KAAK6Y,SAIFR,EAAAhc,UAAA4H,KAAP,SAAYuO,GACRxS,KAAKuY,YAAc/F,EACnBxS,KAAKsF,UAAYuN,GAAMiC,WAAWC,KAAK,SAAC3P,GAAS,OAAAA,EAAK9D,OAASkR,EAAMlR,OACrEtB,KAAKvE,KAAO,IAAI2Z,GAAgB5C,EAAMsG,WACtC9Y,KAAK6E,QAAS,GAQVwT,EAAAhc,UAAAqc,MAAR,WAGK1Y,KAAK6V,WAAW,QAAgB6C,QACjC1Y,KAAKvE,KAAO,IAAI2Z,GAChBpV,KAAKsF,UAAY,IAAI2Q,IAGjBoC,EAAAhc,UAAAsc,QAAR,WACI3Y,KAAKsF,UAAU4H,kBAAmB,EAElC,IAEI,OAAQlN,KAAK6V,WAAW,QAAgBlJ,mBAExC3M,KAAKsF,UAAU4H,kBAAmB,IAIlCmL,EAAAhc,UAAAuc,KAAR,WACI,IAAMhE,EAAY5U,KAAKsF,UAAU8H,aAAapN,KAAK6C,aAAc,IAAI0S,GAAgBvV,KAAKvE,OAEtFuE,KAAKuY,YACLvY,KAAK6C,aAAa6R,cAAc1U,KAAKuY,YAAa3D,GAElD5U,KAAK6C,aAAa2R,UAAUI,IAI5ByD,EAAAhc,UAAAwc,MAAR,WACI7Y,KAAK0Y,QAEL1Y,KAAKuY,YAAc,KACnBvY,KAAK6E,QAAS,GA1FDwT,EAAWU,IAH/B3c,OAAA4Z,EAAA,KAAA5Z,EAAY4c,YAAc5B,OAAMM,GAAEI,UAASK,OAGvBE,GA4FrBA,EA5FA,CAAyC5C,UC5B6KwD,GAAA,GCQtNC,cAAA9c,OAAAqb,GAAA,KAAArb,CACA6c,GACAvU,EACAgB,GACA,EACA,KACA,WACA,OAIAyT,GAAAD,WCnBAE,GAAA,WAA0B,IAAArZ,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAAA,EAAA,MAAAJ,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAA8C,aAAAvB,SAAAnB,EAAA,MAA0E2B,YAAA,mBAA6B/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAA8C,aAAAwG,gBAAAlJ,EAAA,MAA0D2B,YAAA,qBAAAzB,OAAwC2E,MAAAjF,EAAA8C,aAAA6I,gBAAuC3L,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAA8C,aAAAyG,aAAAnJ,EAAA,MAAuD2B,YAAA,uBAAiC/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAA8C,aAAA6N,SAAAvQ,EAAA,MAAmD2B,YAAA,0CAAoD/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAsZ,oBAAAlZ,EAAA,MAAiD2B,YAAA,yCAAmD/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAuZ,qBAAAnZ,EAAA,MAAkD2B,YAAA,0CAAoD/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAwZ,qBAAApZ,EAAA,MAAkD2B,YAAA,yCAAmD/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAyZ,sBAAArZ,EAAA,MAAmD2B,YAAA,0CAAoD/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAA0Z,oBAAAtZ,EAAA,MAAiD2B,YAAA,yCAAmD/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAA2Z,qBAAAvZ,EAAA,MAAkD2B,YAAA,6BAAuC/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAwE,sBAAApE,EAAA,MAAmD2B,YAAA,4BAAsC/B,EAAAmB,GAAAnB,EAAA+D,GAAA/D,EAAAyE,uBAAArE,EAAA,MAAoD2B,YAAA,+BAAyC3B,EAAA,SAAc2B,YAAA,OAAAzB,OAA0BsZ,KAAA,IAAU5Y,IAAKC,MAAAjB,EAAA6Z,iBAA2BzZ,EAAA,UAAeE,OAAOyE,MAAA,UAAgB/E,EAAAmB,GAAA,cAAAf,EAAA,SAAmC2B,YAAA,OAAAzB,OAA0BsZ,KAAA,IAAU5Y,IAAKC,MAAAjB,EAAA8Z,mBAA6B1Z,EAAA,UAAeE,OAAOyE,MAAA,UAAgB/E,EAAAmB,GAAA,+BACxhD4Y,MCWAC,GAAA,oBAAAA,KAqCA,OAnCkBA,EAAAC,QAAd,SAAsBC,EAAyBC,GAC3C,QAAa9Q,IAAR6Q,GAAsB1R,OAAOM,MAAMoR,GACpC,MAAO,GAEP,IAAME,EAAYna,KAAKgP,OAAOiL,EAAKC,GAEnC,OAAOC,EAAUC,UAAU,EAAGpa,KAAKqa,wBAAwBF,KAKrDJ,EAAAO,SAAd,SAAuBL,EAAyBC,GAC5C,QAAY9Q,IAAR6Q,EACA,MAAO,cACJ,GAAI1R,OAAOM,MAAMoR,GACpB,MAAO,QAEP,IAAME,EAAYna,KAAKgP,OAAOiL,EAAKC,GAEnC,OAAOC,EAAUC,UAAUpa,KAAKqa,wBAAwBF,KAMjDJ,EAAA/K,OAAf,SAAsBiL,EAAaC,GAC/B,OAAOD,EAAItK,oBACPvG,GAAawG,sBAAuBsK,EAAUK,sBAAuBL,EAAUM,aAAa,KAGrFT,EAAAM,wBAAf,SAAuCF,GACnC,IAAMM,EAAuBN,EAAUO,YAAY,KAEnD,OAAOD,EAAuB,EAAIN,EAAUle,OAASwe,GAE7DV,EArCA,0nBCaAY,GAAA,SAAApQ,GAAA,SAAAqQ,mDAwDA,OAxD0CC,GAAAD,EAAArQ,GACtCnO,OAAA6B,eAAW2c,EAAAve,UAAA,uBAAX,WACI,YAAsC+M,IAA/BpJ,KAAK6C,aAAa8K,SAAyB,GAAKwB,KAAK2L,MAAM9a,KAAK6C,aAAa8K,2CAGxFvR,OAAA6B,eAAW2c,EAAAve,UAAA,wBAAX,WACI,QAAmC+M,IAA/BpJ,KAAK6C,aAAa8K,SAClB,MAAO,GAEP,IAAI2M,GAAYta,KAAK6C,aAAa8K,SAAW,GAAGmE,QAAQ,GAAGiJ,OAAO,GAElE,MAAOT,EAASU,SAAS,KACrBV,EAAWA,EAASS,OAAO,EAAGT,EAASre,OAAS,GAGpD,OAAOqe,mCAIfle,OAAA6B,eAAW2c,EAAAve,UAAA,wBAAX,WACI,OAAO0d,GAAOC,QAAQha,KAAK6C,aAAa6G,UAAW,oCAGvDtN,OAAA6B,eAAW2c,EAAAve,UAAA,yBAAX,WACI,OAAO0d,GAAOO,SAASta,KAAK6C,aAAa6G,UAAW,oCAGxDtN,OAAA6B,eAAW2c,EAAAve,UAAA,uBAAX,WACI,OAAO0d,GAAOC,QAAQha,KAAK6C,aAAa4G,SAAUzJ,KAAK6C,aAAaqG,mDAGxE9M,OAAA6B,eAAW2c,EAAAve,UAAA,wBAAX,WACI,OAAO0d,GAAOO,SAASta,KAAK6C,aAAa4G,SAAUzJ,KAAK6C,aAAaqG,mDAGzE9M,OAAA6B,eAAW2c,EAAAve,UAAA,yBAAX,WACI,OAAO0d,GAAOC,QAAQha,KAAK6C,aAAaoY,WAAY,oCAGxD7e,OAAA6B,eAAW2c,EAAAve,UAAA,0BAAX,WACI,OAAO0d,GAAOO,SAASta,KAAK6C,aAAaoY,WAAY,oCAIlDL,EAAAve,UAAAud,cAAP,SAAqBnB,GAEjBzY,KAAK4V,MAAM,OAAQ5V,KAAK6C,eAIrB+X,EAAAve,UAAAwd,gBAAP,SAAuBpB,GACfyC,QAAQ,mCAAmClb,KAAK6C,aAAavB,KAAI,KAAKtB,KAAK6C,aAAawG,cAExFrJ,KAAK4V,MAAM,SAAU5V,KAAK6C,eArDjB+X,EAAYO,IAPhCnF,EAAA,MAOoB4E,GAwDrBA,EAxDA,CAA0CnF,UCzB6K2F,GAAA,GCQvNC,cAAAjf,OAAAqb,GAAA,KAAArb,CACAgf,GACAhC,GACAU,IACA,EACA,KACA,WACA,OAIAwB,GAAAD,koBCcAE,GAAA,SAAAhR,GAHA,SAAAiR,IAAA,IAAA9Q,EAAA,OAAAH,KAAA3N,MAAAoD,KAAAsY,YAAAtY,YAKW0K,EAAA3H,YAA4B0Y,OAAQ,GAAIC,YAAY,EAAOC,aAAc,KAwDpF,OA1DuCC,GAAAJ,EAAAjR,GAKnCnO,OAAA6B,eAAWud,EAAAnf,UAAA,qBAAX,WACI,OAAO2D,KAAK+C,WAAW2Y,WAAa,OAAS,uCAGjDtf,OAAA6B,eAAWud,EAAAnf,UAAA,iBAAX,WACI,YAA4B+M,IAApBpJ,KAAKib,4CAGjB7e,OAAA6B,eAAWud,EAAAnf,UAAA,yBAAX,WACI,OAAO0d,GAAOC,QAAQha,KAAKib,WAAY,oCAG3C7e,OAAA6B,eAAWud,EAAAnf,UAAA,0BAAX,WACI,OAAO0d,GAAOO,SAASta,KAAKib,WAAY,oCAIrCO,EAAAnf,UAAAqH,UAAP,SAAiBzE,GACb,OAAOe,KAAK+C,WAAW0Y,SAAWxc,EAAW,SAAW,IAIrDuc,EAAAnf,UAAAsH,WAAP,SAAkB1E,GACVe,KAAK+C,WAAW0Y,SAAWxc,GACvBe,KAAK+C,WAAW2Y,aAChB1b,KAAK+C,WAAW0Y,OAAS,IAG7Bzb,KAAK+C,WAAW2Y,YAAc1b,KAAK+C,WAAW2Y,aAE9C1b,KAAK+C,WAAW0Y,OAASxc,EACzBe,KAAK+C,WAAW2Y,YAAa,IAI9BF,EAAAnf,UAAA6H,OAAP,SAAcsO,GACTxS,KAAK6V,WAAW,UAA0B5R,KAAKuO,IAG7CgJ,EAAAnf,UAAA+H,SAAP,SAAgBoO,GACZxS,KAAK6C,aAAa6P,YAAYF,IAKlCpW,OAAA6B,eAAYud,EAAAnf,UAAA,kBAAZ,WACI,OAAwC,IAApC2D,KAAK6C,aAAaC,OAAO7G,OAClB,EAGJ+D,KAAK6C,aAAaC,OAAOsR,OAC5B,SAAC/W,EAAGwe,GAAM,YAAMzS,IAAN/L,EAAkBwe,EAAEZ,WAAa5d,QAAsB+L,IAAjByS,EAAEZ,WAA2B,EAAIY,EAAEZ,kBAAa7R,oCAxDvFoS,EAASM,IAH7B1f,OAAA4Z,EAAA,KAAA5Z,EAAY4c,YAAc4B,aAAYU,GAAEjD,YAAWc,OAG/BqC,GA0DrBA,EA1DA,CAAuC/F,UCjC6KsG,GAAA,GCQpNC,cAAA5f,OAAAqb,GAAA,KAAArb,CACA2f,GACAnZ,EACA6B,GACA,EACA,KACA,WACA,OAIAwX,GAAAD,w5DCAAE,GAAA,SAAA3R,GAFA,SAAA4R,IAAA,IAAAzR,EAAA,OAAAH,KAAA3N,MAAAoD,KAAAsY,YAAAtY,YAGW0K,EAAA9J,iBAAkB,EAClB8J,EAAAjK,MAAQ2b,EAAI/V,MACf+V,EAAIC,uBAAwB,WAAM,OAAA3R,EAAK4R,kBAAkB,IAAIzJ,GAAM,WAAM,OAAAnI,EAAK4R,4BAqFtF,OAxFiCC,GAAAJ,EAAA5R,KAAZ4R,EAKVA,EAAA9f,UAAAwF,kBAAP,SAAyB4W,GACrBzY,KAAKY,iBAAmBZ,KAAKY,iBAG1Bub,EAAA9f,UAAA4E,cAAP,SAAqBwX,GACjBzY,KAAKY,iBAAkB,EAEtBZ,KAAK8V,MAAM0G,UAA+Bxb,SAGxCmb,EAAA9f,UAAAqF,cAAP,SAAqB+W,GACjBzY,KAAKY,iBAAkB,EACvB,IAAM6b,EAAO,IAAIC,MAAO1c,KAAKS,MAAM6T,iBAAoBhT,KAAO,qBAC9D8a,EAAIO,MAAM,gBAAiBF,IAGlBN,EAAA9f,UAAAoF,mBAAb,SAAgCgX,uHACtBmE,EAASnE,EAAMjW,OAAeoa,MAEf,IAAjBA,EAAM3gB,QAAN,MACAkK,EAAAnG,KAAaG,GAAA+F,EAAAkW,GAAI/V,OAAM,EAAM+V,EAAIS,KAAKD,EAAM,aAA5CzW,EAAK1F,MAAQN,EAAAvD,MAAAsJ,GAAUI,EAAAC,OAA0B,WAAM,OAAAmE,EAAK4R,kBAAkBtc,KAAKS,gCAItFT,KAAK8V,MAAM0G,UAA+Bje,MAAQ,aAOxC4d,EAAAQ,MAAf,SAAqBG,EAAkBL,GACnC,GAAIrd,OAAO2d,UAAUC,iBACjB5d,OAAO2d,UAAUE,WAAWR,EAAMK,OAC/B,CACH,IAAMI,EAAO9d,OAAO+d,SAASC,cAAc,KAM3CF,EAAK3a,KAAOnD,OAAOie,IAAIC,gBAAgBb,GACvCS,EAAKK,SAAWT,EAChBK,SAASK,KAAKC,YAAYP,GAC1BA,EAAKlc,QACLmc,SAASK,KAAKE,YAAYR,KAIbf,EAAAU,KAArB,SAA0BJ,sEACtB,SAAO,IAAIlR,QAAgB,SAACC,EAASmS,GACjC,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACC,GAAO,OAAAvS,EAAQoS,EAAO9gB,SACvC8gB,EAAOI,QAAU,SAACD,GAAO,OAAAJ,EAAO,yBAChCC,EAAOK,WAAWxB,WAIXN,EAAA9V,MAAf,SAAqB+M,EAAqBL,EAAuBmL,GAC7D,IAAMzd,EAAQ2S,EAAOP,GAAMxM,MAAM+M,EAAML,QAAa3J,EAEpD,OAAI3I,aAAiBoS,IACjB7S,KAAKme,mBAAmB1d,EAAM6T,gBAEvB7T,IACAA,GACP2d,MAAM3d,GAGHyd,IAGI/B,EAAAgC,mBAAf,SAAkC/K,GAC9BhU,OAAOif,aAAaC,QAAQte,KAAKue,gBAAiBnL,IAGvC+I,EAAAE,qBAAf,WACI,OAAOjd,OAAOif,aAAaG,QAAQxe,KAAKue,kBAGpCpC,EAAA9f,UAAAigB,eAAR,WACIF,EAAI+B,mBAAmBne,KAAKS,MAAM6T,iBApDd6H,EAAAoC,gBAAkB,SAlCzBpC,EAAGC,EAAAqC,IAFvBriB,OAAA4Z,EAAA,KAAA5Z,EAAY4c,YAAcwC,UAASS,OAEfE,GAwFrBA,EAxFA,CAAiCnG,EAAA,YCnBoK0I,GAAA,GCQrMC,cAAAviB,OAAAqb,GAAA,KAAArb,CACAsiB,GACA5e,EACA6C,GACA,EACA,KACA,KACA,OAIAic,GAAAD,WCEAE,EAAA,WAAIC,OAAOC,eAAgB,EAC3BF,EAAA,WAAIG,IAAIC,EAAApD,GAER,IAAIgD,EAAA,YACF/e,OAAQ,SAACof,GAAM,OAAAA,EAAEN,OAChBO,OAAO","file":"js/app.7ec1881d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/asset-manager/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([10,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=022fff8e&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetList.vue?vue&type=style&index=0&id=022fff8e&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/quandl.c53e90c0.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextField.vue?vue&type=style&index=0&id=65676c42&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextField.vue?vue&type=style&index=0&id=65676c42&scoped=true&lang=css\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=67ee829e&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetListRow.vue?vue&type=style&index=0&id=67ee829e&scoped=true&lang=css\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&id=60a48c9a&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=style&index=0&id=60a48c9a&scoped=true&lang=css\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetEditor.vue?vue&type=style&index=0&id=f7d4fe80&scoped=true&lang=css\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetEditor.vue?vue&type=style&index=0&id=f7d4fe80&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/blockchain.90495685.svg\";","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css\"","module.exports = __webpack_public_path__ + \"img/coinmarketcap.91ebf5d0.svg\";","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n/** Enumerates the weight units supported by the application. */\nexport enum WeightUnit {\n    Gram = 1,\n    Kilogram = 1000,\n    Grain = 0.06479891, // https://en.wikipedia.org/wiki/Grain_(unit)\n    TroyOunce = Grain * 480, // https://en.wikipedia.org/wiki/Ounce\n    AvdpOunce = Grain * 437.5, // https://en.wikipedia.org/wiki/Ounce\n}\n\n/** @internal */\nexport class WeightUnits {\n    /** @internal */\n    public static toString(unit: WeightUnit) {\n        switch (unit) {\n            case WeightUnit.Gram:\n                return \"g\";\n            case WeightUnit.Kilogram:\n                return \"kg\";\n            case WeightUnit.Grain:\n                return \"gr\";\n            case WeightUnit.TroyOunce:\n                return \"t oz\";\n            case WeightUnit.AvdpOunce:\n                return \"oz\";\n            default:\n                throw new Error(\"Unknown WeightUnit!\");\n        }\n    }\n\n    /** @internal */\n    public static toWeightUnit(str: string) {\n        const result = this.unitMap.get(str);\n\n        if (!result) {\n            throw new Error(\"Unknown WeightUnit string!\");\n        }\n\n        return result;\n    }\n\n    /** @internal */\n    public static getAllStrings() {\n        return this.unitMap.keys();\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly unitMap = new Map<string, WeightUnit>(WeightUnits.getMapEntries());\n\n    private static * getMapEntries(): IterableIterator<[string, WeightUnit]> {\n        for (const weightUnitProperty in WeightUnit) {\n            if (Number.parseFloat(weightUnitProperty)) {\n                const weightUnit = Number.parseFloat(weightUnitProperty) as WeightUnit;\n                yield [ WeightUnits.toString(weightUnit), weightUnit ];\n            }\n        }\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('v-navigation-drawer',{attrs:{\"temporary\":\"\",\"app\":\"\"},model:{value:(_vm.isDrawerVisible),callback:function ($$v) {_vm.isDrawerVisible=$$v},expression:\"isDrawerVisible\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-tile',{on:{\"click\":_vm.onOpenClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"open_in_browser\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Open...\")]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".json\"},on:{\"change\":_vm.onFileInputChanged}})],1)],1),_c('v-list-tile',{on:{\"click\":_vm.onSaveClicked}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Save...\")])],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onMenuIconClicked($event)}}}),_c('v-toolbar-title',[_vm._v(\"Asset Manager\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-select',{staticClass:\"my-3\",attrs:{\"items\":_vm.model.currencies,\"single-line\":\"\"},model:{value:(_vm.model.selectedCurrency),callback:function ($$v) {_vm.$set(_vm.model, \"selectedCurrency\", $$v)},expression:\"model.selectedCurrency\"}})],1)],1),_c('v-content',[_c('v-container',[_c('AssetList',{attrs:{\"value\":_vm.model}})],1)],1),_c('v-footer',{attrs:{\"app\":\"\",\"height\":\"auto\"}},[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-right pr-2\"},[_vm._v(\"\\n            Data Providers\\n          \")]),_c('v-flex',[_c('a',{staticClass:\"px-2\",attrs:{\"href\":\"https://coinmarketcap.com\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"./assets/coinmarketcap.svg\"),\"height\":\"12\",\"alt\":\"coinmarketcap.com\"}})]),_c('a',{staticClass:\"px-2\",attrs:{\"href\":\"https://blockchain.info\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"./assets/blockchain.svg\"),\"height\":\"12\",\"alt\":\"blockchain.info\"}})]),_c('a',{staticClass:\"px-2\",attrs:{\"href\":\"https://quandl.com\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"./assets/quandl.svg\"),\"height\":\"12\",\"alt\":\"quandl.com\"}})])]),_c('v-spacer'),_c('v-flex',[_c('a',{staticClass:\"px-2\",attrs:{\"href\":\"https://github.com/andreashuber69/asset-manager\",\"target\":\"_blank\"}},[_vm._v(\"\\n              GitHub\\n            \")])])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('AssetEditor',{ref:\"editor\",attrs:{\"value\":_vm.checkedValue}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"items\":_vm.checkedValue.assets,\"pagination\":_vm.pagination,\"loading\":_vm.isLoading,\"hide-actions\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [_c('th',{class:['text-xs-left column sortable', _vm.sortDirection, _vm.getActive('type')],on:{\"click\":function($event){_vm.changeSort('type')}}},[_vm._v(\"\\n        Type \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:['hidden-xs-only text-xs-left column sortable', _vm.sortDirection, _vm.getActive('description')],on:{\"click\":function($event){_vm.changeSort('description')}}},[_vm._v(\"\\n        Description \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{class:['hidden-md-and-down text-xs-left column sortable', _vm.sortDirection, _vm.getActive('location')],on:{\"click\":function($event){_vm.changeSort('location')}}},[_vm._v(\"\\n        Location \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")])],1),_c('th',{staticClass:\"hidden-sm-and-down text-xs-left\"},[_vm._v(\"Unit\")]),_c('th',{staticClass:\"hidden-md-and-down\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"Fineness\")]),_c('th',{staticClass:\"hidden-sm-and-down\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"Unit Value\"),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.selectedCurrency)+\")\")]),_c('th',{staticClass:\"hidden-sm-and-down\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"Quantity\")]),_c('th',{class:['total column sortable', _vm.sortDirection, _vm.getActive('totalValue')],attrs:{\"colspan\":\"2\"},on:{\"click\":function($event){_vm.changeSort('totalValue')}}},[_vm._v(\"\\n        Total Value \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_c('br'),_vm._v(\"(\"+_vm._s(_vm.checkedValue.selectedCurrency)+\")\\n      \")],1),_c('th',[_vm._v(\"Actions\")])]}},{key:\"items\",fn:function(props){return [_c('AssetListRow',{attrs:{\"value\":props.item},on:{\"edit\":_vm.onEdit,\"delete\":_vm.onDelete}})]}}])},[_c('v-progress-linear',{attrs:{\"slot\":\"progress\",\"indeterminate\":\"\"},slot:\"progress\"}),_c('template',{slot:\"footer\"},[_c('td',{staticClass:\"total\"},[_vm._v(\"Grand Total\")]),_c('td',{staticClass:\"hidden-xs-only\"}),_c('td',{staticClass:\"hidden-md-and-down\"}),_c('td',{staticClass:\"hidden-sm-and-down\"}),_c('td',{staticClass:\"hidden-md-and-down\",attrs:{\"colspan\":\"2\"}}),_c('td',{staticClass:\"hidden-sm-and-down\",attrs:{\"colspan\":\"2\"}}),_c('td',{staticClass:\"hidden-sm-and-down\",attrs:{\"colspan\":\"2\"}}),_c('td',{staticClass:\"text-xs-right pr-0 total\"},[_vm._v(_vm._s(_vm.totalValueInteger))]),_c('td',{staticClass:\"text-xs-left pl-0 total\"},[_vm._v(_vm._s(_vm.totalValueFraction))]),_c('td')])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"800px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-btn',{staticClass:\"mb-2\",attrs:{\"slot\":\"activator\",\"color\":\"primary\",\"dark\":\"\"},slot:\"activator\"},[_vm._v(\"New Asset\")]),_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))])]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('Select',{attrs:{\"large\":\"\",\"info\":_vm.typeInputInfo},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"description\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"location\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"address\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weight\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('Select',{attrs:{\"info\":_vm.assetInfo,\"property\":\"weightUnit\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"fineness\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('TextField',{attrs:{\"info\":_vm.assetInfo,\"property\":\"quantity\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onResetClicked($event)}}},[_vm._v(\"Reset\")]),_c('v-spacer'),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onSaveClicked($event)}}},[_vm._v(\"Save\")]),_c('v-btn',{nativeOn:{\"click\":function($event){return _vm.onCancelClicked($event)}}},[_vm._v(\"Cancel\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { ISerializedAsset } from \"./AssetInterfaces\";\n\n/**\n * Defines the base of all classes that represent a bundle of assets.\n * @description This is most commonly used in conjunction with crypto currencies, where one address can hold a balance\n * of multiple currencies. For example, a BTC address could potentially hold balances of BTC, BCH, BTG, BCD and so on.\n */\nexport abstract class AssetBundle {\n    /** Provides the bundled assets. */\n    public abstract get assets(): Asset[];\n\n    /** Deletes `asset` from [[assets]]. */\n    public abstract deleteAsset(asset: Asset): void;\n\n    /** @internal */\n    public abstract toJSON(): ISerializedAsset[];\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Unknown } from \"./Value\";\n\n/** @internal */\nexport class QueryCache {\n    /** @internal */\n    public static fetch(query: string) {\n        let result = this.cache.get(query);\n\n        if (!result) {\n            result = this.fetchImpl(query);\n            this.cache.set(query, result);\n        }\n\n        return result;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly cache = new Map<string, Promise<Unknown | null>>();\n\n    private static async fetchImpl(query: string) {\n        try {\n            return JSON.parse(await (await window.fetch(query)).text()) as Unknown | null;\n        } catch {\n            // It appears that after catch (e), e is sometimes undefined at this point, which is why we go with plain\n            // catch.\n            return { error: \"Can't fetch or parse response.\" };\n        }\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\ntype Primitive = boolean | number | string | symbol;\n\n/**\n * Represents a value of unknown type.\n * @description This is a safe alternative to the built-in type `any`. While `any` is perfect for expressing that a\n * value can be anything, `any` has the problem that the compiler silently accepts just about all operations involving\n * values of type `any`. This type aims at retaining the former quality while doing away with the latter. Unlike `any`,\n * a value of this type cannot be `null` or `undefined`. Therefore, parameters or variables needing to include either\n * (or both) can use an appropriate unit type, e.g. `Unknown | null | undefined`.\n * [[Unknown]] = {} would be a more sensible definition as any type is assignable to an empty interface. However, it\n * appears that tslint is currently unable to handle such a type definition correctly. More precisely, the rule\n * `strict-type-predicates` often reports false positives. With the current definition, there are still some false\n * positives but much fewer.\n */\nexport type Unknown = Primitive | object;\n\n/**\n * Provides methods aimed at the type-safe analysis of values of unknown origin.\n * @description This is primarily useful for picking apart values coming from `JSON.parse`.\n */\nexport class Value {\n    /**\n     * Returns whether the type of `value` is `Object`.\n     * @description This is only useful if calling code needs to iterate over the properties of `value`. Code that needs\n     * to establish whether `value` has a property with a given name and type should rather call [[hasNumberProperty]],\n     * [[hasStringProperty]], [[hasObjectProperty]] or [[hasArrayProperty]].\n     */\n    public static isObject(value: Unknown | null | undefined): value is { [key: string]: Unknown | null | undefined } {\n        return value instanceof Object;\n    }\n\n    /** Returns whether the type of `value` is `Array`. */\n    public static isArray(value: Unknown | null | undefined): value is Array<Unknown | null | undefined> {\n        return Array.isArray(value);\n    }\n\n    /** Returns whether `value` has an own property of type `number` with the name `propertyName`. */\n    public static hasNumberProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: number } {\n        // False positive\n        // tslint:disable-next-line:strict-type-predicates\n        return this.hasProperty(value, propertyName) && (typeof value[propertyName] === \"number\");\n    }\n\n    /** Returns whether `value` has an own property of type `string` with the name `propertyName`. */\n    public static hasStringProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: string } {\n        // False positive\n        // tslint:disable-next-line:strict-type-predicates\n        return this.hasProperty(value, propertyName) && (typeof value[propertyName] === \"string\");\n    }\n\n    /** Returns whether `value` has an own property of type `Object` with the name `propertyName`. */\n    public static hasObjectProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Unknown | null | undefined } {\n        return this.hasProperty(value, propertyName) && this.isObject(value[propertyName]);\n    }\n\n    /** Returns whether `value` has an own property of type `Array` with the name `propertyName`. */\n    public static hasArrayProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Array<Unknown | null | undefined> } {\n        return this.hasProperty(value, propertyName) && this.isArray(value[propertyName]);\n    }\n\n    /** @internal */\n    public static getPropertyTypeMismatch<T>(propertyName: string, actual: Unknown | null | undefined, expected: T) {\n        if (this.isObject(actual)) {\n            return this.addPropertyName(propertyName, this.getTypeMismatch(actual[propertyName], expected));\n        } else {\n            return this.getTypeMismatch(actual, {});\n        }\n    }\n\n    /** @internal */\n    public static getTypeMismatch<T>(actual: Unknown | null | undefined, expected: T) {\n        const actualType = Value.getTypeName(actual);\n        const expectedType = Value.getTypeName(expected);\n\n        return `The actual type ${actualType} does not match the expected type ${expectedType}.`;\n    }\n\n    /** @internal */\n    public static getUnknownValue(propertyName: string, value: string) {\n        return this.addPropertyName(propertyName, `Unknown value '${value}'.`);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static hasProperty<T extends string>(\n        value: Unknown | null | undefined, propertyName: T): value is { [K in T]: Unknown | null | undefined } {\n        return this.isObject(value) && value.hasOwnProperty(propertyName);\n    }\n\n    private static addPropertyName(propertyName: string, rest: string) {\n        return `'${propertyName}': ${rest}`;\n    }\n\n    private static getTypeName(value: any) {\n        if (value === null) {\n            return \"null\";\n        }\n\n        const type = typeof value;\n\n        return type === \"object\" ? (Array.isArray(value) ? \"Array\" : \"Object\") : type;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents the result returned by [[BlockchainRequest.execute]]. */\nexport interface IBalance {\n    /** Provides the sum of the final BTC balance of the addresses passed to the constructor. */\n    readonly finalBalance: number;\n\n    /** Provides the sum of the transactions found for the addresses passed to the constructor. */\n    readonly transactionCount: number;\n}\n\n/** Represents a single blockchain.info request. */\nexport class BlockchainRequest implements IWebRequest<IBalance> {\n    /** Creates a new [[BlockchainRequest]] instance.\n     *  @param addresses The addresses to query the balance for.\n     */\n    public constructor(addresses: string[]) {\n        this.addresses = addresses.join(\"|\");\n    }\n\n    public async execute() {\n        return BlockchainRequest.getFinalBalance(\n            await QueryCache.fetch(`https://blockchain.info/balance?active=${this.addresses}&cors=true`));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getFinalBalance(response: Unknown | null) {\n        const result = { finalBalance: Number.NaN, transactionCount: 0 };\n\n        if (Value.isObject(response)) {\n            for (const address in response) {\n                if (response.hasOwnProperty(address)) {\n                    const balance = response[address];\n\n                    if (Value.hasNumberProperty(balance, \"final_balance\") && Value.hasNumberProperty(balance, \"n_tx\")) {\n                        result.transactionCount += balance.n_tx;\n                        result.finalBalance = (Number.isNaN(result.finalBalance) ? 0 : result.finalBalance) +\n                            balance.final_balance / 100000000;\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    private readonly addresses: string;\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetUnion, ISerializedAsset } from \"./AssetInterfaces\";\nimport { AssetTypes } from \"./AssetTypes\";\n\n/** @internal */\nexport interface IModel {\n    readonly exchangeRate: number | undefined;\n}\n\n/** Defines the common editable properties of all assets. */\nexport interface IAssetProperties {\n    /** Provides the asset description, e.g. 'Bars', 'Coins', 'Spending', 'Savings'. */\n    readonly description: string;\n\n    /** Provides the location of the asset, e.g. 'Safe', 'Safety Deposit Box', 'Mobile Phone', 'Hardware Wallet'. */\n    readonly location: string;\n\n    /** Provides the asset quantity. */\n    readonly quantity?: number;\n}\n\n/** Defines the base of all classes that represent an asset. */\nexport abstract class Asset {\n    /** Provides the parent model to which this asset belongs. */\n    public readonly parent: IModel;\n\n    /** Provides the type of asset, e.g. 'Silver, 'Gold', 'Bitcoin Wallet', 'Litecoin Wallet'. */\n    public abstract get type(): AssetTypes;\n\n    /** Provides the asset description, e.g. 'Bars', 'Coins', 'Spending', 'Savings'. */\n    public readonly description: string;\n\n    /** Provides the location of the asset, e.g. 'Safe', 'Safety Deposit Box', 'Mobile Phone', 'Hardware Wallet'. */\n    public readonly location: string;\n\n    /** Provides further information on the location. */\n    public get locationHint() {\n        return \"\";\n    }\n\n    /** Provides the unit of the quantity, e.g. '1 t oz', '10 g', 'BTC'. */\n    public abstract get unit(): string;\n\n    /** Provides the fineness, e.g. 0.999. For anything other than precious metals this is always undefined. */\n    public abstract get fineness(): number | undefined;\n\n    /** Provides the asset quantity. */\n    public abstract get quantity(): number | undefined;\n\n    /** @internal */\n    public get unitValue() {\n        return Asset.multiply(this.unitValueUsd, this.parent.exchangeRate);\n    }\n\n    /** @internal */\n    public get totalValue() {\n        return Asset.multiply(this.quantity, this.unitValue);\n    }\n\n    /** @internal */\n    public abstract get interface(): IAssetUnion;\n\n    /** @internal */\n    public abstract toJSON(): ISerializedAsset;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected unitValueUsd: number | undefined = undefined;\n\n    /**\n     * Creates a new [[Asset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The asset properties.\n     * @param quantityDecimals The number of decimals to use to format the quantity.\n     */\n    protected constructor(parent: IModel, properties: IAssetProperties, public readonly quantityDecimals: number) {\n        this.parent = parent;\n        this.description = properties.description;\n        this.location = properties.location;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static multiply(factor1: number | undefined, factor2: number | undefined) {\n        return (factor1 === undefined) || (factor2 === undefined) ? undefined : factor1 * factor2;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a single coinmarketcap.com request. */\nexport class CoinMarketCapRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[CoinMarketCapRequest]] instance.\n     * @param coin The coin to query the current price for.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly coin: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        const price = CoinMarketCapRequest.getPrice(\n            await QueryCache.fetch(`https://api.coinmarketcap.com/v1/ticker/${this.coin}/`));\n\n        return this.invert ? 1 / price : price;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPrice(response: Unknown | null) {\n        if (Value.isArray(response) && (response.length === 1)) {\n            const value = response[0];\n\n            if (Value.hasStringProperty(value, \"price_usd\")) {\n                return Number.parseFloat(value.price_usd);\n            }\n        }\n\n        return  Number.NaN;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IAssetProperties, IModel } from \"./Asset\";\nimport { CoinMarketCapRequest } from \"./CoinMarketCapRequest\";\n\n/** Contains the defining properties common to all crypto currency wallets. */\nexport interface ICryptoWalletProperties extends IAssetProperties {\n    /** Provides the public address. */\n    readonly address?: string;\n}\n\n/** @internal */\nconst superType = \"Crypto Wallet\";\n\n/** @internal */\nexport interface ICryptoWallet extends ICryptoWalletProperties {\n    /** @internal */\n    readonly superType: typeof superType;\n}\n\n/** Defines the base of all classes that represent a crypto currency wallet. */\nexport abstract class CryptoWallet extends Asset implements ICryptoWallet {\n    /** @internal */\n    public static readonly superType = superType;\n\n    public readonly address?: string;\n\n    public get locationHint() {\n        return this.address ? this.address : \"\";\n    }\n\n    public get unit() {\n        return this.currencySymbol;\n    }\n\n    public get fineness() {\n        return undefined;\n    }\n\n    public quantity: number | undefined;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public readonly superType = CryptoWallet.superType;\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location,\n            address: this.address ? this.address : undefined,\n            quantity: this.address ? undefined : this.quantity,\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[CryptoWallet]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     * @param currencySymbol The crypto currency symbol, e.g. 'BTC', 'LTC'.\n     * @param quantityDecimals The number of decimals to use to format the quantity.\n     * @param coin The coinmarketcap.com identifier of the currency.\n     */\n    protected constructor(\n        parent: IModel,\n        properties: ICryptoWalletProperties,\n        private readonly currencySymbol: string,\n        quantityDecimals: number,\n        coin: string,\n    ) {\n        super(parent, properties, quantityDecimals);\n        this.address = properties.address;\n        this.quantity = properties.quantity;\n        this.queryUnitValue(coin).catch((reason) => console.error(reason));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private async queryUnitValue(coin: string) {\n        this.unitValueUsd = await new CoinMarketCapRequest(coin, false).execute();\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { HDNode } from \"bitcoinjs-lib\";\nimport { IModel } from \"./Asset\";\nimport { BlockchainRequest } from \"./BlockchainRequest\";\nimport { CryptoWallet, ICryptoWalletProperties } from \"./CryptoWallet\";\n\n/** Represents a BTC wallet. */\nexport class BtcWallet extends CryptoWallet {\n    public static readonly type = \"Bitcoin Wallet\";\n\n    public readonly type = BtcWallet.type;\n\n    /** Creates a new [[BtcWallet]] instance.\n     * @description If a non-empty string is passed for [[ICryptoProperties.address]], then an attempt is made to\n     * retrieve the wallet balance, which is then added to whatever is passed for [[ICryptoProperties.quantity]]. It\n     * therefore usually only makes sense specify either address or quantity, not both.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The crypto wallet properties.\n     */\n    public constructor(parent: IModel, properties: ICryptoWalletProperties) {\n        super(parent, properties, \"BTC\", 8, \"bitcoin\");\n        this.queryQuantity().catch((reason) => console.error(reason));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static delay(milliseconds: number) {\n        return new Promise<void>((resolve) => setTimeout(resolve, milliseconds));\n    }\n\n    private async queryQuantity() {\n        if (this.locationHint) {\n            // TODO: This is a crude test to distinguish between xpub and a normal address\n            if (this.locationHint.length <= 100) {\n                await this.add([ this.locationHint ]);\n            } else {\n                await BtcWallet.delay(1000);\n                // The following calls use a lot of CPU. By delaying first, we ensure that other queries can be sent,\n                // their respective responses received and even rendered in the UI before the CPU is blocked.\n                await this.addChain(0);\n                await this.addChain(1);\n            }\n        }\n    }\n\n    private async add(addresses: string[]) {\n        const result = await new BlockchainRequest(addresses).execute();\n        this.quantity = (this.quantity === undefined ? 0 : this.quantity) + result.finalBalance;\n\n        return result.transactionCount !== 0;\n    }\n\n    private async addChain(chain: number) {\n        let index = 0;\n        let batch: string[] | undefined;\n\n        // tslint:disable-next-line:no-empty\n        for (; await this.add(batch = this.getBatch(chain, index)); index += batch.length) {\n        }\n    }\n\n    private getBatch(chain: number, offset: number) {\n        const node = HDNode.fromBase58(this.locationHint).derive(chain);\n        const result = new Array<string>(20);\n\n        for (let index = 0; index < result.length; ++index) {\n            result[index] = node.derive(offset + index).getAddress();\n        }\n\n        return result;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AllAssetPropertyNames } from \"./AssetInterfaces\";\nimport { Unknown } from \"./Value\";\n\nexport type CompositeInput = { [K in AllAssetPropertyNames]?: Unknown | null };\nexport type Input = CompositeInput | Unknown | null | undefined;\n\nexport class InputUtility {\n    public static isComposite(input: Input): input is CompositeInput {\n        return input instanceof Object;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AllAssetPropertyNames } from \"./AssetInterfaces\";\nimport { CompositeInput, Input, InputUtility } from \"./Input\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown } from \"./Value\";\n\n/**\n * Defines the base for all classes that provide input information for a primitive or composite value.\n * @description Input information refers to data displayed in the UI (prompts, hints, whether a value is required, etc.)\n * as well as the means to validate input.\n */\nexport abstract class InputInfo {\n    /**\n     * Validates `value` or a property of `value`.\n     * @description As the type indicates, `value` can be of primitive or composite type. In the former case, `value`\n     * itself is validated. In the latter case, the value of the property with the passed name is validated. Either\n     * way, this method only ever validates a single primitive value.\n     * @returns `true` if the property value is valid; otherwise a string describing why the value is invalid.\n     */\n    public validate(strict: boolean, input: Input, propertyName?: AllAssetPropertyNames) {\n        if (InputUtility.isComposite(input)) {\n            return this.validateComposite(strict, input, propertyName);\n        } else {\n            return this.validatePrimitive(strict, input, propertyName);\n        }\n    }\n\n    /**\n     * Gets the [[PrimitiveInputInfo]] subclass object for a property.\n     * @description When implemented by [[PrimitiveInputInfo]], this method simply returns `this`.\n     * @throws `Error` if `T` does not match the type implied by `propertyName`.\n     */\n    public abstract get<T extends PrimitiveInputInfo>(ctor: { new(): T }, propertyName?: AllAssetPropertyNames): T;\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validatePrimitive(\n        strict: boolean, input: Unknown | undefined | null, propertyName?: AllAssetPropertyNames): true | string {\n        return \"A primitive value was provided when a composite one was expected.\";\n    }\n\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateComposite(\n        strict: boolean, input: CompositeInput, propertyName?: AllAssetPropertyNames): true | string {\n        return \"A composite value was provided when a primitive one was expected.\";\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AllAssetPropertyNames, IAllAssetProperties } from \"./AssetInterfaces\";\nimport { AssetTypes } from \"./AssetTypes\";\nimport { IAuxProperties } from \"./IAuxProperties\";\nimport { CompositeInput, InputUtility } from \"./Input\";\nimport { InputInfo } from \"./InputInfo\";\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { Unknown, Value } from \"./Value\";\n\ninterface IValidationResults extends IAuxProperties<true | string> {\n    [key: string]: true | string;\n}\n\nexport type CreateBundle = (parent: IModel, properties: IAllAssetProperties) => AssetBundle;\n/**\n * Defines how the properties of a given asset type need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport abstract class AssetInputInfo extends InputInfo implements IAuxProperties<PrimitiveInputInfo> {\n    public abstract get type(): \"\" | AssetTypes;\n\n    public abstract get description(): TextInputInfo;\n    public abstract get location(): TextInputInfo;\n    public abstract get address(): TextInputInfo;\n    public abstract get weight(): TextInputInfo;\n    public abstract get weightUnit(): SelectInputInfo;\n    public abstract get fineness(): TextInputInfo;\n    public abstract get quantity(): TextInputInfo;\n\n    /**\n     * @internal\n     * @description This is a property rather than a parameter of [[validate]], because [[validate]] is often\n     * (indirectly) called from a context where it is not known whether relations should be validated. For example,\n     * validation for Vuetify controls is specified by supplying a function to each control. Said function is then\n     * called while the bound value is modified in the control. However, the same function is also called when the\n     * whole form is validated. Obviously, relations should not be validated in the former case but they must be in the\n     * latter one.\n     */\n    public includeRelations = false;\n\n    /** @internal */\n    public createBundle(parent: IModel, properties: IAllAssetProperties) {\n        if (!this.createBundleCallback) {\n            throw new Error(\"No createBundleCallback was specified.\");\n        }\n\n        return this.createBundleCallback(parent, properties);\n    }\n\n    public get<T extends PrimitiveInputInfo>(ctor: { new(): T }, propertyName?: AllAssetPropertyNames): T {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite input.\");\n        }\n\n        const result = this[propertyName];\n\n        if (!(result instanceof ctor)) {\n            throw new Error(\n                `The requested type ${ctor.name} does not match the actual type of the property ${propertyName}.`);\n        }\n\n        return result;\n    }\n\n    public validateAll(input: Unknown) {\n        if (!InputUtility.isComposite(input)) {\n            return Value.getTypeMismatch(input, {});\n        }\n\n        this.includeRelations = true;\n\n        try {\n            const results: IValidationResults = {\n                description: this.validateComposite(true, input, \"description\"),\n                location: this.validateComposite(true, input, \"location\"),\n                address: this.validateComposite(true, input, \"address\"),\n                weight: this.validateComposite(true, input, \"weight\"),\n                weightUnit: this.validateComposite(true, input, \"weightUnit\"),\n                fineness: this.validateComposite(true, input, \"fineness\"),\n                quantity: this.validateComposite(true, input, \"quantity\"),\n            };\n\n            let message = \"\";\n\n            for (const key in results) {\n                if (results.hasOwnProperty(key)) {\n                    const result = results[key];\n\n                    if (result !== true) {\n                        message += `${key}: ${result}\n`;\n                    }\n                }\n            }\n\n            return message ? message : true;\n        } finally {\n            this.includeRelations = false;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(private readonly createBundleCallback?: CreateBundle) {\n        super();\n    }\n\n    /** @internal */\n    protected validateComposite(strict: boolean, input: CompositeInput, propertyName?: AllAssetPropertyNames) {\n        if (propertyName === undefined) {\n            throw new Error(\"The propertyName argument cannot be undefined for a composite value.\");\n        }\n\n        const singleResult = this[propertyName].validate(strict, input[propertyName], undefined);\n\n        return (singleResult === true) && this.includeRelations ?\n            this.validateRelations(input, propertyName) : singleResult;\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateRelations(input: CompositeInput, propertyName: AllAssetPropertyNames): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AllAssetPropertyNames } from \"./AssetInterfaces\";\nimport { InputInfo } from \"./InputInfo\";\nimport { Unknown } from \"./Value\";\n\n/** Defines the base for all classes that provide input information for a primitive value. */\nexport abstract class PrimitiveInputInfo extends InputInfo {\n    public get<T extends PrimitiveInputInfo>(ctor: { new(): T }, propertyName?: AllAssetPropertyNames): T {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive input.\");\n        }\n\n        if (!(this instanceof ctor)) {\n            throw new Error(`The requested type ${ctor.name} does not match the actual type.`);\n        }\n\n        return this;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** @internal */\n    protected constructor(\n        public readonly label: string, public readonly hint: string,\n        public readonly isPresent: boolean, public readonly isRequired: boolean) {\n        super();\n    }\n\n    /** @internal */\n    protected validatePrimitive(\n        strict: boolean, input: Unknown | undefined | null, propertyName?: AllAssetPropertyNames) {\n        if (propertyName !== undefined) {\n            throw new Error(\"The propertyName argument must be undefined for a primitive value.\");\n        }\n\n        if (!this.isPresent) {\n            return true;\n        }\n\n        if ((input === undefined) || (input === null) || ((typeof input === \"string\") && (input.length === 0))) {\n            return this.isRequired ? \"Please fill out this field.\" : true;\n        }\n\n        return this.validateContent(strict, input);\n    }\n\n    /** @internal */\n    // tslint:disable-next-line:prefer-function-over-method\n    protected validateContent(strict: boolean, input: Unknown): true | string {\n        return true;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\n\n/** Provides input information for a property where a valid value needs to be equal to one of a given list of values. */\nexport class SelectInputInfo extends PrimitiveInputInfo {\n    /** @internal */\n    public constructor(\n        label = \"\", hint = \"\", isPresent = false, isRequired = false, public readonly items: string[] = []) {\n        super(label, hint, isPresent, isRequired);\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { PrimitiveInputInfo } from \"./PrimitiveInputInfo\";\nimport { Unknown } from \"./Value\";\n\n/**\n * Provides input information for a property where a valid value either needs to be a number with certain constraints\n * (minimum, maximum, step) or text.\n */\nexport class TextInputInfo extends PrimitiveInputInfo {\n    /** @internal */\n    public constructor(\n        label = \"\", hint = \"\", isPresent = false, isRequired = false,\n        public readonly min?: number, public readonly max?: number, public step?: number) {\n        super(label, hint, isPresent, isRequired);\n    }\n\n    public get type() {\n        return this.isNumber ? \"number\" : \"text\";\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * @internal\n     * @description This duplicates the validation a HTML input control (or a v-text-field) does out of the box. The\n     * duplication is necessary for the following reasons:\n     * - Some browsers localize the validation message. Since this application is in English only, users with a\n     *   non-English locale would get mixed languages in the UI.\n     * - We want to use exactly the same rules to validate file content.\n     */\n    protected validateContent(strict: boolean, input: Unknown) {\n        if ((typeof input !== \"string\") && (typeof input !== \"number\")) {\n            return \"Value must either be a number or a string.\";\n        }\n\n        if (strict && ((typeof input === \"number\") !== this.isNumber)) {\n            return `The actual type '${typeof input}' does not match ` +\n                `the expected type '${this.isNumber ? \"number\" : \"string\"}'.`;\n        }\n\n        if (this.isNumber) {\n            const numericValue = typeof input === \"number\" ? input : Number.parseFloat(input);\n\n            if ((this.min !== undefined) && (this.min - numericValue > Number.EPSILON)) {\n                return `Value must be greater than or equal to ${TextInputInfo.format(this.min)}.`;\n            }\n\n            if ((this.max !== undefined) && (numericValue - this.max > Number.EPSILON)) {\n                return `Value must be less than or equal to ${TextInputInfo.format(this.max)}.`;\n            }\n\n            const bottom = this.min !== undefined ? this.min : 0;\n            const step = this.step !== undefined ? this.step : 1;\n            const lower = Math.floor((numericValue - bottom) / step) * step + bottom;\n            const upper = lower + step;\n            // The calculations for the conditions below each involve at most 6 operations, each of which might produce\n            // a result that could be wrong by at most Number.EPSILON.\n            const maxError = TextInputInfo.getMaxError(upper, 6);\n\n            if ((numericValue - lower > maxError) && (upper - numericValue > maxError)) {\n                const lowerText = TextInputInfo.format(lower, 4);\n                const upperText = TextInputInfo.format(upper, 5);\n\n                return `Please enter a valid value. The two nearest valid values are ${lowerText} and ${upperText}.`;\n            }\n        }\n\n        return super.validateContent(strict, input);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get isNumber() {\n        return (this.min !== undefined) || (this.max !== undefined) || (this.step !== undefined);\n    }\n\n    private static format(value: number, epsilonFactor: number = 1) {\n        return value.toLocaleString(\n            undefined, { maximumFractionDigits: Math.floor(-Math.log10(this.getMaxError(value, epsilonFactor))) });\n    }\n\n    private static getMaxError(value: number, epsilonFactor: number = 1) {\n        return Math.max(Math.abs(value) * epsilonFactor, 1) * Number.EPSILON;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo, CreateBundle } from \"./AssetInputInfo\";\nimport { AllAssetPropertyNames } from \"./AssetInterfaces\";\nimport { CryptoWalletTypes } from \"./AssetTypes\";\nimport { CompositeInput } from \"./Input\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\n\n/**\n * Defines how the properties of a crypto currency wallet need to be input and validated and provides a method to create\n * a representation of the wallet.\n */\nexport class CryptoWalletInputInfo extends AssetInputInfo {\n    public readonly description = new TextInputInfo(\n        \"Description\", \"The purpose of the wallet, e.g. 'Spending', 'Savings', 'Cold Storage'.\", true, true);\n    public readonly location = new TextInputInfo(\n        \"Location\", \"The location of the wallet, e.g. 'Mobile Phone', 'Hardware Wallet', 'Safety Deposit Box'.\",\n        true, false);\n    public readonly address = new TextInputInfo(\n        \"Address\", \"The public address of the wallet (single address or xpub).\", true, false);\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo();\n    public readonly fineness = new TextInputInfo();\n    public readonly quantity: TextInputInfo;\n\n    /** @internal */\n    public constructor(public readonly type: CryptoWalletTypes, quantityDecimals: number, createBundle: CreateBundle) {\n        super(createBundle);\n        this.quantity = new TextInputInfo(\n            \"Quantity\", \"The amount in the wallet.\", true, false, 0, undefined, Math.pow(10, -quantityDecimals));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected validateRelations(input: CompositeInput, propertyName: AllAssetPropertyNames) {\n        if (((propertyName === \"address\") || (propertyName === \"quantity\")) && (!input.address === !input.quantity)) {\n            return `Please fill out either the ${this.address.label} or the ${this.quantity.label}.`;\n        }\n\n        return super.validateRelations(input, propertyName);\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IWebRequest } from \"./IWebRequest\";\nimport { QueryCache } from \"./QueryCache\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents a single quandl.com request. */\nexport class QuandlRequest implements IWebRequest<number> {\n    /**\n     * Creates a new [[QuandlRequest]] instance.\n     * @param path The path to query.\n     * @param invert Whether the returned price should be inverted.\n     */\n    public constructor(private readonly path: string, private readonly invert: boolean) {\n    }\n\n    public async execute() {\n        if (this.path.length > 0) {\n            const response = await QueryCache.fetch(\n                `https://www.quandl.com/api/v3/datasets/${this.path}?api_key=ALxMkuJx2XTUqsnsn6qK&rows=1`);\n            const price = QuandlRequest.getPrice(response);\n\n            return this.invert ? 1 / price : price;\n        } else {\n            return 1;\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getPrice(response: Unknown | null) {\n        if (Value.hasObjectProperty(response, \"dataset\") &&\n            Value.hasArrayProperty(response.dataset, \"data\") && response.dataset.data.length >= 1) {\n            const array = response.dataset.data[0];\n\n            if (Value.isArray(array) && (array.length >= 2) && (typeof array[1] === \"number\")) {\n                return array[1] as number;\n            }\n        }\n\n        return Number.NaN;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IAssetProperties, IModel } from \"./Asset\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { WeightUnit, WeightUnits } from \"./WeightUnit\";\n\n/** Contains the defining properties common to all precious metal assets. */\nexport interface IPreciousMetalAssetProperties extends IAssetProperties {\n    /** Provides the weight of a single item, expressed in `weightUnit`. */\n    readonly weight: number;\n\n    /** Provides the unit used for `weight`, e.g. [[TroyOunce]]. */\n    readonly weightUnit: WeightUnit;\n\n    /** Provides the fineness, e.g. 0.999. */\n    readonly fineness: number;\n}\n\n/** @internal */\nconst superType = \"Precious Metal\";\n\n/** @internal */\nexport interface IPreciousMetalAsset extends IPreciousMetalAssetProperties {\n    /** @internal */\n    readonly superType: typeof superType;\n}\n\n/** Defines the base of all classes that represent a precious metal asset. */\nexport abstract class PreciousMetalAsset extends Asset implements IPreciousMetalAsset {\n    /** @internal */\n    public static readonly superType = superType;\n\n    public readonly weight: number;\n\n    public readonly weightUnit: WeightUnit;\n\n    public get unit() {\n        return PreciousMetalAsset.getUnit(this.weight, this.weightUnit);\n    }\n\n    public readonly fineness: number;\n\n    public readonly quantity: number;\n\n    /** @internal */\n    public get interface() {\n        return this;\n    }\n\n    /** @internal */\n    public readonly superType = PreciousMetalAsset.superType;\n\n    /** @internal */\n    public toJSON() {\n        return {\n            type: this.type,\n            description: this.description,\n            location: this.location,\n            weight: this.weight,\n            weightUnit: this.weightUnit,\n            fineness: this.fineness,\n            quantity: this.quantity,\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a new [[PreciousMetalAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     * @param quandlPath The quandl asset path.\n     */\n    protected constructor(parent: IModel, properties: IPreciousMetalAssetProperties, quandlPath: string) {\n        super(parent, properties, 0);\n        this.weight = properties.weight;\n        this.weightUnit = properties.weightUnit;\n        this.fineness = properties.fineness;\n        this.quantity = properties.quantity !== undefined ? properties.quantity : Number.NaN;\n        this.pureGramsPerUnit = this.weight * this.weightUnit * this.fineness;\n        this.queryUnitValue(quandlPath).catch((reason) => console.error(reason));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getUnit(weight: number, unit: WeightUnit) {\n        return `${weight.toFixed(0)} ${WeightUnits.toString(unit)}`;\n    }\n\n    private readonly pureGramsPerUnit: number;\n\n    private async queryUnitValue(quandlPath: string) {\n        this.unitValueUsd =\n            this.pureGramsPerUnit / WeightUnit.TroyOunce * await new QuandlRequest(quandlPath, false).execute();\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { IPreciousMetalAssetProperties, PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of gold. */\nexport class GoldAsset extends PreciousMetalAsset {\n    public static readonly type = \"Gold\";\n\n    public readonly type = GoldAsset.type;\n\n    /**\n     * Creates a new [[GoldAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     */\n    public constructor(parent: IModel, properties: IPreciousMetalAssetProperties) {\n        super(parent, properties, \"lbma/gold.json\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo, CreateBundle } from \"./AssetInputInfo\";\nimport { PreciousMetalAssetTypes } from \"./AssetTypes\";\nimport { SelectInputInfo } from \"./SelectInputInfo\";\nimport { TextInputInfo } from \"./TextInputInfo\";\nimport { WeightUnits } from \"./WeightUnit\";\n\n/**\n * Defines how the properties of a precious metal asset need to be input and validated and provides a method to create a\n * representation of the asset.\n */\nexport class PreciousMetalAssetInputInfo extends AssetInputInfo {\n    public readonly description = new TextInputInfo(\n        \"Description\", \"The shape of the items, e.g. 'Coins', 'Bars'.\", true, true);\n    public readonly location = new TextInputInfo(\n        \"Location\", \"The location, e.g. 'Safe', 'Safety Deposit Box'.\", true, false);\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo(\n        \"Weight\", \"The weight of a single item, expressed in Unit.\", true, true, 1e-3, undefined, 1e-3);\n    public readonly weightUnit = new SelectInputInfo(\n        \"Unit\", \"The unit Weight is expressed in.\", true, true, Array.from(WeightUnits.getAllStrings()));\n    public readonly fineness = new TextInputInfo(\n        \"Fineness\", \"The precious metal fineness.\", true, true, 0.5, 1 - 1e-6, 1e-6);\n    public readonly quantity = new TextInputInfo(\"Quantity\", \"The number of items.\", true, true, 0);\n\n    /** @internal */\n    public constructor(public readonly type: PreciousMetalAssetTypes, createBundle: CreateBundle) {\n        super(createBundle);\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IModel } from \"./Asset\";\nimport { IPreciousMetalAssetProperties, PreciousMetalAsset } from \"./PreciousMetalAsset\";\n\n/** Represents an asset made of silver. */\nexport class SilverAsset extends PreciousMetalAsset {\n    public static readonly type = \"Silver\";\n\n    public readonly type = SilverAsset.type;\n\n    /**\n     * Creates a new [[SilverAsset]] instance.\n     * @param parent The parent model to which this asset belongs.\n     * @param properties The precious metal asset properties.\n     */\n    public constructor(parent: IModel, properties: IPreciousMetalAssetProperties) {\n        super(parent, properties, \"lbma/silver.json\");\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\n\n/** Defines a bundle containing a single asset. */\nexport class SingleAssetBundle extends AssetBundle {\n    public readonly assets: Asset[];\n\n    /**\n     * Creates a new [[SingleAssetBundle]] instance.\n     * @param asset The asset to bundle.\n     */\n    public constructor(asset: Asset) {\n        super();\n        this.assets = [ asset ];\n    }\n\n    public deleteAsset(asset: Asset) {\n        const index = this.assets.indexOf(asset);\n\n        if (index >= 0) {\n            this.assets.splice(index, 1);\n        }\n    }\n\n    /** @internal */\n    public toJSON() {\n        return this.assets.map((asset) => asset.toJSON());\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Asset, IModel } from \"./Asset\";\nimport { AssetBundle } from \"./AssetBundle\";\nimport { AssetInputInfo } from \"./AssetInputInfo\";\nimport { IAllAssetProperties } from \"./AssetInterfaces\";\nimport { BtcWallet } from \"./BtcWallet\";\nimport { CoinMarketCapRequest } from \"./CoinMarketCapRequest\";\nimport { CryptoWalletInputInfo } from \"./CryptoWalletInputInfo\";\nimport { GoldAsset } from \"./GoldAsset\";\nimport { IWebRequest } from \"./IWebRequest\";\nimport { PreciousMetalAssetInputInfo } from \"./PreciousMetalAssetInputInfo\";\nimport { QuandlRequest } from \"./QuandlRequest\";\nimport { SilverAsset } from \"./SilverAsset\";\nimport { SingleAssetBundle } from \"./SingleAssetBundle\";\nimport { Unknown, Value } from \"./Value\";\n\n/** Represents the main model of the application. */\nexport class Model implements IModel {\n    /** Provides information objects for each of the supported asset types. */\n    public static readonly assetInfos: AssetInputInfo[] = [\n        new CryptoWalletInputInfo(BtcWallet.type, 8, (m, p) => Model.createBundle(m, p, BtcWallet)),\n        new PreciousMetalAssetInputInfo(SilverAsset.type, (m, p) => Model.createBundle(m, p, SilverAsset)),\n        new PreciousMetalAssetInputInfo(GoldAsset.type, (m, p) => Model.createBundle(m, p, GoldAsset)),\n    ];\n\n    /**\n     * Returns a [[Model]] object that is equivalent to the passed JSON string or returns a string that describes why\n     * the parse process failed.\n     * @description This is typically called with a string that was returned by [[toJsonString]].\n     * @param json The string to parse\n     * @param onChanged The handler to pass to the [[Model]] constructor.\n     */\n    public static parse(json: string, onChanged: () => void) {\n        let rawModel: Unknown | null;\n\n        try {\n            rawModel = JSON.parse(json) as Unknown | null;\n        } catch (e) {\n            return (e as Error).message;\n        }\n\n        const selectedCurrencyName = \"selectedCurrency\";\n\n        if (!Value.hasStringProperty(rawModel, selectedCurrencyName)) {\n            return Value.getPropertyTypeMismatch(selectedCurrencyName, rawModel, \"\");\n        }\n\n        const model = new Model(onChanged);\n        const selectedCurrency = rawModel.selectedCurrency;\n\n        if (model.currencies.findIndex((currency) => currency === selectedCurrency) < 0) {\n            return Value.getUnknownValue(selectedCurrencyName, selectedCurrency);\n        }\n\n        const bundlesName = \"bundles\";\n\n        if (!Value.hasArrayProperty(rawModel, bundlesName)) {\n            return Value.getPropertyTypeMismatch(bundlesName, rawModel, []);\n        }\n\n        model.selectedCurrency = selectedCurrency;\n\n        for (const rawBundle of rawModel.bundles) {\n            if (!Value.isArray(rawBundle)) {\n                return Value.getTypeMismatch(rawBundle, []);\n            }\n\n            for (const rawAsset of rawBundle) {\n                const bundle = Model.parseAsset(model, rawAsset);\n\n                if (!(bundle instanceof AssetBundle)) {\n                    return bundle;\n                }\n\n                model.bundles.push(bundle);\n            }\n        }\n\n        return model;\n    }\n\n    /** Provides the available currencies to value the assets in. */\n    public get currencies() {\n        return Array.from(Model.currencyMap.keys());\n    }\n\n    /** Provides the selected currency. */\n    public get selectedCurrency() {\n        return this.selectedCurrencyImpl;\n    }\n\n    /** Provides the selected currency. */\n    public set selectedCurrency(currency: string) {\n        this.selectedCurrencyImpl = currency;\n        this.onCurrencyChanged().catch((reason) => console.error(reason));\n    }\n\n    /** Provides the assets to value. */\n    public get assets() {\n        return this.bundles.reduce((result, bundle) => result.concat(bundle.assets), new Array<Asset>());\n    }\n\n    /**\n     * Provides the USD exchange rate of the currently selected currency (USDXXX, where XXX is the currently selected\n     * currency).\n     */\n    public exchangeRate: number | undefined = 1;\n\n    // tslint:disable-next-line:no-empty\n    public constructor(private readonly onChanged: () => void) {\n    }\n\n    /** Returns a JSON-formatted string representing the model. */\n    public toJsonString() {\n        return JSON.stringify(this, undefined, 2);\n    }\n\n    /** Adds `bundle` to the list of asset bundles. */\n    public addBundle(bundle: AssetBundle) {\n        this.bundles.push(bundle);\n        this.onChanged();\n    }\n\n    /** Deletes `asset`. */\n    public deleteAsset(asset: Asset) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(asset) >= 0);\n\n        if (index >= 0) {\n            const bundle = this.bundles[index];\n            bundle.deleteAsset(asset);\n\n            if (bundle.assets.length === 0) {\n                this.bundles.splice(index, 1);\n            }\n        }\n\n        this.onChanged();\n    }\n\n    /** Replaces the bundle containing `oldAsset` with `newBundle`. */\n    public replaceBundle(oldAsset: Asset, newBundle: AssetBundle) {\n        const index = this.bundles.findIndex((b) => b.assets.indexOf(oldAsset) >= 0);\n\n        if (index >= 0) {\n            // Apparently, Vue cannot detect the obvious way of replacing (this.bundles[index] = newBundle):\n            // https://codingexplained.com/coding/front-end/vue-js/array-change-detection\n            this.bundles.splice(index, 1, newBundle);\n        }\n\n        this.onChanged();\n    }\n\n    /** @internal */\n    public toJSON() {\n        return {\n            selectedCurrency: this.selectedCurrency,\n            bundles: this.bundles.map((bundle) => bundle.toJSON()),\n        };\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly currencyMap = new Map<string, IWebRequest<number>>([\n        [\"USD\", new QuandlRequest(\"\", false)],\n        [\"AUD\", new QuandlRequest(\"boe/xudladd.json\", false)],\n        [\"CAD\", new QuandlRequest(\"boe/xudlcdd.json\", false)],\n        [\"CNY\", new QuandlRequest(\"boe/xudlbk73.json\", false)],\n        [\"CHF\", new QuandlRequest(\"boe/xudlsfd.json\", false)],\n        [\"CZK\", new QuandlRequest(\"boe/xudlbk27.json\", false)],\n        [\"DKK\", new QuandlRequest(\"boe/xudldkd.json\", false)],\n        [\"GBP\", new QuandlRequest(\"boe/xudlgbd.json\", false)],\n        [\"HKD\", new QuandlRequest(\"boe/xudlhdd.json\", false)],\n        [\"HUF\", new QuandlRequest(\"boe/xudlbk35.json\", false)],\n        [\"INR\", new QuandlRequest(\"boe/xudlbk64.json\", false)],\n        [\"JPY\", new QuandlRequest(\"boe/xudljyd.json\", false)],\n        [\"KRW\", new QuandlRequest(\"boe/xudlbk74.json\", false)],\n        [\"LTL\", new QuandlRequest(\"boe/xudlbk38.json\", false)],\n        [\"MYR\", new QuandlRequest(\"boe/xudlbk66.json\", false)],\n        [\"NIS\", new QuandlRequest(\"boe/xudlbk65.json\", false)],\n        [\"NOK\", new QuandlRequest(\"boe/xudlnkd.json\", false)],\n        [\"NZD\", new QuandlRequest(\"boe/xudlndd.json\", false)],\n        [\"PLN\", new QuandlRequest(\"boe/xudlbk49.json\", false)],\n        [\"RUB\", new QuandlRequest(\"boe/xudlbk69.json\", false)],\n        [\"SAR\", new QuandlRequest(\"boe/xudlsrd.json\", false)],\n        [\"SEK\", new QuandlRequest(\"boe/xudlskd.json\", false)],\n        [\"SGD\", new QuandlRequest(\"boe/xudlsgd.json\", false)],\n        [\"THB\", new QuandlRequest(\"boe/xudlbk72.json\", false)],\n        [\"TRY\", new QuandlRequest(\"boe/xudlbk75.json\", false)],\n        [\"TWD\", new QuandlRequest(\"boe/xudltwd.json\", false)],\n        [\"ZAR\", new QuandlRequest(\"boe/xudlzrd.json\", false)],\n        [\"XAG\", new QuandlRequest(\"lbma/silver.json\", true)],\n        [\"XAU\", new QuandlRequest(\"lbma/gold.json\", true)],\n        [\"BTC\", new CoinMarketCapRequest(\"bitcoin\", true)],\n    ]);\n\n    private static createBundle(\n        parent: IModel, properties: IAllAssetProperties, ctor: { new (m: IModel, p: IAllAssetProperties): Asset }) {\n        return new SingleAssetBundle(new ctor(parent, properties));\n    }\n\n    private static parseAsset(model: IModel, rawAsset: Unknown | null | undefined) {\n        const typeName = \"type\";\n\n        if (!Value.hasStringProperty(rawAsset, typeName)) {\n            return Value.getPropertyTypeMismatch(typeName, rawAsset, \"\");\n        }\n\n        const assetInfo = this.assetInfos.find((info) => info.type === rawAsset.type);\n\n        if (!assetInfo) {\n            return Value.getUnknownValue(typeName, rawAsset.type);\n        }\n\n        const validationResult = assetInfo.validateAll(rawAsset);\n\n        if (!this.hasProperties(validationResult, rawAsset)) {\n            return validationResult;\n        }\n\n        return assetInfo.createBundle(model, rawAsset);\n    }\n\n    private static hasProperties(validationResult: true | string, raw: Unknown): raw is IAllAssetProperties {\n        return validationResult === true;\n    }\n\n    private readonly bundles = new Array<AssetBundle>();\n\n    private selectedCurrencyImpl = Model.currencyMap.keys().next().value;\n\n    private async onCurrencyChanged() {\n        this.exchangeRate = undefined;\n        const request = Model.currencyMap.get(this.selectedCurrency) as IWebRequest<number>;\n        this.exchangeRate = await request.execute();\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAssetUnion } from \"../model/AssetInterfaces\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { PreciousMetalAsset } from \"../model/PreciousMetalAsset\";\nimport { WeightUnits } from \"../model/WeightUnit\";\n\n/** Represents the data being edited in the asset editor. */\nexport class AssetEditorData implements IAuxProperties<string> {\n    public description: string;\n    public location: string;\n    public address: string;\n    public weight: string;\n    public weightUnit: string;\n    public fineness: string;\n    public quantity: string;\n\n    /** @internal */\n    public constructor(asset?: IAssetUnion) {\n        if (asset) {\n            this.description = asset.description;\n            this.location = asset.location;\n\n            if (asset.superType === PreciousMetalAsset.superType) {\n                this.address = \"\";\n                this.weight = asset.weight.toString();\n                this.weightUnit = WeightUnits.toString(asset.weightUnit);\n                this.fineness = asset.fineness.toString();\n                this.quantity = AssetEditorData.getQuantity(asset);\n            } else {\n                this.address = asset.address ? asset.address : \"\";\n                this.weight = \"\";\n                this.weightUnit = \"\";\n                this.fineness = \"\";\n                this.quantity = this.address ? \"\" : AssetEditorData.getQuantity(asset);\n            }\n        } else {\n            this.description = \"\";\n            this.location = \"\";\n            this.address = \"\";\n            this.weight = \"\";\n            this.weightUnit = \"\";\n            this.fineness = \"\";\n            this.quantity  = \"\";\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static getQuantity(asset: IAssetUnion) {\n        return asset.quantity !== undefined ? asset.quantity.toString() : \"\";\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { IAllAssetProperties } from \"../model/AssetInterfaces\";\nimport { WeightUnits } from \"../model/WeightUnit\";\nimport { AssetEditorData } from \"./AssetEditorData\";\n\n/**\n * Converts the data edited in the editor into the format necessary to construct [[Asset]] subclass objects.\n */\nexport class AssetProperties implements IAllAssetProperties {\n    public get description() {\n        return this.data.description;\n    }\n\n    public get location() {\n        return this.data.location;\n    }\n\n    public get address() {\n        return this.data.address ? this.data.address : undefined;\n    }\n\n    public get weight() {\n        return Number.parseFloat(this.data.weight);\n    }\n\n    public get weightUnit() {\n        return WeightUnits.toWeightUnit(this.data.weightUnit);\n    }\n\n    public get fineness() {\n        return Number.parseFloat(this.data.fineness);\n    }\n\n    public get quantity() {\n        return this.data.quantity ? Number.parseFloat(this.data.quantity) : undefined;\n    }\n\n    /** @internal */\n    public constructor(private readonly data: AssetEditorData) {\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop, Vue } from \"vue-property-decorator\";\n\n/** Defines common component functionality. */\n// tslint:disable-next-line:no-unsafe-any\nexport class ComponentBase<T> extends Vue {\n    @Prop()\n    // value should be declared as having the type T but doing so triggers the following issue, if T happens to be\n    // e.g. string: https://github.com/kaorun343/vue-property-decorator/issues/69\n    public value: undefined;\n\n    /**\n     * Provides the value.\n     * @description Provides whatever is set for `value`, but ensures that the value cannot be undefined.\n     */\n    public get checkedValue() {\n        if ((this.value as any) === undefined) {\n            throw new Error(\"No value set.\");\n        }\n\n        return (this.value as any) as T;\n    }\n\n    public set checkedValue(value: T) {\n        // tslint:disable-next-line:no-unsafe-any\n        this.$emit(\"input\", value);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /** Gets the control with the supplied ref. */\n    protected getControl(ref: string) {\n        // https://github.com/palantir/tslint/issues/3540\n        // tslint:disable-next-line:no-unsafe-any no-unnecessary-type-assertion\n        return this.$refs[ref] as Vue;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\n\n/**\n * Defines how an asset with no properties needs to be \"input\".\n * @description This is a virtual asset that is only useful to define how the [[AssetEditor]] UI looks like when no\n * asset type has been selected yet.\n */\nexport class NoAssetInputInfo extends AssetInputInfo {\n    public readonly type = \"\";\n    public readonly description = new TextInputInfo();\n    public readonly location = new TextInputInfo();\n    public readonly address = new TextInputInfo();\n    public readonly weight = new TextInputInfo();\n    public readonly weightUnit = new SelectInputInfo();\n    public readonly fineness = new TextInputInfo();\n    public readonly quantity = new TextInputInfo();\n\n    /** @internal */\n    public constructor() {\n        super();\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":!_vm.large}},[_c('v-select',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"items\":_vm.items,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Prop } from \"vue-property-decorator\";\nimport { AllAssetPropertyNames } from \"../model/AssetInterfaces\";\nimport { IAuxProperties } from \"../model/IAuxProperties\";\nimport { InputUtility } from \"../model/Input\";\nimport { InputInfo } from \"../model/InputInfo\";\nimport { PrimitiveInputInfo } from \"../model/PrimitiveInputInfo\";\nimport { ComponentBase } from \"./ComponentBase\";\n\n/** Defines the base for all controls that simplify common functionality like e.g. validation. */\nexport abstract class ControlBase<T extends PrimitiveInputInfo> extends ComponentBase<IAuxProperties<string> | string> {\n    @Prop()\n    public info?: InputInfo;\n\n    @Prop()\n    // property should be declared as having the type AllAssetPropertyNames but doing so triggers the following issue:\n    // https://github.com/kaorun343/vue-property-decorator/issues/69\n    public property: undefined;\n\n    public get isPresent() {\n        return this.primitiveInputInfo.isPresent;\n    }\n\n    public get isRequired() {\n        return this.primitiveInputInfo.isRequired;\n    }\n\n    public get label() {\n        return this.primitiveInputInfo.label;\n    }\n\n    public get hint() {\n        return this.primitiveInputInfo.hint;\n    }\n\n    public get propertyValue() {\n        return InputUtility.isComposite(this.checkedValue) ?\n            this.checkedValue[this.checkedProperty] : this.checkedValue;\n    }\n\n    public set propertyValue(value: string) {\n        if (InputUtility.isComposite(this.checkedValue)) {\n            this.checkedValue[this.checkedProperty] = value;\n        } else {\n            this.checkedValue = value;\n        }\n    }\n\n    public validate() {\n        return this.checkedInfo.validate(false, this.checkedValue, this.property);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected abstract get primitiveInputInfo(): T;\n\n    protected get checkedInfo() {\n        if (this.info === undefined) {\n            throw new Error(\"No info set!\");\n        }\n\n        return this.info;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get checkedProperty() {\n        if (this.property as any === undefined) {\n            throw new Error(\"No property set!\");\n        }\n\n        return this.property as any as AllAssetPropertyNames;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/** Implements a select control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class Select extends ControlBase<SelectInputInfo> {\n    @Prop()\n    public large?: boolean;\n\n    public get items() {\n        return this.primitiveInputInfo.items;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): SelectInputInfo {\n        return this.checkedInfo.get(SelectInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./Select.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=60a48c9a&scoped=true\"\nimport script from \"./Select.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./Select.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./Select.vue?vue&type=style&index=0&id=60a48c9a&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60a48c9a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPresent)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":_vm.label,\"hint\":_vm.hint,\"required\":_vm.isRequired,\"type\":_vm.type,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"rules\":[_vm.validate]},model:{value:(_vm.propertyValue),callback:function ($$v) {_vm.propertyValue=$$v},expression:\"propertyValue\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { TextInputInfo } from \"../model/TextInputInfo\";\nimport { ControlBase } from \"./ControlBase\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/** Implements a text field control that simplifies common functionality like e.g. validation. */\n// tslint:disable-next-line:no-default-export\nexport default class TextField extends ControlBase<TextInputInfo> {\n    public get type() {\n        return this.primitiveInputInfo.type;\n    }\n\n    public get min() {\n        return this.primitiveInputInfo.min;\n    }\n\n    public get max() {\n        return this.primitiveInputInfo.max;\n    }\n\n    public get step() {\n        return this.primitiveInputInfo.step;\n    }\n\n    /**\n     * @description This redundant method is only necessary because a method called from a template apparently needs to\n     * be a member of the class associated with the template.\n     */\n    public validate() {\n        return super.validate();\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    protected get primitiveInputInfo(): TextInputInfo {\n        return this.checkedInfo.get(TextInputInfo, this.property);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./TextField.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./TextField.vue?vue&type=template&id=65676c42&scoped=true\"\nimport script from \"./TextField.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./TextField.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./TextField.vue?vue&type=style&index=0&id=65676c42&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65676c42\",\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { Asset } from \"../model/Asset\";\nimport { AssetInputInfo } from \"../model/AssetInputInfo\";\nimport { Model } from \"../model/Model\";\nimport { SelectInputInfo } from \"../model/SelectInputInfo\";\nimport { AssetEditorData } from \"./AssetEditorData\";\nimport { AssetProperties } from \"./AssetProperties\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { NoAssetInputInfo } from \"./NoAssetInputInfo\";\nimport Select from \"./Select.vue\";\nimport TextField from \"./TextField.vue\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component({ components: { Select, TextField } })\n/** Implements the dialog used to edit assets. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetEditor extends ComponentBase<Model> {\n    /** Provides a value indicating whether the asset editor is currently open. */\n    public isOpen = false;\n\n    /** Provides the title of the asset editor. */\n    public get title() {\n        return this.editedAsset ? \"Edit Asset\" : \"New Asset\";\n    }\n\n    /** Provides the asset type input information. */\n    public get typeInputInfo() {\n        return new SelectInputInfo(\"Type\", \"\", true, true, Model.assetInfos.map((info) => info.type));\n    }\n\n    /** Provides the currently selected asset type. */\n    public get type() {\n        return this.assetInfo.type;\n    }\n\n    public set type(value: string) {\n        this.assetInfo = Model.assetInfos.find((info) => info.type === value) as AssetInputInfo;\n    }\n\n    /** Provides information about the currently selected asset type. */\n    public assetInfo: AssetInputInfo = new NoAssetInputInfo();\n\n    /** Provides the data currently displayed in the asset editor. */\n    public data = new AssetEditorData();\n\n    public onResetClicked(event: MouseEvent) {\n        this.reset();\n    }\n\n    public onSaveClicked(event: MouseEvent) {\n        if (this.isValid()) {\n            this.save();\n            this.close();\n        }\n    }\n\n    public onCancelClicked(event: MouseEvent) {\n        this.close();\n    }\n\n    /** @internal */\n    public edit(asset: Asset) {\n        this.editedAsset = asset;\n        this.assetInfo = Model.assetInfos.find((info) => info.type === asset.type) as AssetInputInfo;\n        this.data = new AssetEditorData(asset.interface);\n        this.isOpen = true;\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // tslint:disable-next-line:no-null-keyword\n    private editedAsset: Asset | null = null;\n\n    private reset() {\n        // TODO: Check whether the reset() call is even necessary.\n        // tslint:disable-next-line:no-unsafe-any\n        (this.getControl(\"form\") as any).reset();\n        this.data = new AssetEditorData();\n        this.assetInfo = new NoAssetInputInfo();\n    }\n\n    private isValid() {\n        this.assetInfo.includeRelations = true;\n\n        try {\n            // tslint:disable-next-line:no-unsafe-any\n            return (this.getControl(\"form\") as any).validate();\n        } finally {\n            this.assetInfo.includeRelations = false;\n        }\n    }\n\n    private save() {\n        const newBundle = this.assetInfo.createBundle(this.checkedValue, new AssetProperties(this.data));\n\n        if (this.editedAsset) {\n            this.checkedValue.replaceBundle(this.editedAsset, newBundle);\n        } else {\n            this.checkedValue.addBundle(newBundle);\n        }\n    }\n\n    private close() {\n        this.reset();\n        // tslint:disable-next-line:no-null-keyword\n        this.editedAsset = null;\n        this.isOpen = false;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetEditor.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AssetEditor.vue?vue&type=template&id=f7d4fe80&scoped=true\"\nimport script from \"./AssetEditor.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./AssetEditor.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./AssetEditor.vue?vue&type=style&index=0&id=f7d4fe80&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7d4fe80\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[_vm._v(_vm._s(_vm.checkedValue.type))]),_c('td',{staticClass:\"hidden-xs-only\"},[_vm._v(_vm._s(_vm.checkedValue.description))]),_c('td',{staticClass:\"hidden-md-and-down\",attrs:{\"title\":_vm.checkedValue.locationHint}},[_vm._v(_vm._s(_vm.checkedValue.location))]),_c('td',{staticClass:\"hidden-sm-and-down\"},[_vm._v(_vm._s(_vm.checkedValue.unit))]),_c('td',{staticClass:\"hidden-md-and-down text-xs-right pr-0\"},[_vm._v(_vm._s(_vm.finenessInteger))]),_c('td',{staticClass:\"hidden-md-and-down text-xs-left pl-0\"},[_vm._v(_vm._s(_vm.finenessFraction))]),_c('td',{staticClass:\"hidden-sm-and-down text-xs-right pr-0\"},[_vm._v(_vm._s(_vm.unitValueInteger))]),_c('td',{staticClass:\"hidden-sm-and-down text-xs-left pl-0\"},[_vm._v(_vm._s(_vm.unitValueFraction))]),_c('td',{staticClass:\"hidden-sm-and-down text-xs-right pr-0\"},[_vm._v(_vm._s(_vm.quantityInteger))]),_c('td',{staticClass:\"hidden-sm-and-down text-xs-left pl-0\"},[_vm._v(_vm._s(_vm.quantityFraction))]),_c('td',{staticClass:\"total text-xs-right pr-0\"},[_vm._v(_vm._s(_vm.totalValueInteger))]),_c('td',{staticClass:\"total text-xs-left pl-0\"},[_vm._v(_vm._s(_vm.totalValueFraction))]),_c('td',{staticClass:\"justify-center layout px-0\"},[_c('v-btn',{staticClass:\"mx-0\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.onEditClicked}},[_c('v-icon',{attrs:{\"color\":\"teal\"}},[_vm._v(\"edit\")])],1),_c('v-btn',{staticClass:\"mx-0\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.onDeleteClicked}},[_c('v-icon',{attrs:{\"color\":\"pink\"}},[_vm._v(\"delete_forever\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nexport class Format {\n    /** @internal */\n    public static integer(num: number | undefined, decimals: number) {\n        if ((num === undefined) || Number.isNaN(num)) {\n            return \"\";\n        } else {\n            const formatted = this.format(num, decimals);\n\n            return formatted.substring(0, this.getDecimalPointPosition(formatted));\n        }\n    }\n\n    /** @internal */\n    public static fraction(num: number | undefined, decimals: number) {\n        if (num === undefined) {\n            return \"Querying...\";\n        } else if (Number.isNaN(num)) {\n            return \"Error\";\n        } else {\n            const formatted = this.format(num, decimals);\n\n            return formatted.substring(this.getDecimalPointPosition(formatted));\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static format(num: number, decimals: number) {\n        return num.toLocaleString(\n            undefined, { maximumFractionDigits: decimals, minimumFractionDigits: decimals, useGrouping: true });\n    }\n\n    private static getDecimalPointPosition(formatted: string) {\n        const decimalPointPosition = formatted.lastIndexOf(\".\");\n\n        return decimalPointPosition < 0 ? formatted.length : decimalPointPosition;\n    }\n}\n","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { Asset } from \"../model/Asset\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component\n/**\n * Implements the UI for a single row of the asset list.\n * @description Most of the members split asset properties into the integral and fractional parts. This is necessary\n * so that the UI can justify the values on the decimal point.\n */\n// tslint:disable-next-line:no-default-export\nexport default class AssetListRow extends ComponentBase<Asset> {\n    public get finenessInteger() {\n        return this.checkedValue.fineness === undefined ? \"\" : Math.trunc(this.checkedValue.fineness);\n    }\n\n    public get finenessFraction() {\n        if (this.checkedValue.fineness === undefined) {\n            return \"\";\n        } else {\n            let fraction = (this.checkedValue.fineness % 1).toFixed(6).substr(1);\n\n            while (fraction.endsWith(\"0\")) {\n                fraction = fraction.substr(0, fraction.length - 1);\n            }\n\n            return fraction;\n        }\n    }\n\n    public get unitValueInteger() {\n        return Format.integer(this.checkedValue.unitValue, 2);\n    }\n\n    public get unitValueFraction() {\n        return Format.fraction(this.checkedValue.unitValue, 2);\n    }\n\n    public get quantityInteger() {\n        return Format.integer(this.checkedValue.quantity, this.checkedValue.quantityDecimals);\n    }\n\n    public get quantityFraction() {\n        return Format.fraction(this.checkedValue.quantity, this.checkedValue.quantityDecimals);\n    }\n\n    public get totalValueInteger() {\n        return Format.integer(this.checkedValue.totalValue, 2);\n    }\n\n    public get totalValueFraction() {\n        return Format.fraction(this.checkedValue.totalValue, 2);\n    }\n\n    /** Instructs the parent UI element to open the asset editor dialog with the given asset. */\n    public onEditClicked(event: MouseEvent) {\n        // tslint:disable-next-line:no-unsafe-any\n        this.$emit(\"edit\", this.checkedValue);\n    }\n\n    /** Instructs the parent UI element to delete the given asset from the list. */\n    public onDeleteClicked(event: MouseEvent) {\n        if (confirm(`Are you sure you want to delete ${this.checkedValue.type}: ${this.checkedValue.description}`)) {\n            // tslint:disable-next-line:no-unsafe-any\n            this.$emit(\"delete\", this.checkedValue);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetListRow.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AssetListRow.vue?vue&type=template&id=67ee829e&scoped=true\"\nimport script from \"./AssetListRow.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./AssetListRow.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./AssetListRow.vue?vue&type=style&index=0&id=67ee829e&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ee829e\",\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component } from \"vue-property-decorator\";\nimport { Asset } from \"../model/Asset\";\nimport { Model } from \"../model/Model\";\nimport AssetEditor from \"./AssetEditor.vue\";\nimport AssetListRow from \"./AssetListRow.vue\";\nimport { ComponentBase } from \"./ComponentBase\";\nimport { Format } from \"./Format\";\n\ntype SortableProperties = \"type\" | \"description\" | \"location\" | \"totalValue\";\ntype SortBy = \"\" | SortableProperties;\n\ninterface IPagination {\n    sortBy: SortBy;\n    descending: boolean;\n    rowsPerPage: -1;\n}\n\n// tslint:disable-next-line:no-unsafe-any\n@Component({ components: { AssetListRow, AssetEditor } })\n/** Implements the asset list UI. */\n// tslint:disable-next-line:no-default-export\nexport default class AssetList extends ComponentBase<Model> {\n    /** Provides the information required for sorting and paginating the table. */\n    public pagination: IPagination = { sortBy: \"\", descending: false, rowsPerPage: -1 };\n\n    /** Provides the current sort direction. */\n    public get sortDirection() {\n        return this.pagination.descending ? \"desc\" : \"asc\";\n    }\n\n    public get isLoading() {\n        return (this.totalValue === undefined);\n    }\n\n    public get totalValueInteger() {\n        return Format.integer(this.totalValue, 2);\n    }\n\n    public get totalValueFraction() {\n        return Format.fraction(this.totalValue, 2);\n    }\n\n    /** Gets the active status for the given property. */\n    public getActive(property: SortableProperties) {\n        return this.pagination.sortBy === property ? \"active\" : \"\";\n    }\n\n    /** Changes the sorting for the given property. */\n    public changeSort(property: SortableProperties) {\n        if (this.pagination.sortBy === property) {\n            if (this.pagination.descending) {\n                this.pagination.sortBy = \"\";\n            }\n\n            this.pagination.descending = !this.pagination.descending;\n        } else {\n            this.pagination.sortBy = property;\n            this.pagination.descending = false;\n        }\n    }\n\n    public onEdit(asset: Asset) {\n        (this.getControl(\"editor\") as AssetEditor).edit(asset);\n    }\n\n    public onDelete(asset: Asset) {\n        this.checkedValue.deleteAsset(asset);\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private get totalValue() {\n        if (this.checkedValue.assets.length === 0) {\n            return 0;\n        }\n\n        return this.checkedValue.assets.reduce<number | undefined>(\n            (s, a) => s === undefined ? a.totalValue : s + (a.totalValue === undefined ? 0 : a.totalValue), undefined);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!./AssetList.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AssetList.vue?vue&type=template&id=022fff8e&scoped=true\"\nimport script from \"./AssetList.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./AssetList.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./AssetList.vue?vue&type=style&index=0&id=022fff8e&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"022fff8e\",\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport AssetList from \"./components/AssetList.vue\";\nimport { Model } from \"./model/Model\";\n\n// tslint:disable-next-line:no-unsafe-any\n@Component({ components: { AssetList } })\n// tslint:disable-next-line:no-default-export no-unsafe-any\nexport default class App extends Vue {\n    public isDrawerVisible = false;\n    public model = App.parse(\n        App.loadFromLocalStorage(), () => this.onModelChanged(), new Model(() => this.onModelChanged()));\n\n    public onMenuIconClicked(event: MouseEvent) {\n        this.isDrawerVisible = !this.isDrawerVisible;\n    }\n\n    public onOpenClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        // tslint:disable-next-line:no-unsafe-any\n        (this.$refs.fileInput as HTMLInputElement).click();\n    }\n\n    public onSaveClicked(event: MouseEvent) {\n        this.isDrawerVisible = false;\n        const blob = new Blob([ this.model.toJsonString() ], { type : \"application/json\" });\n        App.write(\"MyAssets.json\", blob);\n    }\n\n    public async onFileInputChanged(event: Event) {\n        const files = (event.target as any).files as FileList;\n\n        if (files.length === 1) {\n            this.model = App.parse(await App.read(files[0]), () => this.onModelChanged(), this.model);\n        }\n\n        // tslint:disable-next-line:no-unsafe-any\n        (this.$refs.fileInput as HTMLInputElement).value = \"\";\n    }\n\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private static readonly localStorageKey = \"assets\";\n\n    private static write(filename: string, blob: Blob) {\n        if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveBlob(blob, filename);\n        } else {\n            const elem = window.document.createElement(\"a\");\n\n            // We should call window.URL.revokeObjectURL as soon as the user has either successfully downloaded the\n            // file or cancelled the download, but there seems to be no reliable way to detect these events. According\n            // to the docs the objects will be garbage collected anyway when the user closes the tab or navigates away.\n            // Given the currently small size of these downloads, not calling revokeObjectURL is probably good enough.\n            elem.href = window.URL.createObjectURL(blob);\n            elem.download = filename;\n            document.body.appendChild(elem);\n            elem.click();\n            document.body.removeChild(elem);\n        }\n    }\n\n    private static async read(blob: Blob) {\n        return new Promise<string>((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (ev) => resolve(reader.result as string);\n            reader.onerror = (ev) => reject(\"Unable to read file.\");\n            reader.readAsText(blob);\n        });\n    }\n\n    private static parse(json: string | null, onChanged: () => void, defaultModel: Model) {\n        const model = json ? Model.parse(json, onChanged) : undefined;\n\n        if (model instanceof Model) {\n            this.saveToLocalStorage(model.toJsonString());\n\n            return model;\n        } else if (model) {\n            alert(model);\n        }\n\n        return defaultModel;\n    }\n\n    private static saveToLocalStorage(json: string) {\n        window.localStorage.setItem(this.localStorageKey, json);\n    }\n\n    private static loadFromLocalStorage() {\n        return window.localStorage.getItem(this.localStorageKey);\n    }\n\n    private onModelChanged() {\n        App.saveToLocalStorage(this.model.toJsonString());\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=e1a92ad4\"\nimport script from \"./App.vue.ts?vue&type=script&lang=ts\"\nexport * from \"./App.vue.ts?vue&type=script&lang=ts\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Copyright (C) 2018 Andreas Huber Dönni\n//\n// This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public\n// License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later\n// version.\n//\n// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied\n// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License along with this program. If not, see\n// <http://www.gnu.org/licenses/>.\n\n// tslint:disable-next-line:no-import-side-effect no-implicit-dependencies no-submodule-imports\nimport \"material-design-icons-iconfont/dist/material-design-icons.css\";\nimport Vue from \"vue\";\nimport Vuetify from \"vuetify\";\n// tslint:disable-next-line:no-import-side-effect no-implicit-dependencies no-submodule-imports\nimport \"vuetify/dist/vuetify.min.css\";\nimport App from \"./App.vue\";\n\n// tslint:disable:no-unsafe-any\nVue.config.productionTip = false;\nVue.use(Vuetify);\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}